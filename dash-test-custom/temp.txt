133.33333333333331
Wait 0s before starting browser..
RmpcRule abrFetchThroughputCalculationFusion slidingWindow
now1 1698835742643
now2 1698835742784 file:///home/cjh/work/dash/dash.js/samples/low-latency/test.html
Waiting for player to setup.
[LOG] Waiting for stream to load.
'Quality changed requested'
{
  oldQuality: 0,
  newQuality: 2,
  reason: null,
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 1000000,
    width: 640,
    height: 360,
    scanType: null,
    qualityIndex: 2
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
[LOG] update buffer 1698835742983 0
[LOG] Load complete.
Waiting for 10 seconds of uninterrupted max-quality playback before starting.
Player is stable at the max quality, beginning network emulation
[INFO] Begin recording
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00018.m4s  time:  1698835743012  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 8.5,
    mediaStartTime: 8.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 17,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835742986,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835743268  cur buffer:  1698835742983 0
[LOG] update buffer 1698835743269 0
[LOG] get chunk:  2  time:  1698835743284  cur buffer:  1698835743269 0
[LOG] update buffer 1698835743285 0
[LOG] update buffer 1698835743303 0
[LOG] get chunk:  3  time:  1698835743316  cur buffer:  1698835743303 0
[LOG] update buffer 1698835743316 0
[LOG] get chunk:  4  time:  1698835743332  cur buffer:  1698835743316 0
[LOG] update buffer 1698835743333 0
[LOG] get chunk:  5  time:  1698835743369  cur buffer:  1698835743333 0
[LOG] update buffer 1698835743370 0
[LOG] get chunk:  6  time:  1698835743386  cur buffer:  1698835743370 0
[LOG] update buffer 1698835743387 0.002999000000000862
[LOG] update buffer 1698835743398 0.002700000000000813
[LOG] update buffer 1698835743400 0.0012959999999999638
[LOG] Stall now with currentBuffer=0.001
[LOG] get chunk:  7  time:  1698835743418  cur buffer:  1698835743400 0.001
[LOG] update buffer 1698835743419 0.03462999999999994
[LOG] get chunk:  8  time:  1698835743434  cur buffer:  1698835743419 0.035
[LOG] update buffer 1698835743436 0.057460999999999984
[LOG] Stall now with currentBuffer=0.057
[LOG] update buffer 1698835743437 0.057460999999999984
[LOG] get chunk:  9  time:  1698835743465  cur buffer:  1698835743437 0.057
[LOG] update buffer 1698835743466 0.06929599999999958
[LOG] get chunk:  10  time:  1698835743497  cur buffer:  1698835743466 0.069
[LOG] update buffer 1698835743498 0.0790690000000005
[LOG] get chunk:  11  time:  1698835743529  cur buffer:  1698835743498 0.079
[LOG] update buffer 1698835743529 0.08860199999999985
[LOG] get chunk:  12  time:  1698835743561  cur buffer:  1698835743529 0.089
[LOG] update buffer 1698835743561 0.098414
[LOG] get chunk:  13  time:  1698835743609  cur buffer:  1698835743561 0.098
[LOG] update buffer 1698835743609 0.09575899999999926
[LOG] get chunk:  14  time:  1698835743657  cur buffer:  1698835743609 0.096
[LOG] update buffer 1698835743657 0.09331899999999926
[LOG] update buffer 1698835743663 0.0894440000000003
[LOG] update buffer 1698835743694 0.06545000000000023
[LOG] get chunk:  15  time:  1698835743705  cur buffer:  1698835743694 0.065
[LOG] index:  0 startts:  1698835742987 ts:  1698835743028 bytes:  1494 total time:  677
[LOG] index:  1 startts:  1698835743043 ts:  1698835743043 bytes:  1500 total time:  677
[LOG] index:  2 startts:  1698835743075 ts:  1698835743075 bytes:  1500 total time:  677
[LOG] index:  3 startts:  1698835743091 ts:  1698835743091 bytes:  1500 total time:  677
[LOG] index:  4 startts:  1698835743107 ts:  1698835743107 bytes:  1500 total time:  677
[LOG] index:  5 startts:  1698835743124 ts:  1698835743124 bytes:  1500 total time:  677
[LOG] index:  6 startts:  1698835743139 ts:  1698835743139 bytes:  1500 total time:  677
[LOG] index:  7 startts:  1698835743155 ts:  1698835743155 bytes:  1500 total time:  677
[LOG] index:  8 startts:  1698835743172 ts:  1698835743172 bytes:  1500 total time:  677
[LOG] index:  9 startts:  1698835743188 ts:  1698835743188 bytes:  1500 total time:  677
[LOG] index:  10 startts:  1698835743203 ts:  1698835743203 bytes:  1500 total time:  677
[LOG] index:  11 startts:  1698835743219 ts:  1698835743219 bytes:  1500 total time:  677
[LOG] index:  12 startts:  1698835743236 ts:  1698835743236 bytes:  1500 total time:  677
[LOG] index:  13 startts:  1698835743252 ts:  1698835743252 bytes:  1500 total time:  677
[LOG] index:  14 startts:  1698835743267 ts:  1698835743267 bytes:  1500 total time:  677
[LOG] index:  15 startts:  1698835743284 ts:  1698835743284 bytes:  1500 total time:  677
[LOG] index:  16 startts:  1698835743300 ts:  1698835743300 bytes:  1500 total time:  677
[LOG] index:  17 startts:  1698835743316 ts:  1698835743316 bytes:  1500 total time:  677
[LOG] index:  18 startts:  1698835743332 ts:  1698835743332 bytes:  1500 total time:  677
[LOG] index:  19 startts:  1698835743353 ts:  1698835743353 bytes:  1500 total time:  677
[LOG] index:  20 startts:  1698835743369 ts:  1698835743369 bytes:  1500 total time:  677
[LOG] index:  21 startts:  1698835743386 ts:  1698835743386 bytes:  1500 total time:  677
[LOG] index:  22 startts:  1698835743404 ts:  1698835743404 bytes:  1500 total time:  677
[LOG] index:  23 startts:  1698835743418 ts:  1698835743418 bytes:  1500 total time:  677
[LOG] index:  24 startts:  1698835743434 ts:  1698835743434 bytes:  1500 total time:  677
[LOG] index:  25 startts:  1698835743449 ts:  1698835743449 bytes:  1500 total time:  677
[LOG] index:  26 startts:  1698835743465 ts:  1698835743465 bytes:  1500 total time:  677
[LOG] index:  27 startts:  1698835743482 ts:  1698835743482 bytes:  1500 total time:  677
[LOG] index:  28 startts:  1698835743497 ts:  1698835743497 bytes:  1500 total time:  677
[LOG] index:  29 startts:  1698835743513 ts:  1698835743513 bytes:  1500 total time:  677
[LOG] index:  30 startts:  1698835743529 ts:  1698835743529 bytes:  1500 total time:  677
[LOG] index:  31 startts:  1698835743545 ts:  1698835743545 bytes:  1500 total time:  677
[LOG] index:  32 startts:  1698835743561 ts:  1698835743561 bytes:  1500 total time:  677
[LOG] index:  33 startts:  1698835743577 ts:  1698835743577 bytes:  1500 total time:  677
[LOG] index:  34 startts:  1698835743592 ts:  1698835743592 bytes:  1500 total time:  677
[LOG] index:  35 startts:  1698835743609 ts:  1698835743609 bytes:  1500 total time:  677
[LOG] index:  36 startts:  1698835743624 ts:  1698835743624 bytes:  1500 total time:  677
[LOG] index:  37 startts:  1698835743640 ts:  1698835743640 bytes:  1500 total time:  677
[LOG] index:  38 startts:  1698835743657 ts:  1698835743657 bytes:  1500 total time:  677
[LOG] index:  39 startts:  1698835743672 ts:  1698835743672 bytes:  1500 total time:  677
[LOG] index:  40 startts:  1698835743688 ts:  1698835743688 bytes:  1500 total time:  677
[LOG] index:  41 startts:  1698835743705 ts:  1698835743705 bytes:  1500 total time:  677
[LOG] index:  42 startts:  1698835743705 ts:  1698835743705 bytes:  340 total time:  677
[LOG] index:  0 start ts/size:  1698835743028 / 1494 id  1 end ts/size:  1698835743267 / 22074 id  15 chunk time:  239 idle time: 0
[LOG] index:  1 start ts/size:  1698835743267 / 1500 id  15 end ts/size:  1698835743284 / 1260 id  16 chunk time:  17 idle time:  0
[LOG] index:  2 start ts/size:  1698835743284 / 1500 id  16 end ts/size:  1698835743316 / 2250 id  18 chunk time:  32 idle time:  0
[LOG] index:  3 start ts/size:  1698835743316 / 1500 id  18 end ts/size:  1698835743332 / 2216 id  19 chunk time:  16 idle time:  0
[LOG] index:  4 start ts/size:  1698835743332 / 1500 id  19 end ts/size:  1698835743369 / 2393 id  21 chunk time:  37 idle time:  0
[LOG] index:  5 start ts/size:  1698835743369 / 1500 id  21 end ts/size:  1698835743386 / 2188 id  22 chunk time:  17 idle time:  0
[LOG] index:  6 start ts/size:  1698835743386 / 1500 id  22 end ts/size:  1698835743418 / 2716 id  24 chunk time:  32 idle time:  0
[LOG] index:  7 start ts/size:  1698835743418 / 1500 id  24 end ts/size:  1698835743434 / 2285 id  25 chunk time:  16 idle time:  0
[LOG] index:  8 start ts/size:  1698835743434 / 1500 id  25 end ts/size:  1698835743465 / 2430 id  27 chunk time:  31 idle time:  0
[LOG] index:  9 start ts/size:  1698835743465 / 1500 id  27 end ts/size:  1698835743497 / 2918 id  29 chunk time:  32 idle time:  0
[LOG] index:  10 start ts/size:  1698835743497 / 1500 id  29 end ts/size:  1698835743529 / 2535 id  31 chunk time:  32 idle time:  0
[LOG] index:  11 start ts/size:  1698835743529 / 1500 id  31 end ts/size:  1698835743561 / 3588 id  33 chunk time:  32 idle time:  0
[LOG] index:  12 start ts/size:  1698835743561 / 1500 id  33 end ts/size:  1698835743609 / 4269 id  36 chunk time:  48 idle time:  0
[LOG] index:  13 start ts/size:  1698835743609 / 1500 id  36 end ts/size:  1698835743657 / 4490 id  39 chunk time:  48 idle time:  0
[LOG] index:  14 start ts/size:  1698835743657 / 1500 id  39 end ts/size:  1698835743705 / 5722 id  43 chunk time:  48 idle time:  0
[LOG] cur bw/size 0 726.7355982274742 61500
[LOG] real bw  726.7355982274623
[LOG] downbytes  63334 time:  697.1889105681577 true bw:  727 downloadtimeinms:  683 latency:  42
'pushing'
727
[LOG] update buffer 1698835743714 0.08340200000000131
[LOG] update buffer 1698835743714 0.08340200000000131
[LOG] update buffer 1698835743714 0.08340200000000131
[LOG] cal jiange, in rmpc, sum:  99.99999879518074 0 0.083 2 1000 727
'now'
'chunk-stream2-00018'
1
0
200
-17032.11985422742
[LOG] [RmpcRule][video] requesting switch to index:  0 Average throughput 727 kbps
'running time/ms: '
2
'in abr rule coll, get all'
'Quality changed requested'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 697.1889105681577,
  trace: [ { s: {}, d: 697.1889105681577, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835743267, bytes: 22074, id: 15, idle: 0 },
    {
      ts: 1698835743284,
      bytes: 1260,
      id: 16,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743316,
      bytes: 2250,
      id: 18,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743332,
      bytes: 2216,
      id: 19,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743369,
      bytes: 2393,
      id: 21,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743386,
      bytes: 2188,
      id: 22,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743418,
      bytes: 2716,
      id: 24,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743434,
      bytes: 2285,
      id: 25,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743465,
      bytes: 2430,
      id: 27,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743497,
      bytes: 2918,
      id: 29,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743529,
      bytes: 2535,
      id: 31,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743561,
      bytes: 3588,
      id: 33,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743609,
      bytes: 4269,
      id: 36,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743657,
      bytes: 4490,
      id: 39,
      idle: -16.512195121928766
    },
    {
      ts: 1698835743705,
      bytes: 5722,
      id: 43,
      idle: -16.512195121928766
    }
  ]
}
{
  switchHistory: [ { start: 8.697, end: null, quality: [Object] } ],
  stallDurationMs: 293.5999999977648,
  numStalls: 2,
  averageLatency: 1.95,
  averageBufferLength: 0.0415,
  currentLatency: 2.059,
  currentBufferLength: 0.065,
  throughputKbps: 727,
  throughputTimestampMs: 1698835743713,
  throughputhis: 727,
  currentTimeAbsolute: 1698835743.713,
  currentTimeRelative: 8.915981,
  segmentBitrateKbps: 1000,
  playbackSpeed: 0.7694439902299044,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
    startTime: 8.5,
    requestStartDate: 1698835742986,
    firstByteDate: 1698835743028,
    requestEndDate: 1698835743711,
    availabilityStartTime: 1698835741137,
    wallStartTime: 1698835749637,
    bytesLoaded: 63334,
    bytesTotal: 63334,
    delayLoadingTime: 1698835742986
  }
}
{
  next_buf: 0.42408978640794565,
  next_latency: 2.098657781427105,
  rebuf: 0.00007118953864582167,
  next_play: 0.9437411071459129
}
{
  bit: 0,
  qoe: -17032.11985422742,
  state: [ 0.42408978640794565, 2.098657781427105, 0.9437411071459129 ]
}
[
  {
    quality: 0,
    reason: { throughput: 727, latency: 2.06 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 727, latency: 2.06 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 2,
  newQuality: 0,
  reason: { throughput: 727, latency: 2.06 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 200000,
    width: 320,
    height: 180,
    scanType: null,
    qualityIndex: 0
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream0'
[LOG] update buffer 1698835743766 0.04333400000000154
{
  switchHistory: [ { start: 8.697, end: null, quality: [Object] } ],
  stallDurationMs: 293.5999999977648,
  numStalls: 2,
  averageLatency: 1.9742,
  averageBufferLength: 0.049800000000000004,
  currentLatency: 2.071,
  currentBufferLength: 0.083,
  throughputKbps: 727,
  throughputTimestampMs: 1698835743765,
  throughputhis: -1,
  currentTimeAbsolute: 1698835743.765,
  currentTimeRelative: 8.956211,
  segmentBitrateKbps: 200,
  playbackSpeed: 0.7694439902299044,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream0.m4s',
    startTime: null,
    requestStartDate: 1698835743718,
    firstByteDate: 1698835743718,
    requestEndDate: 1698835743765,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00019.m4s  time:  1698835743785  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00019.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 9,
    mediaStartTime: 9,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00019.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 18,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835743766,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00019.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835743801 0.016218000000000288
'Quality changed'
[LOG] Stall now with currentBuffer=0.016
{
  mediaType: 'video',
  oldQuality: null,
  newQuality: 2,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  1  time:  1698835743848  cur buffer:  1698835743801 0.016
[LOG] get chunk:  2  time:  1698835743848  cur buffer:  1698835743801 0.016
[LOG] update buffer 1698835743848 0.04955200000000026
[LOG] update buffer 1698835743848 0.08288499999999921
[LOG] get chunk:  3  time:  1698835743864  cur buffer:  1698835743848 0.083
[LOG] get chunk:  4  time:  1698835743864  cur buffer:  1698835743848 0.083
[LOG] get chunk:  5  time:  1698835743864  cur buffer:  1698835743848 0.083
[LOG] update buffer 1698835743865 0.10247200000000056
[LOG] update buffer 1698835743865 0.13551999999999964
[LOG] update buffer 1698835743865 0.16868099999999941
[LOG] get chunk:  6  time:  1698835743879  cur buffer:  1698835743865 0.169
[LOG] get chunk:  7  time:  1698835743879  cur buffer:  1698835743865 0.169
[LOG] get chunk:  8  time:  1698835743879  cur buffer:  1698835743865 0.169
[LOG] update buffer 1698835743880 0.1874830000000003
[LOG] update buffer 1698835743880 0.22061700000000073
[LOG] update buffer 1698835743880 0.25380300000000133
[LOG] get chunk:  9  time:  1698835743895  cur buffer:  1698835743880 0.254
[LOG] get chunk:  10  time:  1698835743896  cur buffer:  1698835743880 0.254
[LOG] update buffer 1698835743896 0.2708429999999993
[LOG] update buffer 1698835743897 0.3039769999999997
[LOG] get chunk:  11  time:  1698835743921  cur buffer:  1698835743897 0.304
[LOG] get chunk:  12  time:  1698835743921  cur buffer:  1698835743897 0.304
[LOG] update buffer 1698835743922 0.3123300000000011
[LOG] update buffer 1698835743922 0.34547599999999967
[LOG] get chunk:  13  time:  1698835743937  cur buffer:  1698835743922 0.345
[LOG] get chunk:  14  time:  1698835743937  cur buffer:  1698835743922 0.345
[LOG] get chunk:  15  time:  1698835743938  cur buffer:  1698835743922 0.345
[LOG] index:  0 startts:  1698835743766 ts:  1698835743801 bytes:  1494 total time:  137
[LOG] index:  1 startts:  1698835743816 ts:  1698835743816 bytes:  1500 total time:  137
[LOG] index:  2 startts:  1698835743832 ts:  1698835743832 bytes:  1500 total time:  137
[LOG] index:  3 startts:  1698835743847 ts:  1698835743847 bytes:  1500 total time:  137
[LOG] index:  4 startts:  1698835743864 ts:  1698835743864 bytes:  1500 total time:  137
[LOG] index:  5 startts:  1698835743879 ts:  1698835743879 bytes:  1500 total time:  137
[LOG] index:  6 startts:  1698835743895 ts:  1698835743895 bytes:  1500 total time:  137
[LOG] index:  7 startts:  1698835743921 ts:  1698835743921 bytes:  1500 total time:  137
[LOG] index:  8 startts:  1698835743937 ts:  1698835743937 bytes:  1500 total time:  137
[LOG] index:  9 startts:  1698835743938 ts:  1698835743938 bytes:  729 total time:  137
[LOG] index:  0 start ts/size:  1698835743801 / 1494 id  1 end ts/size:  1698835743847 / 5235 id  4 chunk time:  46 idle time: 0
[LOG] index:  1 start ts/size:  1698835743847 / 1500 id  4 end ts/size:  1698835743847 / 447 id  4 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835743847 / 1500 id  4 end ts/size:  1698835743864 / 509 id  5 chunk time:  17 idle time:  0
[LOG] index:  3 start ts/size:  1698835743864 / 1500 id  5 end ts/size:  1698835743864 / 520 id  5 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835743864 / 1500 id  5 end ts/size:  1698835743864 / 545 id  5 chunk time:  0 idle time:  0
[LOG] index:  5 start ts/size:  1698835743864 / 1500 id  5 end ts/size:  1698835743879 / 508 id  6 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835743879 / 1500 id  6 end ts/size:  1698835743879 / 555 id  6 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835743879 / 1500 id  6 end ts/size:  1698835743879 / 532 id  6 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835743879 / 1500 id  6 end ts/size:  1698835743895 / 509 id  7 chunk time:  16 idle time:  0
[LOG] index:  9 start ts/size:  1698835743895 / 1500 id  7 end ts/size:  1698835743895 / 557 id  7 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835743895 / 1500 id  7 end ts/size:  1698835743921 / 623 id  8 chunk time:  26 idle time:  0
[LOG] index:  11 start ts/size:  1698835743921 / 1500 id  8 end ts/size:  1698835743921 / 707 id  8 chunk time:  0 idle time:  0
[LOG] index:  12 start ts/size:  1698835743921 / 1500 id  8 end ts/size:  1698835743937 / 798 id  9 chunk time:  16 idle time:  0
[LOG] index:  13 start ts/size:  1698835743937 / 1500 id  9 end ts/size:  1698835743937 / 1008 id  9 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835743937 / 1500 id  9 end ts/size:  1698835743938 / 1170 id  10 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 705.8823529411765 12000
[LOG] real bw  705.8823529411176
[LOG] downbytes  14223 time:  161.1939999997851 true bw:  706 downloadtimeinms:  140 latency:  35
'pushing'
706
[LOG] update buffer 1698835743942 0.35892699999999955
[LOG] update buffer 1698835743942 0.39181999999999917
[LOG] update buffer 1698835743942 0.42498600000000053
[LOG] update buffer 1698835743942 0.42498600000000053
[LOG] update buffer 1698835743942 0.42498600000000053
'now'
'chunk-stream0-00019'
[LOG] cal jiange, in rmpc, sum:  0.2141679035088621 0.42408978640794565 0.425 0 200 716.4999996417499
1
0
200
-15861.269431115617
1
1
600
-16974.08325409024
'running time/ms: '
2
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00019.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 161.1939999997851,
  trace: [ { s: {}, d: 161.1939999997851, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835743847, bytes: 5235, id: 4, idle: 0 },
    { ts: 1698835743847, bytes: 447, id: 4, idle: -16.999999999977334 },
    { ts: 1698835743864, bytes: 509, id: 5, idle: -16.999999999977334 },
    { ts: 1698835743864, bytes: 520, id: 5, idle: -16.999999999977334 },
    { ts: 1698835743864, bytes: 545, id: 5, idle: -16.999999999977334 },
    { ts: 1698835743879, bytes: 508, id: 6, idle: -16.999999999977334 },
    { ts: 1698835743879, bytes: 555, id: 6, idle: -16.999999999977334 },
    { ts: 1698835743879, bytes: 532, id: 6, idle: -16.999999999977334 },
    { ts: 1698835743895, bytes: 509, id: 7, idle: -16.999999999977334 },
    { ts: 1698835743895, bytes: 557, id: 7, idle: -16.999999999977334 },
    { ts: 1698835743921, bytes: 623, id: 8, idle: -16.999999999977334 },
    { ts: 1698835743921, bytes: 707, id: 8, idle: -16.999999999977334 },
    { ts: 1698835743937, bytes: 798, id: 9, idle: -16.999999999977334 },
    {
      ts: 1698835743937,
      bytes: 1008,
      id: 9,
      idle: -16.999999999977334
    },
    {
      ts: 1698835743938,
      bytes: 1170,
      id: 10,
      idle: -16.999999999977334
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: null, quality: [Object] }
  ],
  stallDurationMs: 293.5999999977648,
  numStalls: 3,
  averageLatency: 2.0108571428571427,
  averageBufferLength: 0.091,
  currentLatency: 2.129,
  currentBufferLength: 0.345,
  throughputKbps: 717,
  throughputTimestampMs: 1698835743941,
  throughputhis: 706,
  currentTimeAbsolute: 1698835743.941,
  currentTimeRelative: 9.07379,
  segmentBitrateKbps: 200,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00019.m4s',
    startTime: 9,
    requestStartDate: 1698835743766,
    firstByteDate: 1698835743801,
    requestEndDate: 1698835743941,
    availabilityStartTime: 1698835741637,
    wallStartTime: 1698835750637,
    bytesLoaded: 14223,
    bytesTotal: 14223,
    delayLoadingTime: 1698835743766
  }
}
{
  next_buf: 0.7430702063371156,
  next_latency: 2.1126375476490487,
  rebuf: 0,
  next_play: 1.2753558493387394
}
{
  next_buf: 0.4684559452156801,
  next_latency: 2.151157969151479,
  rebuf: 0,
  next_play: 0.9649038048527177
}
{
  bit: 0,
  qoe: -15861.269431115617,
  state: [ 0.7430702063371156, 2.1126375476490487, 1.2753558493387394 ]
}
[
  {
    quality: 0,
    reason: { throughput: 716.4999996417499, latency: 2.129 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 716.4999996417499, latency: 2.129 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00020.m4s  time:  1698835743953  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00020.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 9.5,
    mediaStartTime: 9.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00020.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 19,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835743945,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00020.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835744017  cur buffer:  1698835743942 0.425
[LOG] get chunk:  2  time:  1698835744017  cur buffer:  1698835743942 0.425
[LOG] update buffer 1698835744017 0.38323700000000116
[LOG] update buffer 1698835744018 0.4163230000000002
[LOG] update buffer 1698835744022 0.4121509999999997
[LOG] get chunk:  3  time:  1698835744032  cur buffer:  1698835744022 0.412
[LOG] get chunk:  4  time:  1698835744032  cur buffer:  1698835744022 0.412
[LOG] update buffer 1698835744033 0.4350860000000001
[LOG] update buffer 1698835744033 0.4682460000000006
[LOG] get chunk:  5  time:  1698835744047  cur buffer:  1698835744033 0.468
[LOG] get chunk:  6  time:  1698835744048  cur buffer:  1698835744033 0.468
[LOG] get chunk:  7  time:  1698835744048  cur buffer:  1698835744033 0.468
[LOG] update buffer 1698835744048 0.48716399999999993
[LOG] update buffer 1698835744049 0.5203100000000003
[LOG] update buffer 1698835744049 0.5534990000000004
[LOG] update buffer 1698835744053 0.5495750000000008
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 2,
  newQuality: 0,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  8  time:  1698835744064  cur buffer:  1698835744053 0.55
[LOG] get chunk:  9  time:  1698835744064  cur buffer:  1698835744053 0.55
[LOG] get chunk:  10  time:  1698835744064  cur buffer:  1698835744053 0.55
[LOG] update buffer 1698835744065 0.5680200000000006
[LOG] update buffer 1698835744065 0.601113999999999
[LOG] update buffer 1698835744065 0.6342379999999999
[LOG] get chunk:  11  time:  1698835744079  cur buffer:  1698835744065 0.634
[LOG] get chunk:  12  time:  1698835744079  cur buffer:  1698835744065 0.634
[LOG] update buffer 1698835744080 0.6488010000000006
[LOG] update buffer 1698835744080 0.6818729999999995
[LOG] get chunk:  13  time:  1698835744095  cur buffer:  1698835744080 0.682
[LOG] get chunk:  14  time:  1698835744096  cur buffer:  1698835744080 0.682
[LOG] update buffer 1698835744096 0.6947479999999988
[LOG] update buffer 1698835744096 0.7278249999999993
[LOG] get chunk:  15  time:  1698835744096  cur buffer:  1698835744096 0.728
[LOG] index:  0 startts:  1698835743945 ts:  1698835743970 bytes:  1494 total time:  126
[LOG] index:  1 startts:  1698835743987 ts:  1698835743987 bytes:  1500 total time:  126
[LOG] index:  2 startts:  1698835744000 ts:  1698835744000 bytes:  1500 total time:  126
[LOG] index:  3 startts:  1698835744017 ts:  1698835744017 bytes:  1500 total time:  126
[LOG] index:  4 startts:  1698835744032 ts:  1698835744032 bytes:  1500 total time:  126
[LOG] index:  5 startts:  1698835744047 ts:  1698835744047 bytes:  1500 total time:  126
[LOG] index:  6 startts:  1698835744064 ts:  1698835744064 bytes:  1500 total time:  126
[LOG] index:  7 startts:  1698835744079 ts:  1698835744079 bytes:  1500 total time:  126
[LOG] index:  8 startts:  1698835744095 ts:  1698835744095 bytes:  1500 total time:  126
[LOG] index:  9 startts:  1698835744096 ts:  1698835744096 bytes:  607 total time:  126
[LOG] index:  0 start ts/size:  1698835743970 / 1494 id  1 end ts/size:  1698835744017 / 5649 id  4 chunk time:  47 idle time: 0
[LOG] index:  1 start ts/size:  1698835744017 / 1500 id  4 end ts/size:  1698835744017 / 345 id  4 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835744032 / 1500 id  5 end ts/size:  1698835744032 / 509 id  5 chunk time:  0 idle time:  15
[LOG] index:  3 start ts/size:  1698835744032 / 1500 id  5 end ts/size:  1698835744032 / 478 id  5 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835744032 / 1500 id  5 end ts/size:  1698835744047 / 532 id  6 chunk time:  15 idle time:  0
[LOG] index:  5 start ts/size:  1698835744047 / 1500 id  6 end ts/size:  1698835744047 / 528 id  6 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835744047 / 1500 id  6 end ts/size:  1698835744047 / 512 id  6 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835744047 / 1500 id  6 end ts/size:  1698835744064 / 544 id  7 chunk time:  17 idle time:  0
[LOG] index:  8 start ts/size:  1698835744064 / 1500 id  7 end ts/size:  1698835744064 / 532 id  7 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835744064 / 1500 id  7 end ts/size:  1698835744064 / 540 id  7 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835744064 / 1500 id  7 end ts/size:  1698835744079 / 557 id  8 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835744079 / 1500 id  8 end ts/size:  1698835744079 / 696 id  8 chunk time:  0 idle time:  0
[LOG] index:  12 start ts/size:  1698835744079 / 1500 id  8 end ts/size:  1698835744095 / 776 id  9 chunk time:  16 idle time:  0
[LOG] index:  13 start ts/size:  1698835744095 / 1500 id  9 end ts/size:  1698835744095 / 813 id  9 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835744095 / 1500 id  9 end ts/size:  1698835744096 / 1090 id  10 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 768 12000
[LOG] real bw  767.999999999936
[LOG] downbytes  14101 time:  146.88541666648766 true bw:  768 downloadtimeinms:  129 latency:  25
'pushing'
768
[LOG] update buffer 1698835744100 0.7558330000000009
[LOG] update buffer 1698835744100 0.7558330000000009
[LOG] update buffer 1698835744101 0.7558330000000009
[LOG] cal jiange, in rmpc, sum:  1.7102901647859101 0.7430702063371156 0.756 0 200 736.9999996314999
'now'
'chunk-stream0-00020'
1
0
200
-13802.21045675072
1
1
600
-12981.531774982246
1
2
1000
-16001.145751590368
[LOG] [RmpcRule][video] requesting switch to index:  1 Average throughput 737 kbps
1
3
2500
-41293.44191957877
'running time/ms: '
2
'in abr rule coll, get all'
'Quality changed requested'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00020.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 146.88541666648766,
  trace: [ { s: {}, d: 146.88541666648766, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835744017, bytes: 5649, id: 4, idle: 0 },
    { ts: 1698835744017, bytes: 345, id: 4, idle: -15.624999999980957 },
    { ts: 1698835744032, bytes: 509, id: 5, idle: -0.6249999999809575 },
    { ts: 1698835744032, bytes: 478, id: 5, idle: -15.624999999980957 },
    { ts: 1698835744047, bytes: 532, id: 6, idle: -15.624999999980957 },
    { ts: 1698835744047, bytes: 528, id: 6, idle: -15.624999999980957 },
    { ts: 1698835744047, bytes: 512, id: 6, idle: -15.624999999980957 },
    { ts: 1698835744064, bytes: 544, id: 7, idle: -15.624999999980957 },
    { ts: 1698835744064, bytes: 532, id: 7, idle: -15.624999999980957 },
    { ts: 1698835744064, bytes: 540, id: 7, idle: -15.624999999980957 },
    { ts: 1698835744079, bytes: 557, id: 8, idle: -15.624999999980957 },
    { ts: 1698835744079, bytes: 696, id: 8, idle: -15.624999999980957 },
    { ts: 1698835744095, bytes: 776, id: 9, idle: -15.624999999980957 },
    { ts: 1698835744095, bytes: 813, id: 9, idle: -15.624999999980957 },
    {
      ts: 1698835744096,
      bytes: 1090,
      id: 10,
      idle: -15.624999999980957
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 2.036,
  averageBufferLength: 0.1988888888888889,
  currentLatency: 2.119,
  currentBufferLength: 0.728,
  throughputKbps: 734,
  throughputTimestampMs: 1698835744100,
  throughputhis: 768,
  currentTimeAbsolute: 1698835744.1,
  currentTimeRelative: 9.243438,
  segmentBitrateKbps: 200,
  playbackSpeed: 1.2754631705764574,
  segmentStallDurationMs: 251.5,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00020.m4s',
    startTime: 9.5,
    requestStartDate: 1698835743945,
    firstByteDate: 1698835743970,
    requestEndDate: 1698835744099,
    availabilityStartTime: 1698835742137,
    wallStartTime: 1698835751637,
    bytesLoaded: 14101,
    bytesTotal: 14101,
    delayLoadingTime: 1698835743945
  }
}
{
  next_buf: 1.0497764689335076,
  next_latency: 2.0734616793134264,
  rebuf: 0,
  next_play: 1.2754631705764574
}
{
  next_buf: 0.6627964290472544,
  next_latency: 1.9918520601870093,
  rebuf: 0,
  next_play: 1.2632574811405615
}
{
  next_buf: 0.4454022649412639,
  next_latency: 2.045828316840857,
  rebuf: 0,
  next_play: 0.9593041163484208
}
{
  next_buf: 0.03333333333333333,
  next_latency: 2.708995548708032,
  rebuf: 0.5436287843464772,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: -12981.531774982246,
  state: [ 0.6627964290472544, 1.9918520601870093, 1.2632574811405615 ]
}
[
  {
    quality: 1,
    reason: { throughput: 736.9999996314999, latency: 2.118 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 736.9999996314999, latency: 2.118 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 0,
  newQuality: 1,
  reason: { throughput: 736.9999996314999, latency: 2.118 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 600000,
    width: 480,
    height: 270,
    scanType: null,
    qualityIndex: 1
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
[LOG] update buffer 1698835744112 0.7406560000000013
'now'
'init-stream1'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 2.0439,
  averageBufferLength: 0.2546,
  currentLatency: 2.115,
  currentBufferLength: 0.756,
  throughputKbps: 734,
  throughputTimestampMs: 1698835744112,
  throughputhis: -1,
  currentTimeAbsolute: 1698835744.112,
  currentTimeRelative: 9.258986,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.2754631705764574,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream1.m4s',
    startTime: null,
    requestStartDate: 1698835744105,
    firstByteDate: 1698835744105,
    requestEndDate: 1698835744112,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00021.m4s  time:  1698835744128  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 10,
    mediaStartTime: 10,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 20,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835744112,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835744319 0.47754600000000025
[LOG] get chunk:  1  time:  1698835744348  cur buffer:  1698835744319 0.478
[LOG] get chunk:  2  time:  1698835744348  cur buffer:  1698835744319 0.478
[LOG] update buffer 1698835744349 0.4724420000000009
[LOG] update buffer 1698835744349 0.5055499999999995
[LOG] get chunk:  3  time:  1698835744364  cur buffer:  1698835744349 0.506
[LOG] update buffer 1698835744365 0.5186489999999999
[LOG] get chunk:  4  time:  1698835744380  cur buffer:  1698835744365 0.519
[LOG] update buffer 1698835744380 0.5324290000000005
[LOG] update buffer 1698835744381 0.5311060000000012
[LOG] get chunk:  5  time:  1698835744396  cur buffer:  1698835744381 0.531
[LOG] update buffer 1698835744396 0.5451229999999985
[LOG] get chunk:  6  time:  1698835744411  cur buffer:  1698835744396 0.545
[LOG] update buffer 1698835744412 0.5591159999999995
[LOG] get chunk:  7  time:  1698835744427  cur buffer:  1698835744412 0.559
[LOG] update buffer 1698835744427 0.5730850000000007
[LOG] get chunk:  8  time:  1698835744443  cur buffer:  1698835744427 0.573
[LOG] update buffer 1698835744443 0.585795000000001
[LOG] get chunk:  9  time:  1698835744458  cur buffer:  1698835744443 0.586
[LOG] update buffer 1698835744459 0.5997849999999989
[LOG] get chunk:  10  time:  1698835744475  cur buffer:  1698835744459 0.6
[LOG] update buffer 1698835744475 0.6125189999999989
[LOG] get chunk:  11  time:  1698835744505  cur buffer:  1698835744475 0.613
[LOG] update buffer 1698835744505 0.6080170000000003
[LOG] get chunk:  12  time:  1698835744521  cur buffer:  1698835744505 0.608
[LOG] update buffer 1698835744521 0.620614999999999
[LOG] get chunk:  13  time:  1698835744537  cur buffer:  1698835744521 0.621
[LOG] update buffer 1698835744537 0.6343309999999995
[LOG] get chunk:  14  time:  1698835744552  cur buffer:  1698835744537 0.634
[LOG] update buffer 1698835744552 0.6482759999999992
[LOG] get chunk:  15  time:  1698835744569  cur buffer:  1698835744552 0.648
[LOG] index:  0 startts:  1698835744112 ts:  1698835744143 bytes:  1494 total time:  426
[LOG] index:  1 startts:  1698835744159 ts:  1698835744159 bytes:  1500 total time:  426
[LOG] index:  2 startts:  1698835744174 ts:  1698835744174 bytes:  1500 total time:  426
[LOG] index:  3 startts:  1698835744190 ts:  1698835744190 bytes:  1500 total time:  426
[LOG] index:  4 startts:  1698835744206 ts:  1698835744206 bytes:  1500 total time:  426
[LOG] index:  5 startts:  1698835744222 ts:  1698835744222 bytes:  1500 total time:  426
[LOG] index:  6 startts:  1698835744237 ts:  1698835744237 bytes:  1500 total time:  426
[LOG] index:  7 startts:  1698835744254 ts:  1698835744254 bytes:  1500 total time:  426
[LOG] index:  8 startts:  1698835744269 ts:  1698835744269 bytes:  1500 total time:  426
[LOG] index:  9 startts:  1698835744284 ts:  1698835744284 bytes:  1500 total time:  426
[LOG] index:  10 startts:  1698835744301 ts:  1698835744301 bytes:  1500 total time:  426
[LOG] index:  11 startts:  1698835744316 ts:  1698835744316 bytes:  1500 total time:  426
[LOG] index:  12 startts:  1698835744333 ts:  1698835744333 bytes:  1500 total time:  426
[LOG] index:  13 startts:  1698835744348 ts:  1698835744348 bytes:  1500 total time:  426
[LOG] index:  14 startts:  1698835744364 ts:  1698835744364 bytes:  1500 total time:  426
[LOG] index:  15 startts:  1698835744380 ts:  1698835744380 bytes:  1500 total time:  426
[LOG] index:  16 startts:  1698835744396 ts:  1698835744396 bytes:  1500 total time:  426
[LOG] index:  17 startts:  1698835744411 ts:  1698835744411 bytes:  1500 total time:  426
[LOG] index:  18 startts:  1698835744427 ts:  1698835744427 bytes:  1500 total time:  426
[LOG] index:  19 startts:  1698835744443 ts:  1698835744443 bytes:  1500 total time:  426
[LOG] index:  20 startts:  1698835744458 ts:  1698835744458 bytes:  1500 total time:  426
[LOG] index:  21 startts:  1698835744475 ts:  1698835744475 bytes:  1500 total time:  426
[LOG] index:  22 startts:  1698835744505 ts:  1698835744505 bytes:  1500 total time:  426
[LOG] index:  23 startts:  1698835744521 ts:  1698835744521 bytes:  1500 total time:  426
[LOG] index:  24 startts:  1698835744536 ts:  1698835744536 bytes:  1500 total time:  426
[LOG] index:  25 startts:  1698835744552 ts:  1698835744552 bytes:  1500 total time:  426
[LOG] index:  26 startts:  1698835744568 ts:  1698835744568 bytes:  1500 total time:  426
[LOG] index:  27 startts:  1698835744569 ts:  1698835744569 bytes:  137 total time:  426
[LOG] index:  0 start ts/size:  1698835744143 / 1494 id  1 end ts/size:  1698835744348 / 20308 id  14 chunk time:  205 idle time: 0
[LOG] index:  1 start ts/size:  1698835744348 / 1500 id  14 end ts/size:  1698835744348 / 640 id  14 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835744364 / 1500 id  15 end ts/size:  1698835744364 / 1122 id  15 chunk time:  0 idle time:  16
[LOG] index:  3 start ts/size:  1698835744364 / 1500 id  15 end ts/size:  1698835744380 / 1258 id  16 chunk time:  16 idle time:  0
[LOG] index:  4 start ts/size:  1698835744380 / 1500 id  16 end ts/size:  1698835744396 / 1869 id  17 chunk time:  16 idle time:  0
[LOG] index:  5 start ts/size:  1698835744396 / 1500 id  17 end ts/size:  1698835744411 / 1089 id  18 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835744411 / 1500 id  18 end ts/size:  1698835744427 / 1597 id  19 chunk time:  16 idle time:  0
[LOG] index:  7 start ts/size:  1698835744427 / 1500 id  19 end ts/size:  1698835744443 / 1508 id  20 chunk time:  16 idle time:  0
[LOG] index:  8 start ts/size:  1698835744443 / 1500 id  20 end ts/size:  1698835744458 / 1157 id  21 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835744458 / 1500 id  21 end ts/size:  1698835744475 / 1887 id  22 chunk time:  17 idle time:  0
[LOG] index:  10 start ts/size:  1698835744475 / 1500 id  22 end ts/size:  1698835744505 / 1460 id  23 chunk time:  30 idle time:  0
[LOG] index:  11 start ts/size:  1698835744505 / 1500 id  23 end ts/size:  1698835744521 / 1162 id  24 chunk time:  16 idle time:  0
[LOG] index:  12 start ts/size:  1698835744521 / 1500 id  24 end ts/size:  1698835744536 / 2123 id  25 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835744536 / 1500 id  25 end ts/size:  1698835744552 / 1686 id  26 chunk time:  16 idle time:  0
[LOG] index:  14 start ts/size:  1698835744552 / 1500 id  26 end ts/size:  1698835744569 / 1765 id  28 chunk time:  17 idle time:  0
[LOG] cur bw/size 0 734.1176470588235 39000
[LOG] real bw  734.1176470588048
[LOG] downbytes  40631 time:  442.77371794812615 true bw:  734 downloadtimeinms:  429 latency:  31
'pushing'
734
[LOG] update buffer 1698835744573 0.6554010000000012
[LOG] update buffer 1698835744573 0.6554010000000012
[LOG] update buffer 1698835744573 0.6554010000000012
[LOG] cal jiange, in rmpc, sum:  1.190294509213965 0.6627964290472544 0.655 1 600 750.9999996245
'now'
'chunk-stream1-00021'
1
0
200
-11610.187365086742
1
1
600
-10258.523639876295
1
2
1000
-13709.139361198331
1
3
2500
-37551.63027900604
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 442.77371794812615,
  trace: [ { s: {}, d: 442.77371794812615, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835744348, bytes: 20308, id: 14, idle: 0 },
    {
      ts: 1698835744348,
      bytes: 640,
      id: 14,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744364,
      bytes: 1122,
      id: 15,
      idle: -0.3461538461319975
    },
    {
      ts: 1698835744380,
      bytes: 1258,
      id: 16,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744396,
      bytes: 1869,
      id: 17,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744411,
      bytes: 1089,
      id: 18,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744427,
      bytes: 1597,
      id: 19,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744443,
      bytes: 1508,
      id: 20,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744458,
      bytes: 1157,
      id: 21,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744475,
      bytes: 1887,
      id: 22,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744505,
      bytes: 1460,
      id: 23,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744521,
      bytes: 1162,
      id: 24,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744536,
      bytes: 2123,
      id: 25,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744552,
      bytes: 1686,
      id: 26,
      idle: -16.346153846131998
    },
    {
      ts: 1698835744569,
      bytes: 1765,
      id: 28,
      idle: -16.346153846131998
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 2.043461538461538,
  averageBufferLength: 0.3435384615384615,
  currentLatency: 1.995,
  currentBufferLength: 0.648,
  throughputKbps: 736,
  throughputTimestampMs: 1698835744573,
  throughputhis: 734,
  currentTimeAbsolute: 1698835744.573,
  currentTimeRelative: 9.839522,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.262392623160333,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
    startTime: 10,
    requestStartDate: 1698835744112,
    firstByteDate: 1698835744143,
    requestEndDate: 1698835744572,
    availabilityStartTime: 1698835742637,
    wallStartTime: 1698835752637,
    bytesLoaded: 40631,
    bytesTotal: 40631,
    delayLoadingTime: 1698835744112
  }
}
{
  next_buf: 0.912334897875093,
  next_latency: 1.9414906902186353,
  rebuf: 0,
  next_play: 1.2447754813403562
}
{
  next_buf: 0.6386706876648806,
  next_latency: 1.900138064695507,
  rebuf: 0,
  next_play: 1.2384496280386945
}
{
  next_buf: 0.3729658041319797,
  next_latency: 1.93474476584969,
  rebuf: 0,
  next_play: 0.9078033762184254
}
{
  next_buf: 0.03333333333333333,
  next_latency: 2.548450605988513,
  rebuf: 0.5858809048328798,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: -10258.523639876295,
  state: [ 0.6386706876648806, 1.900138064695507, 1.2384496280386945 ]
}
[
  {
    quality: 1,
    reason: { throughput: 750.9999996245, latency: 1.991 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 750.9999996245, latency: 1.991 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00022.m4s  time:  1698835744584  cur buffer:  JSHandle@array
[LOG] update buffer 1698835744584 0.6414340000000003
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 10.5,
    mediaStartTime: 10.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 21,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835744576,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835744741 0.4440470000000012
[LOG] get chunk:  1  time:  1698835744821  cur buffer:  1698835744741 0.444
[LOG] get chunk:  2  time:  1698835744821  cur buffer:  1698835744741 0.444
[LOG] update buffer 1698835744821 0.37681200000000104
[LOG] update buffer 1698835744822 0.40990599999999944
[LOG] get chunk:  3  time:  1698835744837  cur buffer:  1698835744822 0.41
[LOG] update buffer 1698835744837 0.4236190000000004
[LOG] update buffer 1698835744850 0.4082540000000012
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 0,
  newQuality: 1,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  4  time:  1698835744852  cur buffer:  1698835744850 0.408
[LOG] update buffer 1698835744853 0.438739
[LOG] get chunk:  5  time:  1698835744869  cur buffer:  1698835744853 0.439
[LOG] update buffer 1698835744869 0.45667800000000014
[LOG] get chunk:  6  time:  1698835744884  cur buffer:  1698835744869 0.457
[LOG] update buffer 1698835744884 0.47551200000000016
[LOG] get chunk:  7  time:  1698835744916  cur buffer:  1698835744884 0.476
[LOG] get chunk:  8  time:  1698835744916  cur buffer:  1698835744884 0.476
[LOG] update buffer 1698835744916 0.4787330000000001
[LOG] update buffer 1698835744917 0.5119050000000005
[LOG] get chunk:  9  time:  1698835744932  cur buffer:  1698835744917 0.512
[LOG] update buffer 1698835744933 0.5301559999999998
[LOG] get chunk:  10  time:  1698835744947  cur buffer:  1698835744933 0.53
[LOG] update buffer 1698835744948 0.5490349999999999
[LOG] get chunk:  11  time:  1698835744963  cur buffer:  1698835744948 0.549
[LOG] update buffer 1698835744963 0.5678800000000006
[LOG] get chunk:  12  time:  1698835744979  cur buffer:  1698835744963 0.568
[LOG] update buffer 1698835744980 0.5857949999999992
[LOG] get chunk:  13  time:  1698835744994  cur buffer:  1698835744980 0.586
[LOG] update buffer 1698835744995 0.604673
[LOG] get chunk:  14  time:  1698835745011  cur buffer:  1698835744995 0.605
[LOG] get chunk:  15  time:  1698835745012  cur buffer:  1698835744995 0.605
[LOG] index:  0 startts:  1698835744576 ts:  1698835744600 bytes:  1494 total time:  412
[LOG] index:  1 startts:  1698835744615 ts:  1698835744615 bytes:  1500 total time:  412
[LOG] index:  2 startts:  1698835744631 ts:  1698835744631 bytes:  1500 total time:  412
[LOG] index:  3 startts:  1698835744647 ts:  1698835744647 bytes:  1500 total time:  412
[LOG] index:  4 startts:  1698835744663 ts:  1698835744663 bytes:  1500 total time:  412
[LOG] index:  5 startts:  1698835744678 ts:  1698835744678 bytes:  1500 total time:  412
[LOG] index:  6 startts:  1698835744695 ts:  1698835744695 bytes:  1500 total time:  412
[LOG] index:  7 startts:  1698835744710 ts:  1698835744710 bytes:  1500 total time:  412
[LOG] index:  8 startts:  1698835744726 ts:  1698835744726 bytes:  1500 total time:  412
[LOG] index:  9 startts:  1698835744742 ts:  1698835744742 bytes:  1500 total time:  412
[LOG] index:  10 startts:  1698835744758 ts:  1698835744758 bytes:  1500 total time:  412
[LOG] index:  11 startts:  1698835744773 ts:  1698835744773 bytes:  1500 total time:  412
[LOG] index:  12 startts:  1698835744789 ts:  1698835744789 bytes:  1500 total time:  412
[LOG] index:  13 startts:  1698835744805 ts:  1698835744805 bytes:  1500 total time:  412
[LOG] index:  14 startts:  1698835744821 ts:  1698835744821 bytes:  1500 total time:  412
[LOG] index:  15 startts:  1698835744837 ts:  1698835744837 bytes:  1500 total time:  412
[LOG] index:  16 startts:  1698835744852 ts:  1698835744852 bytes:  1500 total time:  412
[LOG] index:  17 startts:  1698835744869 ts:  1698835744869 bytes:  1500 total time:  412
[LOG] index:  18 startts:  1698835744884 ts:  1698835744884 bytes:  1500 total time:  412
[LOG] index:  19 startts:  1698835744900 ts:  1698835744900 bytes:  1500 total time:  412
[LOG] index:  20 startts:  1698835744916 ts:  1698835744916 bytes:  1500 total time:  412
[LOG] index:  21 startts:  1698835744932 ts:  1698835744932 bytes:  1500 total time:  412
[LOG] index:  22 startts:  1698835744947 ts:  1698835744947 bytes:  1500 total time:  412
[LOG] index:  23 startts:  1698835744963 ts:  1698835744963 bytes:  1500 total time:  412
[LOG] index:  24 startts:  1698835744979 ts:  1698835744979 bytes:  1500 total time:  412
[LOG] index:  25 startts:  1698835744994 ts:  1698835744994 bytes:  1500 total time:  412
[LOG] index:  26 startts:  1698835745011 ts:  1698835745011 bytes:  1500 total time:  412
[LOG] index:  27 startts:  1698835745012 ts:  1698835745012 bytes:  753 total time:  412
[LOG] index:  0 start ts/size:  1698835744600 / 1494 id  1 end ts/size:  1698835744821 / 21659 id  15 chunk time:  221 idle time: 0
[LOG] index:  1 start ts/size:  1698835744821 / 1500 id  15 end ts/size:  1698835744821 / 710 id  15 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835744821 / 1500 id  15 end ts/size:  1698835744837 / 1450 id  16 chunk time:  16 idle time:  0
[LOG] index:  3 start ts/size:  1698835744837 / 1500 id  16 end ts/size:  1698835744852 / 1313 id  17 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835744852 / 1500 id  17 end ts/size:  1698835744869 / 1619 id  18 chunk time:  17 idle time:  0
[LOG] index:  5 start ts/size:  1698835744869 / 1500 id  18 end ts/size:  1698835744884 / 1210 id  19 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835744884 / 1500 id  19 end ts/size:  1698835744916 / 2084 id  21 chunk time:  32 idle time:  0
[LOG] index:  7 start ts/size:  1698835744916 / 1500 id  21 end ts/size:  1698835744916 / 923 id  21 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835744916 / 1500 id  21 end ts/size:  1698835744932 / 1959 id  22 chunk time:  16 idle time:  0
[LOG] index:  9 start ts/size:  1698835744947 / 1500 id  23 end ts/size:  1698835744947 / 985 id  23 chunk time:  0 idle time:  15
[LOG] index:  10 start ts/size:  1698835744947 / 1500 id  23 end ts/size:  1698835744963 / 1496 id  24 chunk time:  16 idle time:  0
[LOG] index:  11 start ts/size:  1698835744963 / 1500 id  24 end ts/size:  1698835744979 / 1368 id  25 chunk time:  16 idle time:  0
[LOG] index:  12 start ts/size:  1698835744979 / 1500 id  25 end ts/size:  1698835744994 / 1225 id  26 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835744994 / 1500 id  26 end ts/size:  1698835745011 / 1604 id  27 chunk time:  17 idle time:  0
[LOG] index:  14 start ts/size:  1698835745011 / 1500 id  27 end ts/size:  1698835745012 / 1642 id  28 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 759.1240875912408 39000
[LOG] real bw  759.1240875912214
[LOG] downbytes  41247 time:  434.67992307636166 true bw:  759 downloadtimeinms:  415 latency:  24
'pushing'
759
'now'
'chunk-stream1-00022'
[LOG] update buffer 1698835745016 0.6181529999999995
[LOG] update buffer 1698835745016 0.6513000000000009
[LOG] update buffer 1698835745016 0.6513000000000009
[LOG] update buffer 1698835745016 0.6513000000000009
[LOG] cal jiange, in rmpc, sum:  1.8939035815945366 0.6386706876648806 0.651 1 600 746.49999962675
1
0
200
-10979.543852699324
1
1
600
-10030.58811120452
1
2
1000
-13765.056302850006
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 434.67992307636166,
  trace: [ { s: {}, d: 434.67992307636166, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835744821, bytes: 21659, id: 15, idle: 0 },
    {
      ts: 1698835744821,
      bytes: 710,
      id: 15,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744837,
      bytes: 1450,
      id: 16,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744852,
      bytes: 1313,
      id: 17,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744869,
      bytes: 1619,
      id: 18,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744884,
      bytes: 1210,
      id: 19,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744916,
      bytes: 2084,
      id: 21,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744916,
      bytes: 923,
      id: 21,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744932,
      bytes: 1959,
      id: 22,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744947,
      bytes: 985,
      id: 23,
      idle: -0.8076923076718909
    },
    {
      ts: 1698835744963,
      bytes: 1496,
      id: 24,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744979,
      bytes: 1368,
      id: 25,
      idle: -15.807692307671891
    },
    {
      ts: 1698835744994,
      bytes: 1225,
      id: 26,
      idle: -15.807692307671891
    },
    {
      ts: 1698835745011,
      bytes: 1604,
      id: 27,
      idle: -15.807692307671891
    },
    {
      ts: 1698835745012,
      bytes: 1642,
      id: 28,
      idle: -15.807692307671891
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 2.020058823529412,
  averageBufferLength: 0.39658823529411763,
  currentLatency: 1.929,
  currentBufferLength: 0.605,
  throughputKbps: 754,
  throughputTimestampMs: 1698835745015,
  throughputhis: 759,
  currentTimeAbsolute: 1698835745.015,
  currentTimeRelative: 10.34805,
  segmentBitrateKbps: 600,
  playbackSpeed: 0.9434005099112609,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
    startTime: 10.5,
    requestStartDate: 1698835744576,
    firstByteDate: 1698835744600,
    requestEndDate: 1698835745015,
    availabilityStartTime: 1698835743137,
    wallStartTime: 1698835753637,
    bytesLoaded: 41247,
    bytesTotal: 41247,
    delayLoadingTime: 1698835744576
  }
}
{
  next_buf: 0.9491865980796073,
  next_latency: 1.922145071019995,
  rebuf: 0,
  next_play: 1.2394394319812012
}
{
  next_buf: 0.6959287405167737,
  next_latency: 1.902804159337939,
  rebuf: 0,
  next_play: 1.2411531509497118
}
{
  next_buf: 0.4706663898528408,
  next_latency: 1.979458754554783,
  rebuf: 0,
  next_play: 0.972525362463285
}
{
  bit: 1,
  qoe: -10030.58811120452,
  state: [ 0.6959287405167737, 1.902804159337939, 1.2411531509497118 ]
}
[
  {
    quality: 1,
    reason: { throughput: 746.49999962675, latency: 1.93 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 746.49999962675, latency: 1.93 },
  priority: 0.5,
  getClassName: {}
}
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00023.m4s  time:  1698835745027  cur buffer:  JSHandle@array
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00023.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 11,
    mediaStartTime: 11,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00023.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 22,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835745019,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00023.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835745100 0.5722850000000008
[LOG] update buffer 1698835745116 0.55307
[LOG] get chunk:  1  time:  1698835745279  cur buffer:  1698835745116 0.553
[LOG] get chunk:  2  time:  1698835745280  cur buffer:  1698835745116 0.553
[LOG] update buffer 1698835745280 0.3824650000000016
[LOG] update buffer 1698835745280 0.41556699999999935
[LOG] get chunk:  3  time:  1698835745295  cur buffer:  1698835745280 0.416
[LOG] update buffer 1698835745295 0.43016700000000085
[LOG] get chunk:  4  time:  1698835745311  cur buffer:  1698835745295 0.43
[LOG] update buffer 1698835745312 0.44328900000000004
[LOG] get chunk:  5  time:  1698835745327  cur buffer:  1698835745312 0.443
[LOG] update buffer 1698835745327 0.4576089999999997
[LOG] get chunk:  6  time:  1698835745343  cur buffer:  1698835745327 0.458
[LOG] update buffer 1698835745343 0.4706969999999995
[LOG] get chunk:  7  time:  1698835745358  cur buffer:  1698835745343 0.471
[LOG] update buffer 1698835745359 0.4850519999999996
[LOG] get chunk:  8  time:  1698835745375  cur buffer:  1698835745359 0.485
[LOG] update buffer 1698835745375 0.49801800000000007
[LOG] update buffer 1698835745381 0.4908020000000004
[LOG] get chunk:  9  time:  1698835745390  cur buffer:  1698835745381 0.491
[LOG] update buffer 1698835745390 0.5147169999999992
[LOG] get chunk:  10  time:  1698835745406  cur buffer:  1698835745390 0.515
[LOG] update buffer 1698835745407 0.5317499999999988
[LOG] get chunk:  11  time:  1698835745422  cur buffer:  1698835745407 0.532
[LOG] update buffer 1698835745422 0.5497639999999997
[LOG] get chunk:  12  time:  1698835745438  cur buffer:  1698835745422 0.55
[LOG] update buffer 1698835745438 0.5668019999999991
[LOG] get chunk:  13  time:  1698835745453  cur buffer:  1698835745438 0.567
[LOG] get chunk:  14  time:  1698835745454  cur buffer:  1698835745438 0.567
[LOG] update buffer 1698835745454 0.5846239999999998
[LOG] update buffer 1698835745454 0.6177799999999998
[LOG] update buffer 1698835745459 0.6126799999999992
[LOG] get chunk:  15  time:  1698835745470  cur buffer:  1698835745459 0.613
[LOG] index:  0 startts:  1698835745019 ts:  1698835745043 bytes:  1494 total time:  427
[LOG] index:  1 startts:  1698835745058 ts:  1698835745058 bytes:  1500 total time:  427
[LOG] index:  2 startts:  1698835745073 ts:  1698835745073 bytes:  1500 total time:  427
[LOG] index:  3 startts:  1698835745090 ts:  1698835745090 bytes:  1500 total time:  427
[LOG] index:  4 startts:  1698835745106 ts:  1698835745106 bytes:  1500 total time:  427
[LOG] index:  5 startts:  1698835745121 ts:  1698835745121 bytes:  1500 total time:  427
[LOG] index:  6 startts:  1698835745138 ts:  1698835745138 bytes:  1500 total time:  427
[LOG] index:  7 startts:  1698835745153 ts:  1698835745153 bytes:  1500 total time:  427
[LOG] index:  8 startts:  1698835745169 ts:  1698835745169 bytes:  1500 total time:  427
[LOG] index:  9 startts:  1698835745185 ts:  1698835745185 bytes:  1500 total time:  427
[LOG] index:  10 startts:  1698835745200 ts:  1698835745200 bytes:  1500 total time:  427
[LOG] index:  11 startts:  1698835745217 ts:  1698835745217 bytes:  1500 total time:  427
[LOG] index:  12 startts:  1698835745232 ts:  1698835745232 bytes:  1500 total time:  427
[LOG] index:  13 startts:  1698835745248 ts:  1698835745248 bytes:  1500 total time:  427
[LOG] index:  14 startts:  1698835745264 ts:  1698835745264 bytes:  1500 total time:  427
[LOG] index:  15 startts:  1698835745279 ts:  1698835745279 bytes:  1500 total time:  427
[LOG] index:  16 startts:  1698835745295 ts:  1698835745295 bytes:  1500 total time:  427
[LOG] index:  17 startts:  1698835745311 ts:  1698835745311 bytes:  1500 total time:  427
[LOG] index:  18 startts:  1698835745327 ts:  1698835745327 bytes:  1500 total time:  427
[LOG] index:  19 startts:  1698835745343 ts:  1698835745343 bytes:  1500 total time:  427
[LOG] index:  20 startts:  1698835745358 ts:  1698835745358 bytes:  1500 total time:  427
[LOG] index:  21 startts:  1698835745375 ts:  1698835745375 bytes:  1500 total time:  427
[LOG] index:  22 startts:  1698835745390 ts:  1698835745390 bytes:  1500 total time:  427
[LOG] index:  23 startts:  1698835745406 ts:  1698835745406 bytes:  1500 total time:  427
[LOG] index:  24 startts:  1698835745422 ts:  1698835745422 bytes:  1500 total time:  427
[LOG] index:  25 startts:  1698835745438 ts:  1698835745438 bytes:  1500 total time:  427
[LOG] index:  26 startts:  1698835745453 ts:  1698835745453 bytes:  1500 total time:  427
[LOG] index:  27 startts:  1698835745470 ts:  1698835745470 bytes:  1366 total time:  427
[LOG] index:  0 start ts/size:  1698835745043 / 1494 id  1 end ts/size:  1698835745279 / 22930 id  16 chunk time:  236 idle time: 0
[LOG] index:  1 start ts/size:  1698835745279 / 1500 id  16 end ts/size:  1698835745279 / 791 id  16 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835745279 / 1500 id  16 end ts/size:  1698835745295 / 1273 id  17 chunk time:  16 idle time:  0
[LOG] index:  3 start ts/size:  1698835745295 / 1500 id  17 end ts/size:  1698835745311 / 1158 id  18 chunk time:  16 idle time:  0
[LOG] index:  4 start ts/size:  1698835745311 / 1500 id  18 end ts/size:  1698835745327 / 1776 id  19 chunk time:  16 idle time:  0
[LOG] index:  5 start ts/size:  1698835745327 / 1500 id  19 end ts/size:  1698835745343 / 1083 id  20 chunk time:  16 idle time:  0
[LOG] index:  6 start ts/size:  1698835745343 / 1500 id  20 end ts/size:  1698835745358 / 1715 id  21 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835745358 / 1500 id  21 end ts/size:  1698835745375 / 993 id  22 chunk time:  17 idle time:  0
[LOG] index:  8 start ts/size:  1698835745375 / 1500 id  22 end ts/size:  1698835745390 / 2153 id  23 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835745390 / 1500 id  23 end ts/size:  1698835745406 / 957 id  24 chunk time:  16 idle time:  0
[LOG] index:  10 start ts/size:  1698835745406 / 1500 id  24 end ts/size:  1698835745422 / 1640 id  25 chunk time:  16 idle time:  0
[LOG] index:  11 start ts/size:  1698835745422 / 1500 id  25 end ts/size:  1698835745438 / 1176 id  26 chunk time:  16 idle time:  0
[LOG] index:  12 start ts/size:  1698835745438 / 1500 id  26 end ts/size:  1698835745453 / 1701 id  27 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835745453 / 1500 id  27 end ts/size:  1698835745453 / 997 id  27 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835745453 / 1500 id  27 end ts/size:  1698835745470 / 1517 id  28 chunk time:  17 idle time:  0
[LOG] cur bw/size 0 760.9756097560976 39000
[LOG] real bw  760.9756097560781
[LOG] downbytes  41860 time:  440.0666666660996 true bw:  761 downloadtimeinms:  431 latency:  24
[LOG] update buffer 1698835745475 0.627225000000001
[LOG] update buffer 1698835745475 0.627225000000001
[LOG] update buffer 1698835745475 0.627225000000001
[LOG] cal jiange, in rmpc, sum:  10.993419522621927 0.6959287405167737 0.627 1 600 759.9999996199999
'pushing'
761
'now'
'chunk-stream1-00023'
1
0
200
-8432.296428535987
1
1
600
-7471.740140941545
1
2
1000
-10839.003681841734
1
3
2500
-34133.89060067099
'running time/ms: '
2
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00023.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 440.0666666660996,
  trace: [ { s: {}, d: 440.0666666660996, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835745279, bytes: 22930, id: 16, idle: 0 },
    { ts: 1698835745279, bytes: 791, id: 16, idle: -15.76923076921045 },
    {
      ts: 1698835745295,
      bytes: 1273,
      id: 17,
      idle: -15.76923076921045
    },
    {
      ts: 1698835745311,
      bytes: 1158,
      id: 18,
      idle: -15.76923076921045
    },
    {
      ts: 1698835745327,
      bytes: 1776,
      id: 19,
      idle: -15.76923076921045
    },
    {
      ts: 1698835745343,
      bytes: 1083,
      id: 20,
      idle: -15.76923076921045
    },
    {
      ts: 1698835745358,
      bytes: 1715,
      id: 21,
      idle: -15.76923076921045
    },
    { ts: 1698835745375, bytes: 993, id: 22, idle: -15.76923076921045 },
    {
      ts: 1698835745390,
      bytes: 2153,
      id: 23,
      idle: -15.76923076921045
    },
    { ts: 1698835745406, bytes: 957, id: 24, idle: -15.76923076921045 },
    {
      ts: 1698835745422,
      bytes: 1640,
      id: 25,
      idle: -15.76923076921045
    },
    {
      ts: 1698835745438,
      bytes: 1176,
      id: 26,
      idle: -15.76923076921045
    },
    {
      ts: 1698835745453,
      bytes: 1701,
      id: 27,
      idle: -15.76923076921045
    },
    { ts: 1698835745453, bytes: 997, id: 27, idle: -15.76923076921045 },
    {
      ts: 1698835745470,
      bytes: 1517,
      id: 28,
      idle: -15.76923076921045
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.9994500000000002,
  averageBufferLength: 0.42114999999999997,
  currentLatency: 1.869,
  currentBufferLength: 0.613,
  throughputKbps: 751,
  throughputTimestampMs: 1698835745474,
  throughputhis: 761,
  currentTimeAbsolute: 1698835745.474,
  currentTimeRelative: 10.867496,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.2174137754391023,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00023.m4s',
    startTime: 11,
    requestStartDate: 1698835745019,
    firstByteDate: 1698835745043,
    requestEndDate: 1698835745474,
    availabilityStartTime: 1698835743637,
    wallStartTime: 1698835754637,
    bytesLoaded: 41860,
    bytesTotal: 41860,
    delayLoadingTime: 1698835745019
  }
}
{
  next_buf: 0.8949922142167629,
  next_latency: 1.8235711616509742,
  rebuf: 0,
  next_play: 1.2054586125018925
}
{
  next_buf: 0.6385304271149961,
  next_latency: 1.7962672694176276,
  rebuf: 0,
  next_play: 1.197148434030148
}
{
  next_buf: 0.3664268433978282,
  next_latency: 1.8213215805688812,
  rebuf: 0,
  next_play: 0.8954078166633244
}
{
  next_buf: 0.03333333333333333,
  next_latency: 2.4087615799488287,
  rebuf: 0.5700001461294245,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: -7471.740140941545,
  state: [ 0.6385304271149961, 1.7962672694176276, 1.197148434030148 ]
}
[
  {
    quality: 1,
    reason: { throughput: 759.9999996199999, latency: 1.864 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 759.9999996199999, latency: 1.864 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00024.m4s  time:  1698835745485  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00024.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 11.5,
    mediaStartTime: 11.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00024.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 23,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835745477,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00024.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835745647 0.4178230000000003
[LOG] get chunk:  1  time:  1698835745723  cur buffer:  1698835745647 0.418
[LOG] update buffer 1698835745724 0.3585160000000016
[LOG] get chunk:  2  time:  1698835745740  cur buffer:  1698835745724 0.359
[LOG] update buffer 1698835745740 0.37228999999999957
[LOG] get chunk:  3  time:  1698835745756  cur buffer:  1698835745740 0.372
[LOG] update buffer 1698835745756 0.3859880000000011
[LOG] get chunk:  4  time:  1698835745771  cur buffer:  1698835745756 0.386
[LOG] update buffer 1698835745773 0.39962799999999987
[LOG] get chunk:  5  time:  1698835745788  cur buffer:  1698835745773 0.4
[LOG] get chunk:  6  time:  1698835745788  cur buffer:  1698835745773 0.4
[LOG] update buffer 1698835745789 0.4139989999999987
[LOG] update buffer 1698835745789 0.44711000000000034
[LOG] update buffer 1698835745819 0.4111440000000002
[LOG] get chunk:  7  time:  1698835745820  cur buffer:  1698835745819 0.411
[LOG] get chunk:  8  time:  1698835745820  cur buffer:  1698835745819 0.411
[LOG] update buffer 1698835745820 0.4429130000000008
[LOG] update buffer 1698835745820 0.4760750000000016
[LOG] get chunk:  9  time:  1698835745851  cur buffer:  1698835745820 0.476
[LOG] get chunk:  10  time:  1698835745852  cur buffer:  1698835745820 0.476
[LOG] update buffer 1698835745852 0.4790939999999999
[LOG] update buffer 1698835745852 0.5122549999999997
[LOG] get chunk:  11  time:  1698835745868  cur buffer:  1698835745852 0.512
[LOG] update buffer 1698835745868 0.5303240000000002
[LOG] get chunk:  12  time:  1698835745884  cur buffer:  1698835745868 0.53
[LOG] update buffer 1698835745884 0.5479389999999995
[LOG] get chunk:  13  time:  1698835745900  cur buffer:  1698835745884 0.548
[LOG] update buffer 1698835745901 0.5655380000000001
[LOG] update buffer 1698835745912 0.5544269999999987
[LOG] get chunk:  14  time:  1698835745916  cur buffer:  1698835745912 0.554
[LOG] update buffer 1698835745916 0.5833750000000002
[LOG] get chunk:  15  time:  1698835745932  cur buffer:  1698835745916 0.583
[LOG] index:  0 startts:  1698835745477 ts:  1698835745501 bytes:  1494 total time:  431
[LOG] index:  1 startts:  1698835745516 ts:  1698835745516 bytes:  1500 total time:  431
[LOG] index:  2 startts:  1698835745533 ts:  1698835745533 bytes:  1500 total time:  431
[LOG] index:  3 startts:  1698835745548 ts:  1698835745548 bytes:  1500 total time:  431
[LOG] index:  4 startts:  1698835745564 ts:  1698835745564 bytes:  1500 total time:  431
[LOG] index:  5 startts:  1698835745580 ts:  1698835745580 bytes:  1500 total time:  431
[LOG] index:  6 startts:  1698835745595 ts:  1698835745595 bytes:  1500 total time:  431
[LOG] index:  7 startts:  1698835745612 ts:  1698835745612 bytes:  1500 total time:  431
[LOG] index:  8 startts:  1698835745627 ts:  1698835745627 bytes:  1500 total time:  431
[LOG] index:  9 startts:  1698835745642 ts:  1698835745642 bytes:  1500 total time:  431
[LOG] index:  10 startts:  1698835745659 ts:  1698835745659 bytes:  1500 total time:  431
[LOG] index:  11 startts:  1698835745675 ts:  1698835745675 bytes:  1500 total time:  431
[LOG] index:  12 startts:  1698835745692 ts:  1698835745692 bytes:  1500 total time:  431
[LOG] index:  13 startts:  1698835745707 ts:  1698835745707 bytes:  1500 total time:  431
[LOG] index:  14 startts:  1698835745723 ts:  1698835745723 bytes:  1500 total time:  431
[LOG] index:  15 startts:  1698835745740 ts:  1698835745740 bytes:  1500 total time:  431
[LOG] index:  16 startts:  1698835745756 ts:  1698835745756 bytes:  1500 total time:  431
[LOG] index:  17 startts:  1698835745771 ts:  1698835745771 bytes:  1500 total time:  431
[LOG] index:  18 startts:  1698835745788 ts:  1698835745788 bytes:  1500 total time:  431
[LOG] index:  19 startts:  1698835745803 ts:  1698835745803 bytes:  1500 total time:  431
[LOG] index:  20 startts:  1698835745820 ts:  1698835745820 bytes:  1500 total time:  431
[LOG] index:  21 startts:  1698835745836 ts:  1698835745836 bytes:  1500 total time:  431
[LOG] index:  22 startts:  1698835745851 ts:  1698835745851 bytes:  1500 total time:  431
[LOG] index:  23 startts:  1698835745868 ts:  1698835745868 bytes:  1500 total time:  431
[LOG] index:  24 startts:  1698835745884 ts:  1698835745884 bytes:  1500 total time:  431
[LOG] index:  25 startts:  1698835745900 ts:  1698835745900 bytes:  1500 total time:  431
[LOG] index:  26 startts:  1698835745916 ts:  1698835745916 bytes:  1500 total time:  431
[LOG] index:  27 startts:  1698835745932 ts:  1698835745932 bytes:  1364 total time:  431
[LOG] index:  0 start ts/size:  1698835745501 / 1494 id  1 end ts/size:  1698835745723 / 22340 id  15 chunk time:  222 idle time: 0
[LOG] index:  1 start ts/size:  1698835745723 / 1500 id  15 end ts/size:  1698835745740 / 705 id  16 chunk time:  17 idle time:  0
[LOG] index:  2 start ts/size:  1698835745740 / 1500 id  16 end ts/size:  1698835745756 / 1479 id  17 chunk time:  16 idle time:  0
[LOG] index:  3 start ts/size:  1698835745756 / 1500 id  17 end ts/size:  1698835745771 / 1143 id  18 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835745771 / 1500 id  18 end ts/size:  1698835745788 / 1805 id  19 chunk time:  17 idle time:  0
[LOG] index:  5 start ts/size:  1698835745788 / 1500 id  19 end ts/size:  1698835745788 / 1014 id  19 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835745803 / 1500 id  20 end ts/size:  1698835745820 / 1830 id  21 chunk time:  17 idle time:  15
[LOG] index:  7 start ts/size:  1698835745820 / 1500 id  21 end ts/size:  1698835745820 / 1032 id  21 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835745820 / 1500 id  21 end ts/size:  1698835745851 / 1651 id  23 chunk time:  31 idle time:  0
[LOG] index:  9 start ts/size:  1698835745851 / 1500 id  23 end ts/size:  1698835745851 / 1025 id  23 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835745851 / 1500 id  23 end ts/size:  1698835745868 / 1924 id  24 chunk time:  17 idle time:  0
[LOG] index:  11 start ts/size:  1698835745884 / 1500 id  25 end ts/size:  1698835745884 / 986 id  25 chunk time:  0 idle time:  16
[LOG] index:  12 start ts/size:  1698835745884 / 1500 id  25 end ts/size:  1698835745900 / 1849 id  26 chunk time:  16 idle time:  0
[LOG] index:  13 start ts/size:  1698835745900 / 1500 id  26 end ts/size:  1698835745916 / 867 id  27 chunk time:  16 idle time:  0
[LOG] index:  14 start ts/size:  1698835745916 / 1500 id  27 end ts/size:  1698835745932 / 2208 id  28 chunk time:  16 idle time:  0
[LOG] cur bw/size 0 751.8072289156627 39000
[LOG] real bw  751.8072289156435
[LOG] downbytes  41858 time:  445.4120512814702 true bw:  752 downloadtimeinms:  435 latency:  24
'pushing'
752
'now'
'chunk-stream1-00024'
[LOG] update buffer 1698835745937 0.5920070000000006
[LOG] update buffer 1698835745937 0.5920070000000006
[LOG] update buffer 1698835745937 0.5920070000000006
[LOG] cal jiange, in rmpc, sum:  7.8598694318238875 0.6385304271149961 0.592 1 600 756.49999962175
1
0
200
-6636.886254438335
1
1
600
-5781.650582999365
1
2
1000
-9371.172988915692
1
3
2500
-33952.38729032771
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00024.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 445.4120512814702,
  trace: [ { s: {}, d: 445.4120512814702, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835745723, bytes: 22340, id: 15, idle: 0 },
    {
      ts: 1698835745740,
      bytes: 705,
      id: 16,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745756,
      bytes: 1479,
      id: 17,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745771,
      bytes: 1143,
      id: 18,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745788,
      bytes: 1805,
      id: 19,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745788,
      bytes: 1014,
      id: 19,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745820,
      bytes: 1830,
      id: 21,
      idle: -0.9615384615176374
    },
    {
      ts: 1698835745820,
      bytes: 1032,
      id: 21,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745851,
      bytes: 1651,
      id: 23,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745851,
      bytes: 1025,
      id: 23,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745868,
      bytes: 1924,
      id: 24,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745884,
      bytes: 986,
      id: 25,
      idle: 0.038461538482362556
    },
    {
      ts: 1698835745900,
      bytes: 1849,
      id: 26,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745916,
      bytes: 867,
      id: 27,
      idle: -15.961538461517637
    },
    {
      ts: 1698835745932,
      bytes: 2208,
      id: 28,
      idle: -15.961538461517637
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.9747391304347826,
  averageBufferLength: 0.43826086956521737,
  currentLatency: 1.795,
  currentBufferLength: 0.583,
  throughputKbps: 757,
  throughputTimestampMs: 1698835745936,
  throughputhis: 752,
  currentTimeAbsolute: 1698835745.936,
  currentTimeRelative: 11.40297,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.1882897032590947,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00024.m4s',
    startTime: 11.5,
    requestStartDate: 1698835745477,
    firstByteDate: 1698835745501,
    requestEndDate: 1698835745936,
    availabilityStartTime: 1698835744137,
    wallStartTime: 1698835755637,
    bytesLoaded: 41858,
    bytesTotal: 41858,
    delayLoadingTime: 1698835745477
  }
}
{
  next_buf: 0.8648837242280033,
  next_latency: 1.7551098923758717,
  rebuf: 0,
  next_play: 1.1742404189416558
}
{
  next_buf: 0.6159730294319349,
  next_latency: 1.7365746107985736,
  rebuf: 0,
  next_play: 1.1666757759552744
}
{
  next_buf: 0.34538603019477937,
  next_latency: 1.7643630247801885,
  rebuf: 0,
  next_play: 0.8879528056168697
}
{
  next_buf: 0.03333333333333333,
  next_latency: 2.3974202886035343,
  rebuf: 0.5944792955887007,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: -5781.650582999365,
  state: [ 0.6159730294319349, 1.7365746107985736, 1.1666757759552744 ]
}
[
  {
    quality: 1,
    reason: { throughput: 756.49999962175, latency: 1.79 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 756.49999962175, latency: 1.79 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00025.m4s  time:  1698835745949  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00025.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 12,
    mediaStartTime: 12,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00025.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 24,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835745939,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00025.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835746178 0.30547900000000006
[LOG] update buffer 1698835746178 0.30506300000000053
[LOG] get chunk:  1  time:  1698835746189  cur buffer:  1698835746178 0.305
[LOG] get chunk:  2  time:  1698835746189  cur buffer:  1698835746178 0.305
[LOG] update buffer 1698835746189 0.3287880000000012
[LOG] update buffer 1698835746190 0.3619659999999989
[LOG] get chunk:  3  time:  1698835746205  cur buffer:  1698835746190 0.362
[LOG] update buffer 1698835746205 0.38159200000000126
[LOG] get chunk:  4  time:  1698835746221  cur buffer:  1698835746205 0.382
[LOG] update buffer 1698835746222 0.4008160000000007
[LOG] get chunk:  5  time:  1698835746243  cur buffer:  1698835746222 0.401
[LOG] update buffer 1698835746244 0.4152459999999998
[LOG] get chunk:  6  time:  1698835746260  cur buffer:  1698835746244 0.415
[LOG] update buffer 1698835746260 0.4344429999999999
[LOG] get chunk:  7  time:  1698835746276  cur buffer:  1698835746260 0.434
[LOG] update buffer 1698835746276 0.4536370000000005
[LOG] get chunk:  8  time:  1698835746291  cur buffer:  1698835746276 0.454
[LOG] update buffer 1698835746292 0.47345400000000026
[LOG] get chunk:  9  time:  1698835746308  cur buffer:  1698835746292 0.473
[LOG] update buffer 1698835746308 0.49268
[LOG] get chunk:  10  time:  1698835746323  cur buffer:  1698835746308 0.493
[LOG] update buffer 1698835746324 0.5127600000000001
[LOG] get chunk:  11  time:  1698835746339  cur buffer:  1698835746324 0.513
[LOG] update buffer 1698835746340 0.5319839999999996
[LOG] get chunk:  12  time:  1698835746355  cur buffer:  1698835746340 0.532
[LOG] update buffer 1698835746355 0.5520969999999998
[LOG] get chunk:  13  time:  1698835746371  cur buffer:  1698835746355 0.552
[LOG] get chunk:  14  time:  1698835746371  cur buffer:  1698835746355 0.552
[LOG] update buffer 1698835746372 0.5711169999999992
[LOG] update buffer 1698835746372 0.6042769999999997
[LOG] get chunk:  15  time:  1698835746388  cur buffer:  1698835746372 0.604
[LOG] index:  0 startts:  1698835745939 ts:  1698835745965 bytes:  1494 total time:  423
[LOG] index:  1 startts:  1698835745980 ts:  1698835745980 bytes:  1500 total time:  423
[LOG] index:  2 startts:  1698835745996 ts:  1698835745996 bytes:  1500 total time:  423
[LOG] index:  3 startts:  1698835746013 ts:  1698835746013 bytes:  1500 total time:  423
[LOG] index:  4 startts:  1698835746028 ts:  1698835746028 bytes:  1500 total time:  423
[LOG] index:  5 startts:  1698835746045 ts:  1698835746045 bytes:  1500 total time:  423
[LOG] index:  6 startts:  1698835746060 ts:  1698835746060 bytes:  1500 total time:  423
[LOG] index:  7 startts:  1698835746076 ts:  1698835746076 bytes:  1500 total time:  423
[LOG] index:  8 startts:  1698835746093 ts:  1698835746093 bytes:  1500 total time:  423
[LOG] index:  9 startts:  1698835746109 ts:  1698835746109 bytes:  1500 total time:  423
[LOG] index:  10 startts:  1698835746124 ts:  1698835746124 bytes:  1500 total time:  423
[LOG] index:  11 startts:  1698835746141 ts:  1698835746141 bytes:  1500 total time:  423
[LOG] index:  12 startts:  1698835746157 ts:  1698835746157 bytes:  1500 total time:  423
[LOG] index:  13 startts:  1698835746172 ts:  1698835746172 bytes:  1500 total time:  423
[LOG] index:  14 startts:  1698835746189 ts:  1698835746189 bytes:  1500 total time:  423
[LOG] index:  15 startts:  1698835746205 ts:  1698835746205 bytes:  1500 total time:  423
[LOG] index:  16 startts:  1698835746221 ts:  1698835746221 bytes:  1500 total time:  423
[LOG] index:  17 startts:  1698835746243 ts:  1698835746243 bytes:  1500 total time:  423
[LOG] index:  18 startts:  1698835746259 ts:  1698835746259 bytes:  1500 total time:  423
[LOG] index:  19 startts:  1698835746276 ts:  1698835746276 bytes:  1500 total time:  423
[LOG] index:  20 startts:  1698835746291 ts:  1698835746291 bytes:  1500 total time:  423
[LOG] index:  21 startts:  1698835746308 ts:  1698835746308 bytes:  1500 total time:  423
[LOG] index:  22 startts:  1698835746323 ts:  1698835746323 bytes:  1500 total time:  423
[LOG] index:  23 startts:  1698835746339 ts:  1698835746339 bytes:  1500 total time:  423
[LOG] index:  24 startts:  1698835746355 ts:  1698835746355 bytes:  1500 total time:  423
[LOG] index:  25 startts:  1698835746371 ts:  1698835746371 bytes:  1500 total time:  423
[LOG] index:  26 startts:  1698835746387 ts:  1698835746387 bytes:  1500 total time:  423
[LOG] index:  27 startts:  1698835746388 ts:  1698835746388 bytes:  352 total time:  423
[LOG] index:  0 start ts/size:  1698835745965 / 1494 id  1 end ts/size:  1698835746189 / 21358 id  15 chunk time:  224 idle time: 0
[LOG] index:  1 start ts/size:  1698835746189 / 1500 id  15 end ts/size:  1698835746189 / 683 id  15 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835746189 / 1500 id  15 end ts/size:  1698835746205 / 1536 id  16 chunk time:  16 idle time:  0
[LOG] index:  3 start ts/size:  1698835746205 / 1500 id  16 end ts/size:  1698835746221 / 1061 id  17 chunk time:  16 idle time:  0
[LOG] index:  4 start ts/size:  1698835746221 / 1500 id  17 end ts/size:  1698835746243 / 1932 id  18 chunk time:  22 idle time:  0
[LOG] index:  5 start ts/size:  1698835746243 / 1500 id  18 end ts/size:  1698835746259 / 1062 id  19 chunk time:  16 idle time:  0
[LOG] index:  6 start ts/size:  1698835746259 / 1500 id  19 end ts/size:  1698835746276 / 1851 id  20 chunk time:  17 idle time:  0
[LOG] index:  7 start ts/size:  1698835746276 / 1500 id  20 end ts/size:  1698835746291 / 1180 id  21 chunk time:  15 idle time:  0
[LOG] index:  8 start ts/size:  1698835746291 / 1500 id  21 end ts/size:  1698835746308 / 1350 id  22 chunk time:  17 idle time:  0
[LOG] index:  9 start ts/size:  1698835746308 / 1500 id  22 end ts/size:  1698835746323 / 1501 id  23 chunk time:  15 idle time:  0
[LOG] index:  10 start ts/size:  1698835746323 / 1500 id  23 end ts/size:  1698835746339 / 1297 id  24 chunk time:  16 idle time:  0
[LOG] index:  11 start ts/size:  1698835746339 / 1500 id  24 end ts/size:  1698835746355 / 1392 id  25 chunk time:  16 idle time:  0
[LOG] index:  12 start ts/size:  1698835746355 / 1500 id  25 end ts/size:  1698835746371 / 1718 id  26 chunk time:  16 idle time:  0
[LOG] index:  13 start ts/size:  1698835746371 / 1500 id  26 end ts/size:  1698835746371 / 994 id  26 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835746387 / 1500 id  27 end ts/size:  1698835746388 / 1931 id  28 chunk time:  1 idle time:  16
[LOG] cur bw/size 0 739.3364928909953 39000
[LOG] real bw  739.3364928909764
[LOG] downbytes  40846 time:  441.97466666608017 true bw:  739 downloadtimeinms:  426 latency:  26
'pushing'
739
[LOG] update buffer 1698835746392 0.6199530000000006
[LOG] update buffer 1698835746392 0.6199530000000006
[LOG] update buffer 1698835746393 0.6199530000000006
'now'
'chunk-stream1-00025'
[LOG] cal jiange, in rmpc, sum:  0.6495113808983871 0.6159730294319349 0.62 1 600 745.49999962725
[LOG] [RmpcRule][video] requesting switch to index:  0 Average throughput 745 kbps
1
0
200
-7218.641921022912
'running time/ms: '
0
'in abr rule coll, get all'
'Quality changed requested'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00025.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 441.97466666608017,
  trace: [ { s: {}, d: 441.97466666608017, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835746189, bytes: 21358, id: 15, idle: 0 },
    {
      ts: 1698835746189,
      bytes: 683,
      id: 15,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746205,
      bytes: 1536,
      id: 16,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746221,
      bytes: 1061,
      id: 17,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746243,
      bytes: 1932,
      id: 18,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746259,
      bytes: 1062,
      id: 19,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746276,
      bytes: 1851,
      id: 20,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746291,
      bytes: 1180,
      id: 21,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746308,
      bytes: 1350,
      id: 22,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746323,
      bytes: 1501,
      id: 23,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746339,
      bytes: 1297,
      id: 24,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746355,
      bytes: 1392,
      id: 25,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746371,
      bytes: 1718,
      id: 26,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746371,
      bytes: 994,
      id: 26,
      idle: -16.230769230747693
    },
    {
      ts: 1698835746388,
      bytes: 1931,
      id: 28,
      idle: -0.2307692307476934
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.950884615384615,
  averageBufferLength: 0.4476153846153846,
  currentLatency: 1.777,
  currentBufferLength: 0.604,
  throughputKbps: 751,
  throughputTimestampMs: 1698835746392,
  throughputhis: 739,
  currentTimeAbsolute: 1698835746.392,
  currentTimeRelative: 11.876563,
  segmentBitrateKbps: 600,
  playbackSpeed: 0.864616945038895,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00025.m4s',
    startTime: 12,
    requestStartDate: 1698835745939,
    firstByteDate: 1698835745965,
    requestEndDate: 1698835746391,
    availabilityStartTime: 1698835744637,
    wallStartTime: 1698835756637,
    bytesLoaded: 40846,
    bytesTotal: 40846,
    delayLoadingTime: 1698835745939
  }
}
{
  next_buf: 0.9314998035953335,
  next_latency: 1.7806379659695792,
  rebuf: 0,
  next_play: 1.1872032165975765
}
{
  bit: 0,
  qoe: -7218.641921022912,
  state: [ 0.9314998035953335, 1.7806379659695792, 1.1872032165975765 ]
}
[
  {
    quality: 0,
    reason: { throughput: 745.49999962725, latency: 1.775 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 745.49999962725, latency: 1.775 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 1,
  newQuality: 0,
  reason: { throughput: 745.49999962725, latency: 1.775 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 200000,
    width: 320,
    height: 180,
    scanType: null,
    qualityIndex: 0
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream0'
[LOG] update buffer 1698835746442 0.5773070000000011
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.9384999999999997,
  averageBufferLength: 0.4593571428571428,
  currentLatency: 1.781,
  currentBufferLength: 0.62,
  throughputKbps: 751,
  throughputTimestampMs: 1698835746441,
  throughputhis: -1,
  currentTimeAbsolute: 1698835746.441,
  currentTimeRelative: 11.922211,
  segmentBitrateKbps: 200,
  playbackSpeed: 0.864616945038895,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream0.m4s',
    startTime: null,
    requestStartDate: 1698835746395,
    firstByteDate: 1698835746395,
    requestEndDate: 1698835746441,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
[LOG] update buffer 1698835746444 0.5757250000000003
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00026.m4s  time:  1698835746451  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00026.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 12.5,
    mediaStartTime: 12.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00026.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 25,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835746442,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00026.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835746530  cur buffer:  1698835746444 0.576
[LOG] get chunk:  2  time:  1698835746530  cur buffer:  1698835746444 0.576
[LOG] update buffer 1698835746531 0.5058980000000002
[LOG] update buffer 1698835746531 0.5390119999999996
[LOG] update buffer 1698835746538 0.5314189999999996
[LOG] get chunk:  3  time:  1698835746547  cur buffer:  1698835746538 0.531
[LOG] get chunk:  4  time:  1698835746547  cur buffer:  1698835746538 0.531
[LOG] get chunk:  5  time:  1698835746547  cur buffer:  1698835746538 0.531
[LOG] update buffer 1698835746548 0.5527560000000005
[LOG] update buffer 1698835746548 0.5858740000000004
[LOG] update buffer 1698835746548 0.6189900000000002
[LOG] get chunk:  6  time:  1698835746562  cur buffer:  1698835746548 0.619
[LOG] get chunk:  7  time:  1698835746562  cur buffer:  1698835746548 0.619
[LOG] get chunk:  8  time:  1698835746563  cur buffer:  1698835746548 0.619
[LOG] update buffer 1698835746563 0.6345369999999999
[LOG] update buffer 1698835746563 0.6676479999999998
[LOG] update buffer 1698835746563 0.7007570000000012
[LOG] get chunk:  9  time:  1698835746578  cur buffer:  1698835746563 0.701
[LOG] get chunk:  10  time:  1698835746579  cur buffer:  1698835746563 0.701
[LOG] get chunk:  11  time:  1698835746579  cur buffer:  1698835746563 0.701
[LOG] update buffer 1698835746579 0.7152890000000003
[LOG] update buffer 1698835746579 0.7484070000000003
[LOG] update buffer 1698835746580 0.7815650000000005
[LOG] get chunk:  12  time:  1698835746595  cur buffer:  1698835746580 0.782
[LOG] get chunk:  13  time:  1698835746595  cur buffer:  1698835746580 0.782
[LOG] get chunk:  14  time:  1698835746595  cur buffer:  1698835746580 0.782
[LOG] get chunk:  15  time:  1698835746596  cur buffer:  1698835746580 0.782
[LOG] index:  0 startts:  1698835746442 ts:  1698835746467 bytes:  1494 total time:  129
[LOG] index:  1 startts:  1698835746483 ts:  1698835746483 bytes:  1500 total time:  129
[LOG] index:  2 startts:  1698835746498 ts:  1698835746498 bytes:  1500 total time:  129
[LOG] index:  3 startts:  1698835746515 ts:  1698835746515 bytes:  1500 total time:  129
[LOG] index:  4 startts:  1698835746530 ts:  1698835746530 bytes:  1500 total time:  129
[LOG] index:  5 startts:  1698835746547 ts:  1698835746547 bytes:  1500 total time:  129
[LOG] index:  6 startts:  1698835746562 ts:  1698835746562 bytes:  1500 total time:  129
[LOG] index:  7 startts:  1698835746578 ts:  1698835746578 bytes:  1500 total time:  129
[LOG] index:  8 startts:  1698835746595 ts:  1698835746595 bytes:  1500 total time:  129
[LOG] index:  9 startts:  1698835746596 ts:  1698835746596 bytes:  644 total time:  129
[LOG] index:  0 start ts/size:  1698835746467 / 1494 id  1 end ts/size:  1698835746530 / 6603 id  5 chunk time:  63 idle time: 0
[LOG] index:  1 start ts/size:  1698835746530 / 1500 id  5 end ts/size:  1698835746530 / 337 id  5 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835746530 / 1500 id  5 end ts/size:  1698835746547 / 559 id  6 chunk time:  17 idle time:  0
[LOG] index:  3 start ts/size:  1698835746547 / 1500 id  6 end ts/size:  1698835746547 / 496 id  6 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835746547 / 1500 id  6 end ts/size:  1698835746547 / 606 id  6 chunk time:  0 idle time:  0
[LOG] index:  5 start ts/size:  1698835746547 / 1500 id  6 end ts/size:  1698835746562 / 466 id  7 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835746562 / 1500 id  7 end ts/size:  1698835746562 / 599 id  7 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835746562 / 1500 id  7 end ts/size:  1698835746562 / 467 id  7 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835746562 / 1500 id  7 end ts/size:  1698835746578 / 590 id  8 chunk time:  16 idle time:  0
[LOG] index:  9 start ts/size:  1698835746578 / 1500 id  8 end ts/size:  1698835746578 / 548 id  8 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835746578 / 1500 id  8 end ts/size:  1698835746578 / 524 id  8 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835746578 / 1500 id  8 end ts/size:  1698835746595 / 562 id  9 chunk time:  17 idle time:  0
[LOG] index:  12 start ts/size:  1698835746595 / 1500 id  9 end ts/size:  1698835746595 / 544 id  9 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835746595 / 1500 id  9 end ts/size:  1698835746595 / 578 id  9 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835746596 / 644 id  10 end ts/size:  1698835746596 / 659 id  10 chunk time:  0 idle time:  1
[LOG] cur bw/size 0 750 12000
[LOG] real bw  749.9999999999375
[LOG] downbytes  14138 time:  150.80533333314483 true bw:  750 downloadtimeinms:  131 latency:  25
'pushing'
750
[LOG] update buffer 1698835746599 0.7919710000000002
[LOG] update buffer 1698835746599 0.8250879999999992
'now'
'chunk-stream0-00026'
[LOG] update buffer 1698835746600 0.8579340000000002
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00026.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 150.80533333314483,
  trace: [ { s: {}, d: 150.80533333314483, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835746530, bytes: 6603, id: 5, idle: 0 },
    { ts: 1698835746530, bytes: 337, id: 5, idle: -15.99999999998 },
    { ts: 1698835746547, bytes: 559, id: 6, idle: -15.99999999998 },
    { ts: 1698835746547, bytes: 496, id: 6, idle: -15.99999999998 },
    { ts: 1698835746547, bytes: 606, id: 6, idle: -15.99999999998 },
    { ts: 1698835746562, bytes: 466, id: 7, idle: -15.99999999998 },
    { ts: 1698835746562, bytes: 599, id: 7, idle: -15.99999999998 },
    { ts: 1698835746562, bytes: 467, id: 7, idle: -15.99999999998 },
    { ts: 1698835746578, bytes: 590, id: 8, idle: -15.99999999998 },
    { ts: 1698835746578, bytes: 548, id: 8, idle: -15.99999999998 },
    { ts: 1698835746578, bytes: 524, id: 8, idle: -15.99999999998 },
    { ts: 1698835746595, bytes: 562, id: 9, idle: -15.99999999998 },
    { ts: 1698835746595, bytes: 544, id: 9, idle: -15.99999999998 },
    { ts: 1698835746595, bytes: 578, id: 9, idle: -15.99999999998 },
    { ts: 1698835746596, bytes: 659, id: 10, idle: -5.869333333324747 }
  ]
}
[LOG] update buffer 1698835746600 0.8908160000000009
[LOG] update buffer 1698835746600 0.8908160000000009
[LOG] update buffer 1698835746600 0.8908160000000009
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.9261999999999997,
  averageBufferLength: 0.4808666666666666,
  currentLatency: 1.754,
  currentBufferLength: 0.782,
  throughputKbps: 747,
  throughputTimestampMs: 1698835746599,
  throughputhis: 750,
  currentTimeAbsolute: 1698835746.599,
  currentTimeRelative: 12.107496,
  segmentBitrateKbps: 200,
  playbackSpeed: 1.1822595661805324,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00026.m4s',
    startTime: 12.5,
    requestStartDate: 1698835746442,
    firstByteDate: 1698835746467,
    requestEndDate: 1698835746598,
    availabilityStartTime: 1698835745137,
    wallStartTime: 1698835757637,
    bytesLoaded: 14138,
    bytesTotal: 14138,
    delayLoadingTime: 1698835746442
  }
}
[LOG] cal jiange, in rmpc, sum:  4.545432497180598 0.9314998035953335 0.891 0 200 744.49999962775
1
0
200
-4764.982471088111
1
1
600
-4065.838378727708
1
2
1000
-4424.094630871873
[LOG] [RmpcRule][video] requesting switch to index:  1 Average throughput 744 kbps
1
3
2500
-27836.2189973106
'running time/ms: '
1
'in abr rule coll, get all'
'Quality changed requested'
{
  next_buf: 1.2031360786506065,
  next_latency: 1.7244544131704183,
  rebuf: 0,
  next_play: 1.1588757522150699
}
{
  next_buf: 0.8530239934106251,
  next_latency: 1.6769789969700613,
  rebuf: 0,
  next_play: 1.1300399585458258
}
{
  next_buf: 0.5500755088894834,
  next_latency: 1.6426671814885434,
  rebuf: 0,
  next_play: 1.104849866184169
}
{
  next_buf: 0.03333333333333333,
  next_latency: 2.1847602597205062,
  rebuf: 0.36562708487527784,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: -4065.838378727708,
  state: [ 0.8530239934106251, 1.6769789969700613, 1.1300399585458258 ]
}
[
  {
    quality: 1,
    reason: { throughput: 744.49999962775, latency: 1.752 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 744.49999962775, latency: 1.752 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 0,
  newQuality: 1,
  reason: { throughput: 744.49999962775, latency: 1.752 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 600000,
    width: 480,
    height: 270,
    scanType: null,
    qualityIndex: 1
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream1'
[LOG] update buffer 1698835746611 0.8783170000000009
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.920548387096774,
  averageBufferLength: 0.4940967741935483,
  currentLatency: 1.751,
  currentBufferLength: 0.891,
  throughputKbps: 747,
  throughputTimestampMs: 1698835746610,
  throughputhis: -1,
  currentTimeAbsolute: 1698835746.61,
  currentTimeRelative: 12.121387,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.1822595661805324,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream1.m4s',
    startTime: null,
    requestStartDate: 1698835746603,
    firstByteDate: 1698835746603,
    requestEndDate: 1698835746610,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00027.m4s  time:  1698835746627  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00027.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 13,
    mediaStartTime: 13,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00027.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 26,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835746611,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00027.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835746709 0.761712000000001
[LOG] get chunk:  1  time:  1698835746860  cur buffer:  1698835746709 0.762
[LOG] update buffer 1698835746861 0.6195040000000009
[LOG] get chunk:  2  time:  1698835746876  cur buffer:  1698835746861 0.62
[LOG] update buffer 1698835746876 0.6351479999999992
[LOG] get chunk:  3  time:  1698835746892  cur buffer:  1698835746876 0.635
[LOG] update buffer 1698835746892 0.6496069999999996
[LOG] update buffer 1698835746897 0.6446719999999999
[LOG] get chunk:  4  time:  1698835746907  cur buffer:  1698835746897 0.645
[LOG] update buffer 1698835746908 0.6653590000000005
[LOG] get chunk:  5  time:  1698835746924  cur buffer:  1698835746908 0.665
[LOG] update buffer 1698835746924 0.6800309999999996
[LOG] get chunk:  6  time:  1698835746940  cur buffer:  1698835746924 0.68
[LOG] update buffer 1698835746940 0.6947580000000002
[LOG] get chunk:  7  time:  1698835746955  cur buffer:  1698835746940 0.695
[LOG] update buffer 1698835746956 0.7106189999999994
[LOG] get chunk:  8  time:  1698835746972  cur buffer:  1698835746956 0.711
[LOG] update buffer 1698835746972 0.7253070000000008
[LOG] update buffer 1698835746975 0.7222230000000014
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 1,
  newQuality: 0,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  9  time:  1698835746988  cur buffer:  1698835746975 0.722
[LOG] update buffer 1698835746988 0.7400459999999995
[LOG] get chunk:  10  time:  1698835747003  cur buffer:  1698835746988 0.74
[LOG] update buffer 1698835747004 0.7559179999999994
[LOG] get chunk:  11  time:  1698835747020  cur buffer:  1698835747004 0.756
[LOG] get chunk:  12  time:  1698835747020  cur buffer:  1698835747004 0.756
[LOG] update buffer 1698835747020 0.7702330000000011
[LOG] update buffer 1698835747021 0.8033559999999991
[LOG] get chunk:  13  time:  1698835747052  cur buffer:  1698835747021 0.803
[LOG] get chunk:  14  time:  1698835747052  cur buffer:  1698835747021 0.803
[LOG] update buffer 1698835747052 0.8005420000000001
[LOG] update buffer 1698835747052 0.8336410000000001
[LOG] get chunk:  15  time:  1698835747068  cur buffer:  1698835747052 0.834
[LOG] index:  0 startts:  1698835746611 ts:  1698835746643 bytes:  1494 total time:  425
[LOG] index:  1 startts:  1698835746658 ts:  1698835746658 bytes:  1500 total time:  425
[LOG] index:  2 startts:  1698835746674 ts:  1698835746674 bytes:  1500 total time:  425
[LOG] index:  3 startts:  1698835746690 ts:  1698835746690 bytes:  1500 total time:  425
[LOG] index:  4 startts:  1698835746706 ts:  1698835746706 bytes:  1500 total time:  425
[LOG] index:  5 startts:  1698835746721 ts:  1698835746721 bytes:  1500 total time:  425
[LOG] index:  6 startts:  1698835746738 ts:  1698835746738 bytes:  1500 total time:  425
[LOG] index:  7 startts:  1698835746754 ts:  1698835746754 bytes:  1500 total time:  425
[LOG] index:  8 startts:  1698835746769 ts:  1698835746769 bytes:  1500 total time:  425
[LOG] index:  9 startts:  1698835746786 ts:  1698835746786 bytes:  1500 total time:  425
[LOG] index:  10 startts:  1698835746801 ts:  1698835746801 bytes:  1500 total time:  425
[LOG] index:  11 startts:  1698835746828 ts:  1698835746828 bytes:  1500 total time:  425
[LOG] index:  12 startts:  1698835746844 ts:  1698835746844 bytes:  1500 total time:  425
[LOG] index:  13 startts:  1698835746860 ts:  1698835746860 bytes:  1500 total time:  425
[LOG] index:  14 startts:  1698835746876 ts:  1698835746876 bytes:  1500 total time:  425
[LOG] index:  15 startts:  1698835746892 ts:  1698835746892 bytes:  1500 total time:  425
[LOG] index:  16 startts:  1698835746907 ts:  1698835746907 bytes:  1500 total time:  425
[LOG] index:  17 startts:  1698835746924 ts:  1698835746924 bytes:  1500 total time:  425
[LOG] index:  18 startts:  1698835746940 ts:  1698835746940 bytes:  1500 total time:  425
[LOG] index:  19 startts:  1698835746955 ts:  1698835746955 bytes:  1500 total time:  425
[LOG] index:  20 startts:  1698835746972 ts:  1698835746972 bytes:  1500 total time:  425
[LOG] index:  21 startts:  1698835746988 ts:  1698835746988 bytes:  1500 total time:  425
[LOG] index:  22 startts:  1698835747003 ts:  1698835747003 bytes:  1500 total time:  425
[LOG] index:  23 startts:  1698835747020 ts:  1698835747020 bytes:  1500 total time:  425
[LOG] index:  24 startts:  1698835747035 ts:  1698835747035 bytes:  1500 total time:  425
[LOG] index:  25 startts:  1698835747052 ts:  1698835747052 bytes:  1500 total time:  425
[LOG] index:  26 startts:  1698835747067 ts:  1698835747067 bytes:  1500 total time:  425
[LOG] index:  27 startts:  1698835747068 ts:  1698835747068 bytes:  363 total time:  425
[LOG] index:  0 start ts/size:  1698835746643 / 1494 id  1 end ts/size:  1698835746860 / 20230 id  14 chunk time:  217 idle time: 0
[LOG] index:  1 start ts/size:  1698835746860 / 1500 id  14 end ts/size:  1698835746876 / 819 id  15 chunk time:  16 idle time:  0
[LOG] index:  2 start ts/size:  1698835746876 / 1500 id  15 end ts/size:  1698835746892 / 2316 id  16 chunk time:  16 idle time:  0
[LOG] index:  3 start ts/size:  1698835746892 / 1500 id  16 end ts/size:  1698835746907 / 745 id  17 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835746907 / 1500 id  17 end ts/size:  1698835746924 / 2339 id  18 chunk time:  17 idle time:  0
[LOG] index:  5 start ts/size:  1698835746924 / 1500 id  18 end ts/size:  1698835746940 / 763 id  19 chunk time:  16 idle time:  0
[LOG] index:  6 start ts/size:  1698835746940 / 1500 id  19 end ts/size:  1698835746955 / 1933 id  20 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835746955 / 1500 id  20 end ts/size:  1698835746972 / 997 id  21 chunk time:  17 idle time:  0
[LOG] index:  8 start ts/size:  1698835746972 / 1500 id  21 end ts/size:  1698835746988 / 1700 id  22 chunk time:  16 idle time:  0
[LOG] index:  9 start ts/size:  1698835746988 / 1500 id  22 end ts/size:  1698835747003 / 1206 id  23 chunk time:  15 idle time:  0
[LOG] index:  10 start ts/size:  1698835747003 / 1500 id  23 end ts/size:  1698835747020 / 1897 id  24 chunk time:  17 idle time:  0
[LOG] index:  11 start ts/size:  1698835747020 / 1500 id  24 end ts/size:  1698835747020 / 895 id  24 chunk time:  0 idle time:  0
[LOG] index:  12 start ts/size:  1698835747020 / 1500 id  24 end ts/size:  1698835747052 / 2004 id  26 chunk time:  32 idle time:  0
[LOG] index:  13 start ts/size:  1698835747052 / 1500 id  26 end ts/size:  1698835747052 / 797 id  26 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835747052 / 1500 id  26 end ts/size:  1698835747068 / 2216 id  28 chunk time:  16 idle time:  0
[LOG] cur bw/size 0 735.8490566037735 39000
[LOG] real bw  735.8490566037548
[LOG] downbytes  40857 time:  444.1889230763308 true bw:  736 downloadtimeinms:  428 latency:  32
'pushing'
736
'now'
'chunk-stream1-00027'
[LOG] update buffer 1698835747072 0.8444200000000013
[LOG] update buffer 1698835747072 0.8444200000000013
[LOG] update buffer 1698835747072 0.8444200000000013
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00027.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 444.1889230763308,
  trace: [ { s: {}, d: 444.1889230763308, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835746860, bytes: 20230, id: 14, idle: 0 },
    {
      ts: 1698835746876,
      bytes: 819,
      id: 15,
      idle: -16.307692307670564
    },
    {
      ts: 1698835746892,
      bytes: 2316,
      id: 16,
      idle: -16.307692307670564
    },
    {
      ts: 1698835746907,
      bytes: 745,
      id: 17,
      idle: -16.307692307670564
    },
    {
      ts: 1698835746924,
      bytes: 2339,
      id: 18,
      idle: -16.307692307670564
    },
    {
      ts: 1698835746940,
      bytes: 763,
      id: 19,
      idle: -16.307692307670564
    },
    {
      ts: 1698835746955,
      bytes: 1933,
      id: 20,
      idle: -16.307692307670564
    },
    {
      ts: 1698835746972,
      bytes: 997,
      id: 21,
      idle: -16.307692307670564
    },
    {
      ts: 1698835746988,
      bytes: 1700,
      id: 22,
      idle: -16.307692307670564
    },
    {
      ts: 1698835747003,
      bytes: 1206,
      id: 23,
      idle: -16.307692307670564
    },
    {
      ts: 1698835747020,
      bytes: 1897,
      id: 24,
      idle: -16.307692307670564
    },
    {
      ts: 1698835747020,
      bytes: 895,
      id: 24,
      idle: -16.307692307670564
    },
    {
      ts: 1698835747052,
      bytes: 2004,
      id: 26,
      idle: -16.307692307670564
    },
    {
      ts: 1698835747052,
      bytes: 797,
      id: 26,
      idle: -16.307692307670564
    },
    {
      ts: 1698835747068,
      bytes: 2216,
      id: 28,
      idle: -16.307692307670564
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  1.069193530797768 0.8530239934106251 0.844 1 600 742.9999996285
1
0
200
-3471.327866082872
1
1
600
-2177.5010043829993
1
2
1000
-3168.4667727941587
1
3
2500
-26626.489421675615
'running time/ms: '
1
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.9008529411764705,
  averageBufferLength: 0.5192058823529411,
  currentLatency: 1.683,
  currentBufferLength: 0.834,
  throughputKbps: 742,
  throughputTimestampMs: 1698835747072,
  throughputhis: 736,
  currentTimeAbsolute: 1698835747.072,
  currentTimeRelative: 12.6506,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.1409835596799112,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00027.m4s',
    startTime: 13,
    requestStartDate: 1698835746611,
    firstByteDate: 1698835746643,
    requestEndDate: 1698835747071,
    availabilityStartTime: 1698835745637,
    wallStartTime: 1698835758637,
    bytesLoaded: 40857,
    bytesTotal: 40857,
    delayLoadingTime: 1698835746611
  }
}
{
  next_buf: 1.1237612095792,
  next_latency: 1.6533507116653368,
  rebuf: 0,
  next_play: 1.1147191296996115
}
{
  next_buf: 0.8612115199559025,
  next_latency: 1.6259800262143143,
  rebuf: 0,
  next_play: 1.093367252227861
}
{
  next_buf: 0.5436689022862834,
  next_latency: 1.6116164127169694,
  rebuf: 0,
  next_play: 1.0928546779629684
}
{
  next_buf: 0.03333333333333333,
  next_latency: 2.145803399980947,
  rebuf: 0.3829456129369655,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: -2177.5010043829993,
  state: [ 0.8612115199559025, 1.6259800262143143, 1.093367252227861 ]
}
[
  {
    quality: 1,
    reason: { throughput: 742.9999996285, latency: 1.679 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 742.9999996285, latency: 1.679 },
  priority: 0.5,
  getClassName: {}
}
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00028.m4s  time:  1698835747084  cur buffer:  JSHandle@array
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00028.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 13.5,
    mediaStartTime: 13.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00028.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 27,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835747075,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00028.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835747241 0.6524600000000014
[LOG] update buffer 1698835747256 0.6350500000000014
[LOG] get chunk:  1  time:  1698835747290  cur buffer:  1698835747256 0.635
[LOG] update buffer 1698835747291 0.630198
[LOG] get chunk:  2  time:  1698835747306  cur buffer:  1698835747290 0.63
[LOG] update buffer 1698835747307 0.6454599999999999
[LOG] get chunk:  3  time:  1698835747323  cur buffer:  1698835747307 0.645
[LOG] update buffer 1698835747323 0.6606120000000004
[LOG] get chunk:  4  time:  1698835747338  cur buffer:  1698835747323 0.661
[LOG] update buffer 1698835747338 0.676914
[LOG] get chunk:  5  time:  1698835747354  cur buffer:  1698835747338 0.677
[LOG] update buffer 1698835747355 0.6920979999999997
[LOG] get chunk:  6  time:  1698835747370  cur buffer:  1698835747355 0.692
[LOG] get chunk:  7  time:  1698835747370  cur buffer:  1698835747355 0.692
[LOG] update buffer 1698835747370 0.7081409999999995
[LOG] update buffer 1698835747371 0.7412759999999992
[LOG] get chunk:  8  time:  1698835747411  cur buffer:  1698835747371 0.741
[LOG] update buffer 1698835747412 0.7289260000000013
[LOG] get chunk:  9  time:  1698835747428  cur buffer:  1698835747412 0.729
[LOG] update buffer 1698835747428 0.7440990000000003
[LOG] get chunk:  10  time:  1698835747443  cur buffer:  1698835747428 0.744
[LOG] get chunk:  11  time:  1698835747443  cur buffer:  1698835747428 0.744
[LOG] update buffer 1698835747444 0.760211
[LOG] update buffer 1698835747444 0.7933380000000003
[LOG] get chunk:  12  time:  1698835747475  cur buffer:  1698835747444 0.793
[LOG] get chunk:  13  time:  1698835747475  cur buffer:  1698835747444 0.793
[LOG] update buffer 1698835747475 0.7916979999999985
[LOG] update buffer 1698835747475 0.8248359999999995
[LOG] get chunk:  14  time:  1698835747492  cur buffer:  1698835747475 0.825
[LOG] get chunk:  15  time:  1698835747492  cur buffer:  1698835747475 0.825
[LOG] index:  0 startts:  1698835747075 ts:  1698835747100 bytes:  1494 total time:  392
[LOG] index:  1 startts:  1698835747115 ts:  1698835747115 bytes:  1500 total time:  392
[LOG] index:  2 startts:  1698835747131 ts:  1698835747131 bytes:  1500 total time:  392
[LOG] index:  3 startts:  1698835747147 ts:  1698835747147 bytes:  1500 total time:  392
[LOG] index:  4 startts:  1698835747163 ts:  1698835747163 bytes:  1500 total time:  392
[LOG] index:  5 startts:  1698835747178 ts:  1698835747178 bytes:  1500 total time:  392
[LOG] index:  6 startts:  1698835747195 ts:  1698835747195 bytes:  1500 total time:  392
[LOG] index:  7 startts:  1698835747211 ts:  1698835747211 bytes:  1500 total time:  392
[LOG] index:  8 startts:  1698835747226 ts:  1698835747226 bytes:  1500 total time:  392
[LOG] index:  9 startts:  1698835747243 ts:  1698835747243 bytes:  1500 total time:  392
[LOG] index:  10 startts:  1698835747258 ts:  1698835747258 bytes:  1500 total time:  392
[LOG] index:  11 startts:  1698835747274 ts:  1698835747274 bytes:  1500 total time:  392
[LOG] index:  12 startts:  1698835747290 ts:  1698835747290 bytes:  1500 total time:  392
[LOG] index:  13 startts:  1698835747306 ts:  1698835747306 bytes:  1500 total time:  392
[LOG] index:  14 startts:  1698835747323 ts:  1698835747323 bytes:  1500 total time:  392
[LOG] index:  15 startts:  1698835747338 ts:  1698835747338 bytes:  1500 total time:  392
[LOG] index:  16 startts:  1698835747354 ts:  1698835747354 bytes:  1500 total time:  392
[LOG] index:  17 startts:  1698835747370 ts:  1698835747370 bytes:  1500 total time:  392
[LOG] index:  18 startts:  1698835747387 ts:  1698835747387 bytes:  1500 total time:  392
[LOG] index:  19 startts:  1698835747411 ts:  1698835747411 bytes:  1500 total time:  392
[LOG] index:  20 startts:  1698835747428 ts:  1698835747428 bytes:  1500 total time:  392
[LOG] index:  21 startts:  1698835747443 ts:  1698835747443 bytes:  1500 total time:  392
[LOG] index:  22 startts:  1698835747459 ts:  1698835747459 bytes:  1500 total time:  392
[LOG] index:  23 startts:  1698835747475 ts:  1698835747475 bytes:  1500 total time:  392
[LOG] index:  24 startts:  1698835747491 ts:  1698835747491 bytes:  1500 total time:  392
[LOG] index:  25 startts:  1698835747492 ts:  1698835747492 bytes:  1079 total time:  392
[LOG] index:  0 start ts/size:  1698835747100 / 1494 id  1 end ts/size:  1698835747290 / 19182 id  13 chunk time:  190 idle time: 0
[LOG] index:  1 start ts/size:  1698835747290 / 1500 id  13 end ts/size:  1698835747306 / 739 id  14 chunk time:  16 idle time:  0
[LOG] index:  2 start ts/size:  1698835747306 / 1500 id  14 end ts/size:  1698835747323 / 1783 id  15 chunk time:  17 idle time:  0
[LOG] index:  3 start ts/size:  1698835747323 / 1500 id  15 end ts/size:  1698835747338 / 1281 id  16 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835747338 / 1500 id  16 end ts/size:  1698835747354 / 1202 id  17 chunk time:  16 idle time:  0
[LOG] index:  5 start ts/size:  1698835747354 / 1500 id  17 end ts/size:  1698835747370 / 1770 id  18 chunk time:  16 idle time:  0
[LOG] index:  6 start ts/size:  1698835747370 / 1500 id  18 end ts/size:  1698835747370 / 935 id  18 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835747370 / 1500 id  18 end ts/size:  1698835747411 / 2547 id  20 chunk time:  41 idle time:  0
[LOG] index:  8 start ts/size:  1698835747411 / 1500 id  20 end ts/size:  1698835747428 / 805 id  21 chunk time:  17 idle time:  0
[LOG] index:  9 start ts/size:  1698835747428 / 1500 id  21 end ts/size:  1698835747443 / 1611 id  22 chunk time:  15 idle time:  0
[LOG] index:  10 start ts/size:  1698835747443 / 1500 id  22 end ts/size:  1698835747443 / 956 id  22 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835747443 / 1500 id  22 end ts/size:  1698835747475 / 2211 id  24 chunk time:  32 idle time:  0
[LOG] index:  12 start ts/size:  1698835747475 / 1500 id  24 end ts/size:  1698835747475 / 736 id  24 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835747475 / 1500 id  24 end ts/size:  1698835747492 / 1894 id  26 chunk time:  17 idle time:  0
[LOG] index:  14 start ts/size:  1698835747492 / 1079 id  26 end ts/size:  1698835747492 / 921 id  26 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 736.5728900255755 36000
[LOG] real bw  736.572890025555
[LOG] downbytes  38573 time:  418.94563888833176 true bw:  737 downloadtimeinms:  396 latency:  25
'pushing'
737
'now'
'chunk-stream1-00028'
[LOG] update buffer 1698835747497 0.8346079999999994
[LOG] update buffer 1698835747497 0.8677710000000012
[LOG] update buffer 1698835747497 0.8677710000000012
[LOG] update buffer 1698835747497 0.8677710000000012
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00028.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 418.94563888833176,
  trace: [ { s: {}, d: 418.94563888833176, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835747290, bytes: 19182, id: 13, idle: 0 },
    { ts: 1698835747306, bytes: 739, id: 14, idle: -16.291666666645 },
    { ts: 1698835747323, bytes: 1783, id: 15, idle: -16.291666666645 },
    { ts: 1698835747338, bytes: 1281, id: 16, idle: -16.291666666645 },
    { ts: 1698835747354, bytes: 1202, id: 17, idle: -16.291666666645 },
    { ts: 1698835747370, bytes: 1770, id: 18, idle: -16.291666666645 },
    { ts: 1698835747370, bytes: 935, id: 18, idle: -16.291666666645 },
    { ts: 1698835747411, bytes: 2547, id: 20, idle: -16.291666666645 },
    { ts: 1698835747428, bytes: 805, id: 21, idle: -16.291666666645 },
    { ts: 1698835747443, bytes: 1611, id: 22, idle: -16.291666666645 },
    { ts: 1698835747443, bytes: 956, id: 22, idle: -16.291666666645 },
    { ts: 1698835747475, bytes: 2211, id: 24, idle: -16.291666666645 },
    { ts: 1698835747475, bytes: 736, id: 24, idle: -16.291666666645 },
    { ts: 1698835747492, bytes: 1894, id: 26, idle: -16.291666666645 },
    {
      ts: 1698835747492,
      bytes: 921,
      id: 26,
      idle: -11.719138888873303
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  0.7820829534880944 0.8612115199559025 0.868 1 600 736.4999996317499
1
0
200
-2267.8401012706545
1
1
600
-1035.9561111238813
1
2
1000
-1668.6766474644428
1
3
2500
-25260.379072085507
'running time/ms: '
1
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.879945945945946,
  averageBufferLength: 0.5422432432432431,
  currentLatency: 1.63,
  currentBufferLength: 0.825,
  throughputKbps: 741,
  throughputTimestampMs: 1698835747496,
  throughputhis: 737,
  currentTimeAbsolute: 1698835747.496,
  currentTimeRelative: 13.12755,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.1107609001940584,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00028.m4s',
    startTime: 13.5,
    requestStartDate: 1698835747075,
    firstByteDate: 1698835747100,
    requestEndDate: 1698835747496,
    availabilityStartTime: 1698835746137,
    wallStartTime: 1698835759637,
    bytesLoaded: 38573,
    bytesTotal: 38573,
    delayLoadingTime: 1698835747075
  }
}
{
  next_buf: 1.1525159805545342,
  next_latency: 1.6062933058091158,
  rebuf: 0,
  next_play: 1.0817852204112002
}
{
  next_buf: 0.8942079422794901,
  next_latency: 1.5855399180432377,
  rebuf: 0,
  next_play: 1.0739577758890744
}
{
  next_buf: 0.5709468158046698,
  next_latency: 1.567833442077582,
  rebuf: 0,
  next_play: 1.061698751787309
}
{
  next_buf: 0.036150399463373006,
  next_latency: 2.0963796991758783,
  rebuf: 0.35980069860752856,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: -1035.9561111238813,
  state: [ 0.8942079422794901, 1.5855399180432377, 1.0739577758890744 ]
}
[
  {
    quality: 1,
    reason: { throughput: 736.4999996317499, latency: 1.626 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 736.4999996317499, latency: 1.626 },
  priority: 0.5,
  getClassName: {}
}
[LOG] update buffer 1698835747506 0.8574750000000009
'Quality changed'
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00029.m4s  time:  1698835747507  cur buffer:  JSHandle@array
{
  mediaType: 'video',
  oldQuality: 0,
  newQuality: 1,
  streamId: '0',
  type: 'qualityChangeRendered'
}
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00029.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 14,
    mediaStartTime: 14,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00029.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 28,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835747499,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00029.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835747616 0.7380590000000016
[LOG] get chunk:  1  time:  1698835747712  cur buffer:  1698835747616 0.738
[LOG] update buffer 1698835747712 0.6659950000000006
[LOG] get chunk:  2  time:  1698835747728  cur buffer:  1698835747712 0.666
[LOG] update buffer 1698835747728 0.6815160000000002
[LOG] get chunk:  3  time:  1698835747743  cur buffer:  1698835747728 0.682
[LOG] update buffer 1698835747744 0.6981470000000005
[LOG] get chunk:  4  time:  1698835747760  cur buffer:  1698835747744 0.698
[LOG] update buffer 1698835747760 0.7136430000000011
[LOG] update buffer 1698835747772 0.7010050000000003
[LOG] get chunk:  5  time:  1698835747775  cur buffer:  1698835747772 0.701
[LOG] update buffer 1698835747776 0.7302009999999992
[LOG] get chunk:  6  time:  1698835747790  cur buffer:  1698835747776 0.73
[LOG] update buffer 1698835747791 0.7471399999999999
[LOG] get chunk:  7  time:  1698835747807  cur buffer:  1698835747791 0.747
[LOG] update buffer 1698835747807 0.7629260000000002
[LOG] get chunk:  8  time:  1698835747822  cur buffer:  1698835747807 0.763
[LOG] update buffer 1698835747822 0.7797530000000013
[LOG] get chunk:  9  time:  1698835747838  cur buffer:  1698835747822 0.78
[LOG] update buffer 1698835747839 0.795501999999999
[LOG] get chunk:  10  time:  1698835747854  cur buffer:  1698835747839 0.796
[LOG] update buffer 1698835747854 0.8123539999999991
[LOG] get chunk:  11  time:  1698835747870  cur buffer:  1698835747854 0.812
[LOG] update buffer 1698835747871 0.8280860000000008
[LOG] get chunk:  12  time:  1698835747885  cur buffer:  1698835747871 0.828
[LOG] update buffer 1698835747886 0.8449969999999993
[LOG] get chunk:  13  time:  1698835747902  cur buffer:  1698835747886 0.845
[LOG] get chunk:  14  time:  1698835747903  cur buffer:  1698835747886 0.845
[LOG] get chunk:  15  time:  1698835747903  cur buffer:  1698835747886 0.845
[LOG] index:  0 startts:  1698835747499 ts:  1698835747522 bytes:  1494 total time:  381
[LOG] index:  1 startts:  1698835747538 ts:  1698835747538 bytes:  1500 total time:  381
[LOG] index:  2 startts:  1698835747554 ts:  1698835747554 bytes:  1500 total time:  381
[LOG] index:  3 startts:  1698835747569 ts:  1698835747569 bytes:  1500 total time:  381
[LOG] index:  4 startts:  1698835747586 ts:  1698835747586 bytes:  1500 total time:  381
[LOG] index:  5 startts:  1698835747601 ts:  1698835747601 bytes:  1500 total time:  381
[LOG] index:  6 startts:  1698835747617 ts:  1698835747617 bytes:  1500 total time:  381
[LOG] index:  7 startts:  1698835747633 ts:  1698835747633 bytes:  1500 total time:  381
[LOG] index:  8 startts:  1698835747648 ts:  1698835747648 bytes:  1500 total time:  381
[LOG] index:  9 startts:  1698835747665 ts:  1698835747665 bytes:  1500 total time:  381
[LOG] index:  10 startts:  1698835747680 ts:  1698835747680 bytes:  1500 total time:  381
[LOG] index:  11 startts:  1698835747696 ts:  1698835747696 bytes:  1500 total time:  381
[LOG] index:  12 startts:  1698835747712 ts:  1698835747712 bytes:  1500 total time:  381
[LOG] index:  13 startts:  1698835747728 ts:  1698835747728 bytes:  1500 total time:  381
[LOG] index:  14 startts:  1698835747743 ts:  1698835747743 bytes:  1500 total time:  381
[LOG] index:  15 startts:  1698835747760 ts:  1698835747760 bytes:  1500 total time:  381
[LOG] index:  16 startts:  1698835747775 ts:  1698835747775 bytes:  1500 total time:  381
[LOG] index:  17 startts:  1698835747790 ts:  1698835747790 bytes:  1500 total time:  381
[LOG] index:  18 startts:  1698835747807 ts:  1698835747807 bytes:  1500 total time:  381
[LOG] index:  19 startts:  1698835747822 ts:  1698835747822 bytes:  1500 total time:  381
[LOG] index:  20 startts:  1698835747838 ts:  1698835747838 bytes:  1500 total time:  381
[LOG] index:  21 startts:  1698835747854 ts:  1698835747854 bytes:  1500 total time:  381
[LOG] index:  22 startts:  1698835747870 ts:  1698835747870 bytes:  1500 total time:  381
[LOG] index:  23 startts:  1698835747885 ts:  1698835747885 bytes:  1500 total time:  381
[LOG] index:  24 startts:  1698835747902 ts:  1698835747902 bytes:  1500 total time:  381
[LOG] index:  25 startts:  1698835747903 ts:  1698835747903 bytes:  1228 total time:  381
[LOG] index:  0 start ts/size:  1698835747522 / 1494 id  1 end ts/size:  1698835747712 / 19032 id  13 chunk time:  190 idle time: 0
[LOG] index:  1 start ts/size:  1698835747712 / 1500 id  13 end ts/size:  1698835747728 / 1203 id  14 chunk time:  16 idle time:  0
[LOG] index:  2 start ts/size:  1698835747728 / 1500 id  14 end ts/size:  1698835747743 / 2024 id  15 chunk time:  15 idle time:  0
[LOG] index:  3 start ts/size:  1698835747743 / 1500 id  15 end ts/size:  1698835747760 / 794 id  16 chunk time:  17 idle time:  0
[LOG] index:  4 start ts/size:  1698835747760 / 1500 id  16 end ts/size:  1698835747775 / 2030 id  17 chunk time:  15 idle time:  0
[LOG] index:  5 start ts/size:  1698835747775 / 1500 id  17 end ts/size:  1698835747790 / 804 id  18 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835747790 / 1500 id  18 end ts/size:  1698835747807 / 2457 id  19 chunk time:  17 idle time:  0
[LOG] index:  7 start ts/size:  1698835747807 / 1500 id  19 end ts/size:  1698835747822 / 584 id  20 chunk time:  15 idle time:  0
[LOG] index:  8 start ts/size:  1698835747822 / 1500 id  20 end ts/size:  1698835747838 / 1898 id  21 chunk time:  16 idle time:  0
[LOG] index:  9 start ts/size:  1698835747838 / 1500 id  21 end ts/size:  1698835747854 / 730 id  22 chunk time:  16 idle time:  0
[LOG] index:  10 start ts/size:  1698835747854 / 1500 id  22 end ts/size:  1698835747870 / 2752 id  23 chunk time:  16 idle time:  0
[LOG] index:  11 start ts/size:  1698835747870 / 1500 id  23 end ts/size:  1698835747885 / 547 id  24 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835747885 / 1500 id  24 end ts/size:  1698835747902 / 1380 id  25 chunk time:  17 idle time:  0
[LOG] index:  13 start ts/size:  1698835747902 / 1500 id  25 end ts/size:  1698835747903 / 1799 id  26 chunk time:  1 idle time:  0
[LOG] index:  14 start ts/size:  1698835747903 / 1228 id  26 end ts/size:  1698835747903 / 688 id  26 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 757.8947368421053 36000
[LOG] real bw  757.8947368420843
[LOG] downbytes  38722 time:  408.73222222169426 true bw:  758 downloadtimeinms:  384 latency:  23
'pushing'
758
[LOG] update buffer 1698835747907 0.8552499999999998
'now'
'chunk-stream1-00029'
[LOG] update buffer 1698835747908 0.888071
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00029.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 408.73222222169426,
  trace: [ { s: {}, d: 408.73222222169426, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835747712, bytes: 19032, id: 13, idle: 0 },
    {
      ts: 1698835747728,
      bytes: 1203,
      id: 14,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747743,
      bytes: 2024,
      id: 15,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747760,
      bytes: 794,
      id: 16,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747775,
      bytes: 2030,
      id: 17,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747790,
      bytes: 804,
      id: 18,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747807,
      bytes: 2457,
      id: 19,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747822,
      bytes: 584,
      id: 20,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747838,
      bytes: 1898,
      id: 21,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747854,
      bytes: 730,
      id: 22,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747870,
      bytes: 2752,
      id: 23,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747885,
      bytes: 547,
      id: 24,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747902,
      bytes: 1380,
      id: 25,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747903,
      bytes: 1799,
      id: 26,
      idle: -15.833333333312881
    },
    {
      ts: 1698835747903,
      bytes: 688,
      id: 26,
      idle: -12.962222222205478
    }
  ]
}
[LOG] update buffer 1698835747908 0.9209410000000009
[LOG] update buffer 1698835747908 0.9209410000000009
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.8591250000000001,
  averageBufferLength: 0.5627999999999999,
  currentLatency: 1.591,
  currentBufferLength: 0.845,
  throughputKbps: 744,
  throughputTimestampMs: 1698835747907,
  throughputhis: 758,
  currentTimeAbsolute: 1698835747.907,
  currentTimeRelative: 13.577601,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.0748838846810576,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00029.m4s',
    startTime: 14,
    requestStartDate: 1698835747499,
    firstByteDate: 1698835747522,
    requestEndDate: 1698835747906,
    availabilityStartTime: 1698835746637,
    wallStartTime: 1698835760637,
    bytesLoaded: 38722,
    bytesTotal: 38722,
    delayLoadingTime: 1698835747499
  }
}
[LOG] update buffer 1698835747908 0.9209410000000009
[LOG] cal jiange, in rmpc, sum:  2.909018207537436 0.8942079422794901 0.921 1 600 747.49999962625
1
0
200
-1570.9777026927854
1
1
600
-352.3410043375883
1
2
1000
-1272.92508586728
1
3
2500
-22127.91956067476
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.2136982879836444,
  next_latency: 1.5774775522645796,
  rebuf: 0,
  next_play: 1.060352790121385
}
{
  next_buf: 0.965703164707148,
  next_latency: 1.5630409575499569,
  rebuf: 0,
  next_play: 1.0550794238347558
}
{
  next_buf: 0.6473287496220047,
  next_latency: 1.5462250710266872,
  rebuf: 0,
  next_play: 1.046048973430247
}
{
  next_buf: 0.044292472232672825,
  next_latency: 2.005203059957771,
  rebuf: 0.27024677780381057,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: -352.3410043375883,
  state: [ 0.965703164707148, 1.5630409575499569, 1.0550794238347558 ]
}
[
  {
    quality: 1,
    reason: { throughput: 747.49999962625, latency: 1.591 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 747.49999962625, latency: 1.591 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00030.m4s  time:  1698835747917  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00030.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 14.5,
    mediaStartTime: 14.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00030.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 29,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835747910,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00030.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835747975 0.849298000000001
[LOG] update buffer 1698835748037 0.7821460000000009
[LOG] get chunk:  1  time:  1698835748127  cur buffer:  1698835748037 0.782
[LOG] update buffer 1698835748127 0.7199760000000008
[LOG] get chunk:  2  time:  1698835748142  cur buffer:  1698835748127 0.72
[LOG] update buffer 1698835748143 0.7371409999999994
[LOG] get chunk:  3  time:  1698835748172  cur buffer:  1698835748143 0.737
[LOG] get chunk:  4  time:  1698835748172  cur buffer:  1698835748143 0.737
[LOG] update buffer 1698835748173 0.7386060000000008
[LOG] update buffer 1698835748173 0.771745000000001
[LOG] get chunk:  5  time:  1698835748202  cur buffer:  1698835748173 0.772
[LOG] get chunk:  6  time:  1698835748203  cur buffer:  1698835748173 0.772
[LOG] update buffer 1698835748203 0.7732549999999989
[LOG] update buffer 1698835748203 0.8063970000000005
[LOG] get chunk:  7  time:  1698835748232  cur buffer:  1698835748203 0.806
[LOG] get chunk:  8  time:  1698835748232  cur buffer:  1698835748203 0.806
[LOG] update buffer 1698835748233 0.8085609999999992
[LOG] update buffer 1698835748233 0.8417080000000006
[LOG] get chunk:  9  time:  1698835748263  cur buffer:  1698835748233 0.842
[LOG] get chunk:  10  time:  1698835748263  cur buffer:  1698835748233 0.842
[LOG] update buffer 1698835748263 0.8427209999999992
[LOG] update buffer 1698835748263 0.8758689999999998
[LOG] get chunk:  11  time:  1698835748293  cur buffer:  1698835748263 0.876
[LOG] get chunk:  12  time:  1698835748293  cur buffer:  1698835748263 0.876
[LOG] update buffer 1698835748293 0.877581000000001
[LOG] update buffer 1698835748293 0.9107259999999986
[LOG] update buffer 1698835748303 0.900599999999999
[LOG] update buffer 1698835748335 0.8672259999999987
[LOG] get chunk:  13  time:  1698835748337  cur buffer:  1698835748335 0.867
[LOG] get chunk:  14  time:  1698835748337  cur buffer:  1698835748335 0.867
[LOG] get chunk:  15  time:  1698835748338  cur buffer:  1698835748335 0.867
[LOG] index:  0 startts:  1698835747910 ts:  1698835747934 bytes:  1494 total time:  403
[LOG] index:  1 startts:  1698835747962 ts:  1698835747962 bytes:  1500 total time:  403
[LOG] index:  2 startts:  1698835747977 ts:  1698835747977 bytes:  1500 total time:  403
[LOG] index:  3 startts:  1698835747992 ts:  1698835747992 bytes:  1500 total time:  403
[LOG] index:  4 startts:  1698835748008 ts:  1698835748008 bytes:  1500 total time:  403
[LOG] index:  5 startts:  1698835748022 ts:  1698835748022 bytes:  1500 total time:  403
[LOG] index:  6 startts:  1698835748038 ts:  1698835748038 bytes:  1500 total time:  403
[LOG] index:  7 startts:  1698835748052 ts:  1698835748052 bytes:  1500 total time:  403
[LOG] index:  8 startts:  1698835748068 ts:  1698835748068 bytes:  1500 total time:  403
[LOG] index:  9 startts:  1698835748082 ts:  1698835748082 bytes:  1500 total time:  403
[LOG] index:  10 startts:  1698835748097 ts:  1698835748097 bytes:  1500 total time:  403
[LOG] index:  11 startts:  1698835748113 ts:  1698835748113 bytes:  1500 total time:  403
[LOG] index:  12 startts:  1698835748127 ts:  1698835748127 bytes:  1500 total time:  403
[LOG] index:  13 startts:  1698835748142 ts:  1698835748142 bytes:  1500 total time:  403
[LOG] index:  14 startts:  1698835748158 ts:  1698835748158 bytes:  1500 total time:  403
[LOG] index:  15 startts:  1698835748172 ts:  1698835748172 bytes:  1500 total time:  403
[LOG] index:  16 startts:  1698835748187 ts:  1698835748187 bytes:  1500 total time:  403
[LOG] index:  17 startts:  1698835748202 ts:  1698835748202 bytes:  1500 total time:  403
[LOG] index:  18 startts:  1698835748217 ts:  1698835748217 bytes:  1500 total time:  403
[LOG] index:  19 startts:  1698835748232 ts:  1698835748232 bytes:  1500 total time:  403
[LOG] index:  20 startts:  1698835748247 ts:  1698835748247 bytes:  1500 total time:  403
[LOG] index:  21 startts:  1698835748263 ts:  1698835748263 bytes:  1500 total time:  403
[LOG] index:  22 startts:  1698835748277 ts:  1698835748277 bytes:  1500 total time:  403
[LOG] index:  23 startts:  1698835748293 ts:  1698835748293 bytes:  1500 total time:  403
[LOG] index:  24 startts:  1698835748307 ts:  1698835748307 bytes:  1500 total time:  403
[LOG] index:  25 startts:  1698835748322 ts:  1698835748322 bytes:  1500 total time:  403
[LOG] index:  26 startts:  1698835748337 ts:  1698835748337 bytes:  1500 total time:  403
[LOG] index:  27 startts:  1698835748337 ts:  1698835748337 bytes:  916 total time:  403
[LOG] index:  0 start ts/size:  1698835747934 / 1494 id  1 end ts/size:  1698835748127 / 19213 id  13 chunk time:  193 idle time: 0
[LOG] index:  1 start ts/size:  1698835748127 / 1500 id  13 end ts/size:  1698835748142 / 1300 id  14 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835748142 / 1500 id  14 end ts/size:  1698835748172 / 2566 id  16 chunk time:  30 idle time:  0
[LOG] index:  3 start ts/size:  1698835748172 / 1500 id  16 end ts/size:  1698835748172 / 508 id  16 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835748172 / 1500 id  16 end ts/size:  1698835748202 / 2365 id  18 chunk time:  30 idle time:  0
[LOG] index:  5 start ts/size:  1698835748202 / 1500 id  18 end ts/size:  1698835748202 / 552 id  18 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835748202 / 1500 id  18 end ts/size:  1698835748232 / 2065 id  20 chunk time:  30 idle time:  0
[LOG] index:  7 start ts/size:  1698835748232 / 1500 id  20 end ts/size:  1698835748232 / 852 id  20 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835748232 / 1500 id  20 end ts/size:  1698835748263 / 2914 id  22 chunk time:  31 idle time:  0
[LOG] index:  9 start ts/size:  1698835748263 / 1500 id  22 end ts/size:  1698835748263 / 647 id  22 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835748277 / 1500 id  23 end ts/size:  1698835748293 / 1764 id  24 chunk time:  16 idle time:  14
[LOG] index:  11 start ts/size:  1698835748293 / 1500 id  24 end ts/size:  1698835748293 / 670 id  24 chunk time:  0 idle time:  0
[LOG] index:  12 start ts/size:  1698835748293 / 1500 id  24 end ts/size:  1698835748337 / 4791 id  27 chunk time:  44 idle time:  0
[LOG] index:  13 start ts/size:  1698835748337 / 1500 id  27 end ts/size:  1698835748337 / 513 id  28 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835748337 / 916 id  28 end ts/size:  1698835748337 / 690 id  28 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 774.1935483870968 39000
[LOG] real bw  774.193548387077
[LOG] downbytes  41410 time:  427.90333333279153 true bw:  774 downloadtimeinms:  407 latency:  24
'pushing'
774
[LOG] update buffer 1698835748342 0.8925999999999998
[LOG] update buffer 1698835748342 0.9257279999999994
[LOG] update buffer 1698835748342 0.9588900000000002
'now'
'chunk-stream1-00030'
[LOG] update buffer 1698835748342 0.9588900000000002
[LOG] update buffer 1698835748343 0.9588900000000002
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00030.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 427.90333333279153,
  trace: [ { s: {}, d: 427.90333333279153, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835748127, bytes: 19213, id: 13, idle: 0 },
    {
      ts: 1698835748142,
      bytes: 1300,
      id: 14,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748172,
      bytes: 2566,
      id: 16,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748172,
      bytes: 508,
      id: 16,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748202,
      bytes: 2365,
      id: 18,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748202,
      bytes: 552,
      id: 18,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748232,
      bytes: 2065,
      id: 20,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748232,
      bytes: 852,
      id: 20,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748263,
      bytes: 2914,
      id: 22,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748263,
      bytes: 647,
      id: 22,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748293,
      bytes: 1764,
      id: 24,
      idle: -1.4999999999803748
    },
    {
      ts: 1698835748293,
      bytes: 670,
      id: 24,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748337,
      bytes: 4791,
      id: 27,
      idle: -15.499999999980375
    },
    {
      ts: 1698835748337,
      bytes: 513,
      id: 28,
      idle: -15.499999999980375
    },
    { ts: 1698835748337, bytes: 690, id: 28, idle: -9.465333333321349 }
  ]
}
[LOG] cal jiange, in rmpc, sum:  0.6989744212886655 0.965703164707148 0.959 1 600 765.999999617
1
0
200
-745.3488206827708
1
1
600
189.31201103707704
1
2
1000
-272.1261911320331
1
3
2500
-18068.332418069243
'running time/ms: '
1
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.839186046511628,
  averageBufferLength: 0.5813953488372091,
  currentLatency: 1.564,
  currentBufferLength: 0.867,
  throughputKbps: 756,
  throughputTimestampMs: 1698835748342,
  throughputhis: 774,
  currentTimeAbsolute: 1698835748.342,
  currentTimeRelative: 14.040234,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.0468631397305854,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00030.m4s',
    startTime: 14.5,
    requestStartDate: 1698835747910,
    firstByteDate: 1698835747934,
    requestEndDate: 1698835748341,
    availabilityStartTime: 1698835747137,
    wallStartTime: 1698835761637,
    bytesLoaded: 41410,
    bytesTotal: 41410,
    delayLoadingTime: 1698835747910
  }
}
{
  next_buf: 1.259522005316686,
  next_latency: 1.5540703082540217,
  rebuf: 0,
  next_play: 1.0468631397305854
}
{
  next_buf: 1.0225538850102112,
  next_latency: 1.5441987938222217,
  rebuf: 0,
  next_play: 1.0346310274729178
}
{
  next_buf: 0.7172369820523292,
  next_latency: 1.5339784967390133,
  rebuf: 0,
  next_play: 1.0343454499480638
}
{
  next_buf: 0.06430071036037574,
  next_latency: 1.9018164575427747,
  rebuf: 0.17077614004204347,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: 189.31201103707704,
  state: [ 1.0225538850102112, 1.5441987938222217, 1.0346310274729178 ]
}
[
  {
    quality: 1,
    reason: { throughput: 765.999999617, latency: 1.563 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 765.999999617, latency: 1.563 },
  priority: 0.5,
  getClassName: {}
}
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00031.m4s  time:  1698835748353  cur buffer:  JSHandle@array
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00031.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 15,
    mediaStartTime: 15,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00031.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 30,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835748345,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00031.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835748555  cur buffer:  1698835748343 0.959
[LOG] update buffer 1698835748556 0.7691520000000001
[LOG] update buffer 1698835748569 0.7554400000000001
[LOG] get chunk:  2  time:  1698835748569  cur buffer:  1698835748569 0.755
[LOG] update buffer 1698835748570 0.7876639999999995
[LOG] get chunk:  3  time:  1698835748585  cur buffer:  1698835748570 0.788
[LOG] update buffer 1698835748585 0.8046810000000004
[LOG] get chunk:  4  time:  1698835748614  cur buffer:  1698835748585 0.805
[LOG] update buffer 1698835748615 0.8071619999999999
[LOG] get chunk:  5  time:  1698835748629  cur buffer:  1698835748615 0.807
[LOG] get chunk:  6  time:  1698835748629  cur buffer:  1698835748615 0.807
[LOG] update buffer 1698835748629 0.825289999999999
[LOG] update buffer 1698835748629 0.8584370000000003
[LOG] get chunk:  7  time:  1698835748658  cur buffer:  1698835748629 0.858
[LOG] get chunk:  8  time:  1698835748659  cur buffer:  1698835748629 0.858
[LOG] update buffer 1698835748659 0.8609170000000006
[LOG] update buffer 1698835748659 0.8940610000000007
[LOG] get chunk:  9  time:  1698835748688  cur buffer:  1698835748659 0.894
[LOG] get chunk:  10  time:  1698835748688  cur buffer:  1698835748659 0.894
[LOG] update buffer 1698835748688 0.8965689999999995
[LOG] update buffer 1698835748689 0.9297209999999989
[LOG] update buffer 1698835748694 0.9245529999999995
[LOG] get chunk:  11  time:  1698835748718  cur buffer:  1698835748694 0.925
[LOG] update buffer 1698835748718 0.9323680000000003
[LOG] get chunk:  12  time:  1698835748733  cur buffer:  1698835748718 0.932
[LOG] get chunk:  13  time:  1698835748733  cur buffer:  1698835748718 0.932
[LOG] update buffer 1698835748733 0.9494759999999989
[LOG] update buffer 1698835748734 0.9826309999999996
[LOG] get chunk:  14  time:  1698835748778  cur buffer:  1698835748734 0.983
[LOG] get chunk:  15  time:  1698835748779  cur buffer:  1698835748734 0.983
[LOG] index:  0 startts:  1698835748345 ts:  1698835748368 bytes:  1494 total time:  411
[LOG] index:  1 startts:  1698835748382 ts:  1698835748382 bytes:  1500 total time:  411
[LOG] index:  2 startts:  1698835748397 ts:  1698835748397 bytes:  1500 total time:  411
[LOG] index:  3 startts:  1698835748411 ts:  1698835748411 bytes:  1500 total time:  411
[LOG] index:  4 startts:  1698835748427 ts:  1698835748427 bytes:  1500 total time:  411
[LOG] index:  5 startts:  1698835748442 ts:  1698835748442 bytes:  1500 total time:  411
[LOG] index:  6 startts:  1698835748457 ts:  1698835748457 bytes:  1500 total time:  411
[LOG] index:  7 startts:  1698835748472 ts:  1698835748472 bytes:  1500 total time:  411
[LOG] index:  8 startts:  1698835748487 ts:  1698835748487 bytes:  1500 total time:  411
[LOG] index:  9 startts:  1698835748510 ts:  1698835748510 bytes:  1500 total time:  411
[LOG] index:  10 startts:  1698835748525 ts:  1698835748525 bytes:  1500 total time:  411
[LOG] index:  11 startts:  1698835748539 ts:  1698835748539 bytes:  1500 total time:  411
[LOG] index:  12 startts:  1698835748555 ts:  1698835748555 bytes:  1500 total time:  411
[LOG] index:  13 startts:  1698835748569 ts:  1698835748569 bytes:  1500 total time:  411
[LOG] index:  14 startts:  1698835748585 ts:  1698835748585 bytes:  1500 total time:  411
[LOG] index:  15 startts:  1698835748599 ts:  1698835748599 bytes:  1500 total time:  411
[LOG] index:  16 startts:  1698835748614 ts:  1698835748614 bytes:  1500 total time:  411
[LOG] index:  17 startts:  1698835748629 ts:  1698835748629 bytes:  1500 total time:  411
[LOG] index:  18 startts:  1698835748644 ts:  1698835748644 bytes:  1500 total time:  411
[LOG] index:  19 startts:  1698835748658 ts:  1698835748658 bytes:  1500 total time:  411
[LOG] index:  20 startts:  1698835748674 ts:  1698835748674 bytes:  1500 total time:  411
[LOG] index:  21 startts:  1698835748688 ts:  1698835748688 bytes:  1500 total time:  411
[LOG] index:  22 startts:  1698835748703 ts:  1698835748703 bytes:  1500 total time:  411
[LOG] index:  23 startts:  1698835748718 ts:  1698835748718 bytes:  1500 total time:  411
[LOG] index:  24 startts:  1698835748733 ts:  1698835748733 bytes:  1500 total time:  411
[LOG] index:  25 startts:  1698835748747 ts:  1698835748747 bytes:  1500 total time:  411
[LOG] index:  26 startts:  1698835748763 ts:  1698835748763 bytes:  1500 total time:  411
[LOG] index:  27 startts:  1698835748778 ts:  1698835748778 bytes:  1500 total time:  411
[LOG] index:  28 startts:  1698835748779 ts:  1698835748779 bytes:  94 total time:  411
[LOG] index:  0 start ts/size:  1698835748368 / 1494 id  1 end ts/size:  1698835748555 / 18307 id  13 chunk time:  187 idle time: 0
[LOG] index:  1 start ts/size:  1698835748555 / 1500 id  13 end ts/size:  1698835748569 / 2015 id  14 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835748569 / 1500 id  14 end ts/size:  1698835748585 / 741 id  15 chunk time:  16 idle time:  0
[LOG] index:  3 start ts/size:  1698835748585 / 1500 id  15 end ts/size:  1698835748614 / 4184 id  17 chunk time:  29 idle time:  0
[LOG] index:  4 start ts/size:  1698835748614 / 1500 id  17 end ts/size:  1698835748629 / 431 id  18 chunk time:  15 idle time:  0
[LOG] index:  5 start ts/size:  1698835748629 / 1500 id  18 end ts/size:  1698835748629 / 822 id  18 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835748629 / 1500 id  18 end ts/size:  1698835748658 / 2512 id  20 chunk time:  29 idle time:  0
[LOG] index:  7 start ts/size:  1698835748658 / 1500 id  20 end ts/size:  1698835748658 / 527 id  20 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835748658 / 1500 id  20 end ts/size:  1698835748688 / 2171 id  22 chunk time:  30 idle time:  0
[LOG] index:  9 start ts/size:  1698835748688 / 1500 id  22 end ts/size:  1698835748688 / 647 id  22 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835748688 / 1500 id  22 end ts/size:  1698835748718 / 3597 id  24 chunk time:  30 idle time:  0
[LOG] index:  11 start ts/size:  1698835748733 / 1500 id  25 end ts/size:  1698835748733 / 443 id  25 chunk time:  0 idle time:  15
[LOG] index:  12 start ts/size:  1698835748733 / 1500 id  25 end ts/size:  1698835748733 / 962 id  25 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835748733 / 1500 id  25 end ts/size:  1698835748778 / 4297 id  28 chunk time:  45 idle time:  0
[LOG] index:  14 start ts/size:  1698835748778 / 1500 id  28 end ts/size:  1698835748779 / 432 id  29 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 790.2439024390244 40500
[LOG] real bw  790.243902439005
[LOG] downbytes  42088 time:  426.07604938218736 true bw:  790 downloadtimeinms:  414 latency:  23
'pushing'
790
[LOG] update buffer 1698835748783 0.9639229999999994
[LOG] update buffer 1698835748784 0.997065000000001
[LOG] update buffer 1698835748784 0.997065000000001
'now'
'chunk-stream1-00031'
[LOG] update buffer 1698835748784 0.997065000000001
[LOG] cal jiange, in rmpc, sum:  2.5630777316529976 1.0225538850102112 0.997 1 600 781.9999996089999
1
0
200
-450.8046646155133
1
1
600
683.2998189932366
1
2
1000
-51.7185022783849
1
3
2500
-15226.902667636175
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00031.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 426.07604938218736,
  trace: [ { s: {}, d: 426.07604938218736, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835748555, bytes: 18307, id: 13, idle: 0 },
    {
      ts: 1698835748569,
      bytes: 2015,
      id: 14,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748585,
      bytes: 741,
      id: 15,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748614,
      bytes: 4184,
      id: 17,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748629,
      bytes: 431,
      id: 18,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748629,
      bytes: 822,
      id: 18,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748658,
      bytes: 2512,
      id: 20,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748658,
      bytes: 527,
      id: 20,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748688,
      bytes: 2171,
      id: 22,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748688,
      bytes: 647,
      id: 22,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748718,
      bytes: 3597,
      id: 24,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748733,
      bytes: 443,
      id: 25,
      idle: -0.1851851851663433
    },
    {
      ts: 1698835748733,
      bytes: 962,
      id: 25,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748778,
      bytes: 4297,
      id: 28,
      idle: -15.185185185166343
    },
    {
      ts: 1698835748779,
      bytes: 432,
      id: 29,
      idle: -15.185185185166343
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.820434782608696,
  averageBufferLength: 0.6031956521739129,
  currentLatency: 1.543,
  currentBufferLength: 0.983,
  throughputKbps: 774,
  throughputTimestampMs: 1698835748783,
  throughputhis: 790,
  currentTimeAbsolute: 1698835748.783,
  currentTimeRelative: 14.502244,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.0468631397305854,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00031.m4s',
    startTime: 15,
    requestStartDate: 1698835748345,
    firstByteDate: 1698835748368,
    requestEndDate: 1698835748782,
    availabilityStartTime: 1698835747637,
    wallStartTime: 1698835762637,
    bytesLoaded: 42088,
    bytesTotal: 42088,
    delayLoadingTime: 1698835748345
  }
}
{
  next_buf: 1.3016737120807795,
  next_latency: 1.5355509499963795,
  rebuf: 0,
  next_play: 1.0281035231717572
}
{
  next_buf: 1.074242598092596,
  next_latency: 1.5298743118393987,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.7817687480169275,
  next_latency: 1.5271549375949327,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.054283036541439025,
  next_latency: 1.7770615877257216,
  rebuf: 0.07467959619765929,
  next_play: 0.7547780361479337
}
{
  bit: 1,
  qoe: 683.2998189932366,
  state: [ 1.074242598092596, 1.5298743118393987, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 781.9999996089999, latency: 1.543 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 781.9999996089999, latency: 1.543 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00032.m4s  time:  1698835748793  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00032.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 15.5,
    mediaStartTime: 15.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00032.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 31,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835748785,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00032.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835748834 0.944077
[LOG] get chunk:  1  time:  1698835748970  cur buffer:  1698835748834 0.944
[LOG] update buffer 1698835748971 0.8367789999999999
[LOG] get chunk:  2  time:  1698835748986  cur buffer:  1698835748971 0.837
[LOG] update buffer 1698835748986 0.8543749999999992
[LOG] get chunk:  3  time:  1698835749000  cur buffer:  1698835748986 0.854
[LOG] update buffer 1698835749001 0.8726199999999995
[LOG] get chunk:  4  time:  1698835749015  cur buffer:  1698835749001 0.873
[LOG] update buffer 1698835749015 0.891114
[LOG] update buffer 1698835749053 0.8520130000000012
[LOG] get chunk:  5  time:  1698835749059  cur buffer:  1698835749053 0.852
[LOG] get chunk:  6  time:  1698835749059  cur buffer:  1698835749053 0.852
[LOG] update buffer 1698835749059 0.8786729999999991
[LOG] update buffer 1698835749060 0.9118239999999993
[LOG] get chunk:  7  time:  1698835749074  cur buffer:  1698835749060 0.912
[LOG] update buffer 1698835749075 0.9298369999999991
[LOG] get chunk:  8  time:  1698835749089  cur buffer:  1698835749075 0.93
[LOG] update buffer 1698835749091 0.9461410000000008
[LOG] update buffer 1698835749100 0.9371400000000012
[LOG] get chunk:  9  time:  1698835749134  cur buffer:  1698835749100 0.937
[LOG] get chunk:  10  time:  1698835749135  cur buffer:  1698835749100 0.937
[LOG] get chunk:  11  time:  1698835749135  cur buffer:  1698835749100 0.937
[LOG] update buffer 1698835749135 0.9341679999999997
[LOG] update buffer 1698835749135 0.967312999999999
[LOG] update buffer 1698835749135 1.0004850000000012
[LOG] get chunk:  12  time:  1698835749179  cur buffer:  1698835749135 1
[LOG] update buffer 1698835749179 0.9888729999999999
[LOG] get chunk:  13  time:  1698835749194  cur buffer:  1698835749179 0.989
[LOG] get chunk:  14  time:  1698835749194  cur buffer:  1698835749179 0.989
[LOG] update buffer 1698835749195 1.0062479999999994
[LOG] update buffer 1698835749195 1.0394009999999998
[LOG] get chunk:  15  time:  1698835749224  cur buffer:  1698835749195 1.039
[LOG] index:  0 startts:  1698835748785 ts:  1698835748808 bytes:  1494 total time:  416
[LOG] index:  1 startts:  1698835748822 ts:  1698835748822 bytes:  1500 total time:  416
[LOG] index:  2 startts:  1698835748836 ts:  1698835748836 bytes:  1500 total time:  416
[LOG] index:  3 startts:  1698835748852 ts:  1698835748852 bytes:  1500 total time:  416
[LOG] index:  4 startts:  1698835748867 ts:  1698835748867 bytes:  1500 total time:  416
[LOG] index:  5 startts:  1698835748881 ts:  1698835748881 bytes:  1500 total time:  416
[LOG] index:  6 startts:  1698835748897 ts:  1698835748897 bytes:  1500 total time:  416
[LOG] index:  7 startts:  1698835748911 ts:  1698835748911 bytes:  1500 total time:  416
[LOG] index:  8 startts:  1698835748926 ts:  1698835748926 bytes:  1500 total time:  416
[LOG] index:  9 startts:  1698835748941 ts:  1698835748941 bytes:  1500 total time:  416
[LOG] index:  10 startts:  1698835748956 ts:  1698835748956 bytes:  1500 total time:  416
[LOG] index:  11 startts:  1698835748970 ts:  1698835748970 bytes:  1500 total time:  416
[LOG] index:  12 startts:  1698835748986 ts:  1698835748986 bytes:  1500 total time:  416
[LOG] index:  13 startts:  1698835749000 ts:  1698835749000 bytes:  1500 total time:  416
[LOG] index:  14 startts:  1698835749015 ts:  1698835749015 bytes:  1500 total time:  416
[LOG] index:  15 startts:  1698835749030 ts:  1698835749030 bytes:  1500 total time:  416
[LOG] index:  16 startts:  1698835749059 ts:  1698835749059 bytes:  1500 total time:  416
[LOG] index:  17 startts:  1698835749074 ts:  1698835749074 bytes:  1500 total time:  416
[LOG] index:  18 startts:  1698835749089 ts:  1698835749089 bytes:  1500 total time:  416
[LOG] index:  19 startts:  1698835749104 ts:  1698835749104 bytes:  1500 total time:  416
[LOG] index:  20 startts:  1698835749119 ts:  1698835749119 bytes:  1500 total time:  416
[LOG] index:  21 startts:  1698835749134 ts:  1698835749134 bytes:  1500 total time:  416
[LOG] index:  22 startts:  1698835749149 ts:  1698835749149 bytes:  1500 total time:  416
[LOG] index:  23 startts:  1698835749164 ts:  1698835749164 bytes:  1500 total time:  416
[LOG] index:  24 startts:  1698835749179 ts:  1698835749179 bytes:  1500 total time:  416
[LOG] index:  25 startts:  1698835749194 ts:  1698835749194 bytes:  1500 total time:  416
[LOG] index:  26 startts:  1698835749209 ts:  1698835749209 bytes:  1500 total time:  416
[LOG] index:  27 startts:  1698835749224 ts:  1698835749224 bytes:  1500 total time:  416
[LOG] index:  28 startts:  1698835749224 ts:  1698835749224 bytes:  572 total time:  416
[LOG] index:  0 start ts/size:  1698835748808 / 1494 id  1 end ts/size:  1698835748970 / 17116 id  12 chunk time:  162 idle time: 0
[LOG] index:  1 start ts/size:  1698835748970 / 1500 id  12 end ts/size:  1698835748986 / 1210 id  13 chunk time:  16 idle time:  0
[LOG] index:  2 start ts/size:  1698835748986 / 1500 id  13 end ts/size:  1698835749000 / 2552 id  14 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835749000 / 1500 id  14 end ts/size:  1698835749015 / 340 id  15 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835749015 / 1500 id  15 end ts/size:  1698835749059 / 3069 id  17 chunk time:  44 idle time:  0
[LOG] index:  5 start ts/size:  1698835749059 / 1500 id  17 end ts/size:  1698835749059 / 415 id  17 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835749059 / 1500 id  17 end ts/size:  1698835749074 / 1940 id  18 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835749074 / 1500 id  18 end ts/size:  1698835749089 / 568 id  19 chunk time:  15 idle time:  0
[LOG] index:  8 start ts/size:  1698835749089 / 1500 id  19 end ts/size:  1698835749134 / 4662 id  22 chunk time:  45 idle time:  0
[LOG] index:  9 start ts/size:  1698835749134 / 1500 id  22 end ts/size:  1698835749134 / 422 id  22 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835749134 / 1500 id  22 end ts/size:  1698835749134 / 654 id  22 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835749149 / 1500 id  23 end ts/size:  1698835749179 / 4252 id  25 chunk time:  30 idle time:  15
[LOG] index:  12 start ts/size:  1698835749179 / 1500 id  25 end ts/size:  1698835749194 / 419 id  26 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835749194 / 1500 id  26 end ts/size:  1698835749194 / 724 id  26 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835749194 / 1500 id  26 end ts/size:  1698835749224 / 4223 id  29 chunk time:  30 idle time:  0
[LOG] cur bw/size 0 778.8461538461538 40500
[LOG] real bw  778.8461538461346
[LOG] downbytes  42566 time:  437.2211358019186 true bw:  779 downloadtimeinms:  420 latency:  23
'pushing'
779
[LOG] update buffer 1698835749229 1.0376780000000014
[LOG] update buffer 1698835749229 1.0376780000000014
[LOG] update buffer 1698835749229 1.0376780000000014
'now'
'chunk-stream1-00032'
[LOG] cal jiange, in rmpc, sum:  3.4915797743429864 1.074242598092596 1.038 1 600 784.4999996077499
1
0
200
-192.16148002722593
1
1
600
857.0036874781758
1
2
1000
354.9663051519574
1
3
2500
-11980.6548663385
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00032.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 437.2211358019186,
  trace: [ { s: {}, d: 437.2211358019186, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835748970, bytes: 17116, id: 12, idle: 0 },
    {
      ts: 1698835748986,
      bytes: 1210,
      id: 13,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749000,
      bytes: 2552,
      id: 14,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749015,
      bytes: 340,
      id: 15,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749059,
      bytes: 3069,
      id: 17,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749059,
      bytes: 415,
      id: 17,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749074,
      bytes: 1940,
      id: 18,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749089,
      bytes: 568,
      id: 19,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749134,
      bytes: 4662,
      id: 22,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749134,
      bytes: 422,
      id: 22,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749134,
      bytes: 654,
      id: 22,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749179,
      bytes: 4252,
      id: 25,
      idle: -0.4074074073880052
    },
    {
      ts: 1698835749194,
      bytes: 419,
      id: 26,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749194,
      bytes: 724,
      id: 26,
      idle: -15.407407407388005
    },
    {
      ts: 1698835749224,
      bytes: 4223,
      id: 29,
      idle: -15.407407407388005
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.79756,
  averageBufferLength: 0.6325199999999999,
  currentLatency: 1.532,
  currentBufferLength: 1.039,
  throughputKbps: 781,
  throughputTimestampMs: 1698835749228,
  throughputhis: 779,
  currentTimeAbsolute: 1698835749.228,
  currentTimeRelative: 14.957896,
  segmentBitrateKbps: 600,
  playbackSpeed: 1.0299003983874866,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00032.m4s',
    startTime: 15.5,
    requestStartDate: 1698835748785,
    firstByteDate: 1698835748808,
    requestEndDate: 1698835749228,
    availabilityStartTime: 1698835748137,
    wallStartTime: 1698835763637,
    bytesLoaded: 42566,
    bytesTotal: 42566,
    delayLoadingTime: 1698835748785
  }
}
{
  next_buf: 1.3472036689973117,
  next_latency: 1.5246733950011344,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1242156683436042,
  next_latency: 1.522624846355076,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.8311944405995474,
  next_latency: 1.5185430706186684,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.677515907576061,
  rebuf: 0.0034783019716244368,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: 857.0036874781758,
  state: [ 1.1242156683436042, 1.522624846355076, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 784.4999996077499, latency: 1.528 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 784.4999996077499, latency: 1.528 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00033.m4s  time:  1698835749239  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00033.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 16,
    mediaStartTime: 16,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00033.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 32,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835749231,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00033.m4s',
    responseHeaders: 'flag: 13\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835749366 0.8966470000000015
[LOG] get chunk:  1  time:  1698835749404  cur buffer:  1698835749366 0.897
[LOG] get chunk:  2  time:  1698835749404  cur buffer:  1698835749366 0.897
[LOG] update buffer 1698835749405 0.8910329999999984
[LOG] update buffer 1698835749405 0.9241840000000021
[LOG] update buffer 1698835749412 0.9166520000000009
[LOG] get chunk:  3  time:  1698835749449  cur buffer:  1698835749412 0.917
[LOG] get chunk:  4  time:  1698835749449  cur buffer:  1698835749412 0.917
[LOG] get chunk:  5  time:  1698835749450  cur buffer:  1698835749412 0.917
[LOG] update buffer 1698835749450 0.9124290000000013
[LOG] update buffer 1698835749450 0.9455780000000011
[LOG] update buffer 1698835749450 0.978764
[LOG] get chunk:  6  time:  1698835749509  cur buffer:  1698835749450 0.979
[LOG] get chunk:  7  time:  1698835749510  cur buffer:  1698835749450 0.979
[LOG] update buffer 1698835749510 0.9524399999999975
[LOG] update buffer 1698835749510 0.9855989999999988
[LOG] get chunk:  8  time:  1698835749607  cur buffer:  1698835749510 0.986
[LOG] get chunk:  9  time:  1698835749608  cur buffer:  1698835749510 0.986
[LOG] update buffer 1698835749608 0.9210220000000007
[LOG] update buffer 1698835749608 0.9541779999999989
[LOG] get chunk:  10  time:  1698835749623  cur buffer:  1698835749608 0.954
[LOG] update buffer 1698835749623 0.9725809999999999
[LOG] update buffer 1698835749631 0.964601
[LOG] get chunk:  11  time:  1698835749653  cur buffer:  1698835749631 0.965
[LOG] get chunk:  12  time:  1698835749654  cur buffer:  1698835749631 0.965
[LOG] update buffer 1698835749654 0.9750969999999981
[LOG] update buffer 1698835749654 1.0082450000000005
[LOG] get chunk:  13  time:  1698835749668  cur buffer:  1698835749654 1.008
[LOG] get chunk:  14  time:  1698835749668  cur buffer:  1698835749654 1.008
[LOG] update buffer 1698835749668 1.027387000000001
[LOG] update buffer 1698835749668 1.0605150000000005
[LOG] get chunk:  15  time:  1698835749714  cur buffer:  1698835749668 1.061
[LOG] index:  0 startts:  1698835749231 ts:  1698835749254 bytes:  1494 total time:  460
[LOG] index:  1 startts:  1698835749269 ts:  1698835749269 bytes:  1500 total time:  460
[LOG] index:  2 startts:  1698835749284 ts:  1698835749284 bytes:  1500 total time:  460
[LOG] index:  3 startts:  1698835749299 ts:  1698835749299 bytes:  1500 total time:  460
[LOG] index:  4 startts:  1698835749313 ts:  1698835749313 bytes:  1500 total time:  460
[LOG] index:  5 startts:  1698835749329 ts:  1698835749329 bytes:  1500 total time:  460
[LOG] index:  6 startts:  1698835749344 ts:  1698835749344 bytes:  1500 total time:  460
[LOG] index:  7 startts:  1698835749358 ts:  1698835749358 bytes:  1500 total time:  460
[LOG] index:  8 startts:  1698835749374 ts:  1698835749374 bytes:  1500 total time:  460
[LOG] index:  9 startts:  1698835749388 ts:  1698835749388 bytes:  1500 total time:  460
[LOG] index:  10 startts:  1698835749404 ts:  1698835749404 bytes:  1500 total time:  460
[LOG] index:  11 startts:  1698835749418 ts:  1698835749418 bytes:  1500 total time:  460
[LOG] index:  12 startts:  1698835749434 ts:  1698835749434 bytes:  1500 total time:  460
[LOG] index:  13 startts:  1698835749449 ts:  1698835749449 bytes:  1500 total time:  460
[LOG] index:  14 startts:  1698835749464 ts:  1698835749464 bytes:  1500 total time:  460
[LOG] index:  15 startts:  1698835749479 ts:  1698835749479 bytes:  1500 total time:  460
[LOG] index:  16 startts:  1698835749494 ts:  1698835749494 bytes:  1500 total time:  460
[LOG] index:  17 startts:  1698835749509 ts:  1698835749509 bytes:  1500 total time:  460
[LOG] index:  18 startts:  1698835749524 ts:  1698835749524 bytes:  1500 total time:  460
[LOG] index:  19 startts:  1698835749539 ts:  1698835749539 bytes:  1500 total time:  460
[LOG] index:  20 startts:  1698835749554 ts:  1698835749554 bytes:  1500 total time:  460
[LOG] index:  21 startts:  1698835749568 ts:  1698835749568 bytes:  1500 total time:  460
[LOG] index:  22 startts:  1698835749584 ts:  1698835749584 bytes:  1500 total time:  460
[LOG] index:  23 startts:  1698835749607 ts:  1698835749607 bytes:  1500 total time:  460
[LOG] index:  24 startts:  1698835749623 ts:  1698835749623 bytes:  1500 total time:  460
[LOG] index:  25 startts:  1698835749638 ts:  1698835749638 bytes:  1500 total time:  460
[LOG] index:  26 startts:  1698835749653 ts:  1698835749653 bytes:  1500 total time:  460
[LOG] index:  27 startts:  1698835749668 ts:  1698835749668 bytes:  1485 total time:  460
[LOG] index:  28 startts:  1698835749683 ts:  1698835749683 bytes:  1500 total time:  460
[LOG] index:  29 startts:  1698835749698 ts:  1698835749698 bytes:  1500 total time:  460
[LOG] index:  30 startts:  1698835749713 ts:  1698835749713 bytes:  1500 total time:  460
[LOG] index:  31 startts:  1698835749714 ts:  1698835749714 bytes:  408 total time:  460
[LOG] index:  0 start ts/size:  1698835749254 / 1494 id  1 end ts/size:  1698835749404 / 15187 id  11 chunk time:  150 idle time: 0
[LOG] index:  1 start ts/size:  1698835749404 / 1500 id  11 end ts/size:  1698835749404 / 411 id  11 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835749404 / 1500 id  11 end ts/size:  1698835749449 / 4367 id  14 chunk time:  45 idle time:  0
[LOG] index:  3 start ts/size:  1698835749449 / 1500 id  14 end ts/size:  1698835749449 / 347 id  14 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835749449 / 1500 id  14 end ts/size:  1698835749449 / 550 id  14 chunk time:  0 idle time:  0
[LOG] index:  5 start ts/size:  1698835749449 / 1500 id  14 end ts/size:  1698835749509 / 5432 id  18 chunk time:  60 idle time:  0
[LOG] index:  6 start ts/size:  1698835749509 / 1500 id  18 end ts/size:  1698835749509 / 595 id  18 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835749509 / 1500 id  18 end ts/size:  1698835749607 / 8597 id  24 chunk time:  98 idle time:  0
[LOG] index:  8 start ts/size:  1698835749607 / 1500 id  24 end ts/size:  1698835749607 / 306 id  24 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835749607 / 1500 id  24 end ts/size:  1698835749623 / 459 id  25 chunk time:  16 idle time:  0
[LOG] index:  10 start ts/size:  1698835749623 / 1500 id  25 end ts/size:  1698835749653 / 2886 id  27 chunk time:  30 idle time:  0
[LOG] index:  11 start ts/size:  1698835749653 / 1500 id  27 end ts/size:  1698835749653 / 449 id  27 chunk time:  0 idle time:  0
[LOG] index:  12 start ts/size:  1698835749653 / 1500 id  27 end ts/size:  1698835749668 / 1747 id  28 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835749668 / 1485 id  28 end ts/size:  1698835749668 / 516 id  28 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835749668 / 1485 id  28 end ts/size:  1698835749714 / 5038 id  32 chunk time:  46 idle time:  0
[LOG] cur bw/size 0 781.9548872180451 39000
[LOG] real bw  781.9548872180251
[LOG] downbytes  46887 time:  479.6900769224758 true bw:  782 downloadtimeinms:  463 latency:  23
'pushing'
782
[LOG] update buffer 1698835749718 1.0440819999999995
[LOG] update buffer 1698835749718 1.0440819999999995
'now'
'chunk-stream1-00033'
[LOG] update buffer 1698835749719 1.0440819999999995
[LOG] cal jiange, in rmpc, sum:  7.683493129000884 1.1242156683436042 1.044 1 600 780.4999996097499
1
0
200
-199.99999999999773
1
1
600
800.0000000000023
1
2
1000
200.00000000000222
1
3
2500
-11820.953087157553
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00033.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 479.6900769224758,
  trace: [ { s: {}, d: 479.6900769224758, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 13\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835749404, bytes: 15187, id: 11, idle: 0 },
    {
      ts: 1698835749404,
      bytes: 411,
      id: 11,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749449,
      bytes: 4367,
      id: 14,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749449,
      bytes: 347,
      id: 14,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749449,
      bytes: 550,
      id: 14,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749509,
      bytes: 5432,
      id: 18,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749509,
      bytes: 595,
      id: 18,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749607,
      bytes: 8597,
      id: 24,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749607,
      bytes: 306,
      id: 24,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749623,
      bytes: 459,
      id: 25,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749653,
      bytes: 2886,
      id: 27,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749653,
      bytes: 449,
      id: 27,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749668,
      bytes: 1747,
      id: 28,
      idle: -15.346153846134614
    },
    {
      ts: 1698835749668,
      bytes: 516,
      id: 28,
      idle: -15.192692307673267
    },
    {
      ts: 1698835749714,
      bytes: 5038,
      id: 32,
      idle: -15.192692307673267
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.7821698113207547,
  averageBufferLength: 0.652264150943396,
  currentLatency: 1.528,
  currentBufferLength: 1.061,
  throughputKbps: 784,
  throughputTimestampMs: 1698835749718,
  throughputhis: 782,
  currentTimeAbsolute: 1698835749.718,
  currentTimeRelative: 15.451515,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00033.m4s',
    startTime: 16,
    requestStartDate: 1698835749231,
    firstByteDate: 1698835749254,
    requestEndDate: 1698835749717,
    availabilityStartTime: 1698835748637,
    wallStartTime: 1698835764637,
    bytesLoaded: 46887,
    bytesTotal: 46887,
    delayLoadingTime: 1698835749231
  }
}
{
  next_buf: 1.355877001857785,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1336310055733512,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.8433850092889172,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.677904025457365,
  rebuf: 0.008864559588543791,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: 800.0000000000023,
  state: [ 1.1336310055733512, 1.525, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 780.4999996097499, latency: 1.525 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 780.4999996097499, latency: 1.525 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00034.m4s  time:  1698835749728  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00034.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 16.5,
    mediaStartTime: 16.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00034.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 33,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835749720,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00034.m4s',
    responseHeaders: 'flag: 13\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835749772 0.9906159999999993
[LOG] get chunk:  1  time:  1698835749817  cur buffer:  1698835749772 0.991
[LOG] update buffer 1698835749818 0.9778839999999995
[LOG] get chunk:  2  time:  1698835749833  cur buffer:  1698835749818 0.978
[LOG] update buffer 1698835749833 0.9958780000000012
[LOG] get chunk:  3  time:  1698835749848  cur buffer:  1698835749833 0.996
[LOG] update buffer 1698835749848 1.0139019999999999
[LOG] get chunk:  4  time:  1698835749862  cur buffer:  1698835749848 1.014
[LOG] get chunk:  5  time:  1698835749863  cur buffer:  1698835749848 1.014
[LOG] update buffer 1698835749863 1.03275
[LOG] update buffer 1698835749863 1.065911999999999
[LOG] get chunk:  6  time:  1698835749893  cur buffer:  1698835749863 1.066
[LOG] get chunk:  7  time:  1698835749893  cur buffer:  1698835749863 1.066
[LOG] update buffer 1698835749894 1.0687109999999986
[LOG] update buffer 1698835749894 1.1018729999999977
[LOG] update buffer 1698835749897 1.099009999999998
[LOG] get chunk:  8  time:  1698835749938  cur buffer:  1698835749897 1.099
[LOG] get chunk:  9  time:  1698835749938  cur buffer:  1698835749897 1.099
[LOG] update buffer 1698835749939 1.0903930000000006
[LOG] update buffer 1698835749939 1.1235499999999998
[LOG] get chunk:  10  time:  1698835749952  cur buffer:  1698835749939 1.124
[LOG] update buffer 1698835749953 1.142904999999999
[LOG] get chunk:  11  time:  1698835749983  cur buffer:  1698835749953 1.143
[LOG] update buffer 1698835749983 1.1456099999999978
[LOG] get chunk:  12  time:  1698835749997  cur buffer:  1698835749983 1.146
[LOG] get chunk:  13  time:  1698835749998  cur buffer:  1698835749983 1.146
[LOG] update buffer 1698835749998 1.1644760000000005
[LOG] update buffer 1698835749998 1.1976390000000006
[LOG] get chunk:  14  time:  1698835750028  cur buffer:  1698835749998 1.198
[LOG] get chunk:  15  time:  1698835750029  cur buffer:  1698835749998 1.198
[LOG] index:  0 startts:  1698835749720 ts:  1698835749743 bytes:  1494 total time:  286
[LOG] index:  1 startts:  1698835749758 ts:  1698835749758 bytes:  1500 total time:  286
[LOG] index:  2 startts:  1698835749773 ts:  1698835749773 bytes:  1500 total time:  286
[LOG] index:  3 startts:  1698835749787 ts:  1698835749787 bytes:  1500 total time:  286
[LOG] index:  4 startts:  1698835749803 ts:  1698835749803 bytes:  1500 total time:  286
[LOG] index:  5 startts:  1698835749817 ts:  1698835749817 bytes:  1500 total time:  286
[LOG] index:  6 startts:  1698835749833 ts:  1698835749833 bytes:  1500 total time:  286
[LOG] index:  7 startts:  1698835749848 ts:  1698835749848 bytes:  1500 total time:  286
[LOG] index:  8 startts:  1698835749862 ts:  1698835749862 bytes:  1500 total time:  286
[LOG] index:  9 startts:  1698835749878 ts:  1698835749878 bytes:  1500 total time:  286
[LOG] index:  10 startts:  1698835749893 ts:  1698835749893 bytes:  1500 total time:  286
[LOG] index:  11 startts:  1698835749907 ts:  1698835749907 bytes:  1500 total time:  286
[LOG] index:  12 startts:  1698835749923 ts:  1698835749923 bytes:  1500 total time:  286
[LOG] index:  13 startts:  1698835749938 ts:  1698835749938 bytes:  1500 total time:  286
[LOG] index:  14 startts:  1698835749952 ts:  1698835749952 bytes:  1500 total time:  286
[LOG] index:  15 startts:  1698835749968 ts:  1698835749968 bytes:  1500 total time:  286
[LOG] index:  16 startts:  1698835749983 ts:  1698835749983 bytes:  1500 total time:  286
[LOG] index:  17 startts:  1698835749997 ts:  1698835749997 bytes:  1493 total time:  286
[LOG] index:  18 startts:  1698835750013 ts:  1698835750013 bytes:  1500 total time:  286
[LOG] index:  19 startts:  1698835750028 ts:  1698835750028 bytes:  1493 total time:  286
[LOG] index:  20 startts:  1698835750029 ts:  1698835750029 bytes:  241 total time:  286
[LOG] index:  0 start ts/size:  1698835749743 / 1494 id  1 end ts/size:  1698835749817 / 8963 id  6 chunk time:  74 idle time: 0
[LOG] index:  1 start ts/size:  1698835749833 / 1500 id  7 end ts/size:  1698835749833 / 702 id  7 chunk time:  0 idle time:  16
[LOG] index:  2 start ts/size:  1698835749833 / 1500 id  7 end ts/size:  1698835749848 / 910 id  8 chunk time:  15 idle time:  0
[LOG] index:  3 start ts/size:  1698835749848 / 1500 id  8 end ts/size:  1698835749862 / 2389 id  9 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835749862 / 1500 id  9 end ts/size:  1698835749862 / 356 id  9 chunk time:  0 idle time:  0
[LOG] index:  5 start ts/size:  1698835749862 / 1500 id  9 end ts/size:  1698835749893 / 2291 id  11 chunk time:  31 idle time:  0
[LOG] index:  6 start ts/size:  1698835749893 / 1500 id  11 end ts/size:  1698835749893 / 500 id  11 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835749893 / 1500 id  11 end ts/size:  1698835749938 / 4092 id  14 chunk time:  45 idle time:  0
[LOG] index:  8 start ts/size:  1698835749938 / 1500 id  14 end ts/size:  1698835749938 / 504 id  14 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835749938 / 1500 id  14 end ts/size:  1698835749952 / 720 id  15 chunk time:  14 idle time:  0
[LOG] index:  10 start ts/size:  1698835749952 / 1500 id  15 end ts/size:  1698835749983 / 3546 id  17 chunk time:  31 idle time:  0
[LOG] index:  11 start ts/size:  1698835749983 / 1500 id  17 end ts/size:  1698835749997 / 571 id  18 chunk time:  14 idle time:  0
[LOG] index:  12 start ts/size:  1698835749997 / 1493 id  18 end ts/size:  1698835749997 / 963 id  18 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835749997 / 1493 id  18 end ts/size:  1698835750028 / 3104 id  20 chunk time:  31 idle time:  0
[LOG] index:  14 start ts/size:  1698835750028 / 1493 id  20 end ts/size:  1698835750029 / 610 id  21 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 800 24000
[LOG] real bw  799.9999999999667
[LOG] downbytes  30221 time:  302.2099999996348 true bw:  800 downloadtimeinms:  289 latency:  23
'pushing'
800
[LOG] update buffer 1698835750033 1.196339
[LOG] update buffer 1698835750033 1.2294979999999995
[LOG] update buffer 1698835750033 1.2294979999999995
'now'
'chunk-stream1-00034'
[LOG] update buffer 1698835750033 1.2294979999999995
[LOG] cal jiange, in rmpc, sum:  7.759885626448337 1.1336310055733512 1.229 1 600 790.9999996045
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00034.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 302.2099999996348,
  trace: [ { s: {}, d: 302.2099999996348, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 13\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835749817, bytes: 8963, id: 6, idle: 0 },
    { ts: 1698835749833, bytes: 702, id: 7, idle: 1.000000000018126 },
    { ts: 1698835749848, bytes: 910, id: 8, idle: -14.999999999981874 },
    {
      ts: 1698835749862,
      bytes: 2389,
      id: 9,
      idle: -14.999999999981874
    },
    { ts: 1698835749862, bytes: 356, id: 9, idle: -14.999999999981874 },
    {
      ts: 1698835749893,
      bytes: 2291,
      id: 11,
      idle: -14.999999999981874
    },
    {
      ts: 1698835749893,
      bytes: 500,
      id: 11,
      idle: -14.999999999981874
    },
    {
      ts: 1698835749938,
      bytes: 4092,
      id: 14,
      idle: -14.999999999981874
    },
    {
      ts: 1698835749938,
      bytes: 504,
      id: 14,
      idle: -14.999999999981874
    },
    {
      ts: 1698835749952,
      bytes: 720,
      id: 15,
      idle: -14.999999999981874
    },
    {
      ts: 1698835749983,
      bytes: 3546,
      id: 17,
      idle: -14.999999999981874
    },
    {
      ts: 1698835749997,
      bytes: 571,
      id: 18,
      idle: -14.999999999981874
    },
    {
      ts: 1698835749997,
      bytes: 963,
      id: 18,
      idle: -14.929999999981959
    },
    {
      ts: 1698835750028,
      bytes: 3104,
      id: 20,
      idle: -14.929999999981959
    },
    {
      ts: 1698835750029,
      bytes: 610,
      id: 21,
      idle: -14.929999999981959
    }
  ]
}
1
0
200
-199.99999999999773
1
1
600
800.0000000000023
1
2
1000
1000.0000000000024
[LOG] [RmpcRule][video] requesting switch to index:  2 Average throughput 791 kbps
1
3
2500
-7977.14297773719
'running time/ms: '
1
'in abr rule coll, get all'
'Quality changed requested'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.7683392857142857,
  averageBufferLength: 0.6768749999999998,
  currentLatency: 1.524,
  currentBufferLength: 1.198,
  throughputKbps: 787,
  throughputTimestampMs: 1698835750032,
  throughputhis: 800,
  currentTimeAbsolute: 1698835750.032,
  currentTimeRelative: 15.769919,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00034.m4s',
    startTime: 16.5,
    requestStartDate: 1698835749720,
    firstByteDate: 1698835749743,
    requestEndDate: 1698835750032,
    availabilityStartTime: 1698835749137,
    wallStartTime: 1698835765637,
    bytesLoaded: 30221,
    bytesTotal: 30221,
    delayLoadingTime: 1698835749720
  }
}
{
  next_buf: 1.5415777496207166,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.3227332488621832,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0358887481036492,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.15681047106619123,
  next_latency: 1.5940886008070434,
  rebuf: 0,
  next_play: 0.7883081926346427
}
{
  bit: 2,
  qoe: 1000.0000000000024,
  state: [ 1.0358887481036492, 1.525, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 790.9999996045, latency: 1.525 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 790.9999996045, latency: 1.525 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 1,
  newQuality: 2,
  reason: { throughput: 790.9999996045, latency: 1.525 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 1000000,
    width: 640,
    height: 360,
    scanType: null,
    qualityIndex: 2
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream2'
[LOG] update buffer 1698835750044 1.2184739999999987
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.7640701754385963,
  averageBufferLength: 0.6865614035087717,
  currentLatency: 1.525,
  currentBufferLength: 1.229,
  throughputKbps: 787,
  throughputTimestampMs: 1698835750044,
  throughputhis: -1,
  currentTimeAbsolute: 1698835750.044,
  currentTimeRelative: 15.781285,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream2.m4s',
    startTime: null,
    requestStartDate: 1698835750036,
    firstByteDate: 1698835750036,
    requestEndDate: 1698835750044,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 834,
    bytesTotal: 834,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00035.m4s  time:  1698835750058  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00035.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 17,
    mediaStartTime: 17,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00035.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 34,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835750044,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00035.m4s',
    responseHeaders: 'flag: 7\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835750131 1.1312189999999998
[LOG] update buffer 1698835750162 1.1000249999999987
[LOG] get chunk:  1  time:  1698835750336  cur buffer:  1698835750162 1.1
[LOG] update buffer 1698835750336 0.9592369999999981
[LOG] get chunk:  2  time:  1698835750351  cur buffer:  1698835750336 0.959
[LOG] update buffer 1698835750352 0.9773470000000017
[LOG] get chunk:  3  time:  1698835750381  cur buffer:  1698835750352 0.977
[LOG] update buffer 1698835750381 0.9810149999999993
[LOG] get chunk:  4  time:  1698835750396  cur buffer:  1698835750381 0.981
[LOG] update buffer 1698835750397 0.9990109999999994
[LOG] update buffer 1698835750428 0.967725999999999
[LOG] get chunk:  5  time:  1698835750456  cur buffer:  1698835750428 0.968
[LOG] update buffer 1698835750456 0.9729869999999998
[LOG] get chunk:  6  time:  1698835750471  cur buffer:  1698835750456 0.973
[LOG] update buffer 1698835750471 0.990988999999999
[LOG] get chunk:  7  time:  1698835750486  cur buffer:  1698835750471 0.991
[LOG] update buffer 1698835750487 1.008889
[LOG] update buffer 1698835750491 1.005202999999998
[LOG] get chunk:  8  time:  1698835750530  cur buffer:  1698835750491 1.005
[LOG] get chunk:  9  time:  1698835750531  cur buffer:  1698835750491 1.005
[LOG] update buffer 1698835750531 0.997990999999999
[LOG] update buffer 1698835750531 1.0311540000000008
[LOG] get chunk:  10  time:  1698835750560  cur buffer:  1698835750531 1.031
[LOG] update buffer 1698835750561 1.0348499999999987
[LOG] get chunk:  11  time:  1698835750577  cur buffer:  1698835750561 1.035
[LOG] update buffer 1698835750577 1.0520359999999975
[LOG] get chunk:  12  time:  1698835750621  cur buffer:  1698835750577 1.052
[LOG] update buffer 1698835750621 1.0413820000000023
[LOG] get chunk:  13  time:  1698835750636  cur buffer:  1698835750621 1.041
[LOG] update buffer 1698835750636 1.0593959999999996
[LOG] get chunk:  14  time:  1698835750666  cur buffer:  1698835750636 1.059
[LOG] get chunk:  15  time:  1698835750667  cur buffer:  1698835750636 1.059
[LOG] index:  0 startts:  1698835750044 ts:  1698835750073 bytes:  1494 total time:  593
[LOG] index:  1 startts:  1698835750087 ts:  1698835750087 bytes:  1500 total time:  593
[LOG] index:  2 startts:  1698835750103 ts:  1698835750103 bytes:  1500 total time:  593
[LOG] index:  3 startts:  1698835750118 ts:  1698835750118 bytes:  1500 total time:  593
[LOG] index:  4 startts:  1698835750132 ts:  1698835750132 bytes:  1500 total time:  593
[LOG] index:  5 startts:  1698835750156 ts:  1698835750156 bytes:  1500 total time:  593
[LOG] index:  6 startts:  1698835750171 ts:  1698835750171 bytes:  1500 total time:  593
[LOG] index:  7 startts:  1698835750186 ts:  1698835750186 bytes:  1500 total time:  593
[LOG] index:  8 startts:  1698835750202 ts:  1698835750202 bytes:  1500 total time:  593
[LOG] index:  9 startts:  1698835750216 ts:  1698835750216 bytes:  1500 total time:  593
[LOG] index:  10 startts:  1698835750231 ts:  1698835750231 bytes:  1500 total time:  593
[LOG] index:  11 startts:  1698835750246 ts:  1698835750246 bytes:  1500 total time:  593
[LOG] index:  12 startts:  1698835750261 ts:  1698835750261 bytes:  1500 total time:  593
[LOG] index:  13 startts:  1698835750276 ts:  1698835750276 bytes:  1500 total time:  593
[LOG] index:  14 startts:  1698835750291 ts:  1698835750291 bytes:  1500 total time:  593
[LOG] index:  15 startts:  1698835750306 ts:  1698835750306 bytes:  1500 total time:  593
[LOG] index:  16 startts:  1698835750321 ts:  1698835750321 bytes:  1500 total time:  593
[LOG] index:  17 startts:  1698835750336 ts:  1698835750336 bytes:  1500 total time:  593
[LOG] index:  18 startts:  1698835750351 ts:  1698835750351 bytes:  1500 total time:  593
[LOG] index:  19 startts:  1698835750366 ts:  1698835750366 bytes:  1500 total time:  593
[LOG] index:  20 startts:  1698835750381 ts:  1698835750381 bytes:  1500 total time:  593
[LOG] index:  21 startts:  1698835750396 ts:  1698835750396 bytes:  1500 total time:  593
[LOG] index:  22 startts:  1698835750411 ts:  1698835750411 bytes:  1500 total time:  593
[LOG] index:  23 startts:  1698835750426 ts:  1698835750426 bytes:  1500 total time:  593
[LOG] index:  24 startts:  1698835750441 ts:  1698835750441 bytes:  1500 total time:  593
[LOG] index:  25 startts:  1698835750456 ts:  1698835750456 bytes:  1500 total time:  593
[LOG] index:  26 startts:  1698835750471 ts:  1698835750471 bytes:  1500 total time:  593
[LOG] index:  27 startts:  1698835750486 ts:  1698835750486 bytes:  1492 total time:  593
[LOG] index:  28 startts:  1698835750501 ts:  1698835750501 bytes:  1500 total time:  593
[LOG] index:  29 startts:  1698835750516 ts:  1698835750516 bytes:  1500 total time:  593
[LOG] index:  30 startts:  1698835750530 ts:  1698835750530 bytes:  1486 total time:  593
[LOG] index:  31 startts:  1698835750546 ts:  1698835750546 bytes:  1500 total time:  593
[LOG] index:  32 startts:  1698835750560 ts:  1698835750560 bytes:  1493 total time:  593
[LOG] index:  33 startts:  1698835750577 ts:  1698835750577 bytes:  1493 total time:  593
[LOG] index:  34 startts:  1698835750591 ts:  1698835750591 bytes:  1500 total time:  593
[LOG] index:  35 startts:  1698835750606 ts:  1698835750606 bytes:  1500 total time:  593
[LOG] index:  36 startts:  1698835750621 ts:  1698835750621 bytes:  1493 total time:  593
[LOG] index:  37 startts:  1698835750636 ts:  1698835750636 bytes:  1492 total time:  593
[LOG] index:  38 startts:  1698835750651 ts:  1698835750651 bytes:  1500 total time:  593
[LOG] index:  39 startts:  1698835750666 ts:  1698835750666 bytes:  1500 total time:  593
[LOG] index:  40 startts:  1698835750666 ts:  1698835750666 bytes:  1141 total time:  593
[LOG] index:  0 start ts/size:  1698835750073 / 1494 id  1 end ts/size:  1698835750336 / 25785 id  18 chunk time:  263 idle time: 0
[LOG] index:  1 start ts/size:  1698835750336 / 1500 id  18 end ts/size:  1698835750351 / 1485 id  19 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835750351 / 1500 id  19 end ts/size:  1698835750381 / 3693 id  21 chunk time:  30 idle time:  0
[LOG] index:  3 start ts/size:  1698835750381 / 1500 id  21 end ts/size:  1698835750396 / 909 id  22 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835750396 / 1500 id  22 end ts/size:  1698835750456 / 6761 id  26 chunk time:  60 idle time:  0
[LOG] index:  5 start ts/size:  1698835750456 / 1500 id  26 end ts/size:  1698835750471 / 1016 id  27 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835750471 / 1500 id  27 end ts/size:  1698835750486 / 1292 id  28 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835750486 / 1492 id  28 end ts/size:  1698835750530 / 4370 id  31 chunk time:  44 idle time:  0
[LOG] index:  8 start ts/size:  1698835750530 / 1486 id  31 end ts/size:  1698835750530 / 1018 id  31 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835750530 / 1486 id  31 end ts/size:  1698835750560 / 2702 id  33 chunk time:  30 idle time:  0
[LOG] index:  10 start ts/size:  1698835750560 / 1493 id  33 end ts/size:  1698835750577 / 1556 id  34 chunk time:  17 idle time:  0
[LOG] index:  11 start ts/size:  1698835750577 / 1493 id  34 end ts/size:  1698835750621 / 3708 id  37 chunk time:  44 idle time:  0
[LOG] index:  12 start ts/size:  1698835750621 / 1493 id  37 end ts/size:  1698835750636 / 1176 id  38 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835750636 / 1492 id  38 end ts/size:  1698835750666 / 4538 id  41 chunk time:  30 idle time:  0
[LOG] index:  14 start ts/size:  1698835750666 / 1141 id  41 end ts/size:  1698835750666 / 1075 id  41 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 783.9195979899497 39000
[LOG] real bw  783.9195979899296
[LOG] downbytes  61084 time:  623.3700512812721 true bw:  784 downloadtimeinms:  598 latency:  29
[LOG] update buffer 1698835750672 1.0569950000000006
[LOG] update buffer 1698835750672 1.0901379999999996
[LOG] update buffer 1698835750672 1.0901379999999996
'pushing'
784
'now'
'chunk-stream2-00035'
[LOG] update buffer 1698835750672 1.0901379999999996
[LOG] cal jiange, in rmpc, sum:  4.964335031808032 1.0358887481036492 1.09 2 1000 791.999999604
1
0
200
-599.9999999999977
1
1
600
400.0000000000023
1
2
1000
600.0000000000023
1
3
2500
-10041.622211379348
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00035.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 623.3700512812721,
  trace: [ { s: {}, d: 623.3700512812721, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 7\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835750336, bytes: 25785, id: 18, idle: 0 },
    {
      ts: 1698835750351,
      bytes: 1485,
      id: 19,
      idle: -15.307692307673175
    },
    {
      ts: 1698835750381,
      bytes: 3693,
      id: 21,
      idle: -15.307692307673175
    },
    {
      ts: 1698835750396,
      bytes: 909,
      id: 22,
      idle: -15.307692307673175
    },
    {
      ts: 1698835750456,
      bytes: 6761,
      id: 26,
      idle: -15.307692307673175
    },
    {
      ts: 1698835750471,
      bytes: 1016,
      id: 27,
      idle: -15.307692307673175
    },
    {
      ts: 1698835750486,
      bytes: 1292,
      id: 28,
      idle: -15.307692307673175
    },
    {
      ts: 1698835750530,
      bytes: 4370,
      id: 31,
      idle: -15.226051282032252
    },
    {
      ts: 1698835750530,
      bytes: 1018,
      id: 31,
      idle: -15.164820512801558
    },
    {
      ts: 1698835750560,
      bytes: 2702,
      id: 33,
      idle: -15.164820512801558
    },
    {
      ts: 1698835750577,
      bytes: 1556,
      id: 34,
      idle: -15.236256410237367
    },
    {
      ts: 1698835750621,
      bytes: 3708,
      id: 37,
      idle: -15.236256410237367
    },
    {
      ts: 1698835750636,
      bytes: 1176,
      id: 38,
      idle: -15.236256410237367
    },
    {
      ts: 1698835750666,
      bytes: 4538,
      id: 41,
      idle: -15.226051282032252
    },
    {
      ts: 1698835750666,
      bytes: 1075,
      id: 41,
      idle: -11.644051282036727
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.7484098360655735,
  averageBufferLength: 0.7102622950819669,
  currentLatency: 1.529,
  currentBufferLength: 1.059,
  throughputKbps: 789,
  throughputTimestampMs: 1698835750672,
  throughputhis: 784,
  currentTimeAbsolute: 1698835750.672,
  currentTimeRelative: 16.404533,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00035.m4s',
    startTime: 17,
    requestStartDate: 1698835750044,
    firstByteDate: 1698835750073,
    requestEndDate: 1698835750671,
    availabilityStartTime: 1698835749637,
    wallStartTime: 1698835766637,
    bytesLoaded: 61084,
    bytesTotal: 61084,
    delayLoadingTime: 1698835750044
  }
}
{
  next_buf: 1.4037373736742436,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.151212121022728,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9326868683712123,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.09853518777085934,
  next_latency: 1.6718180168428294,
  rebuf: 0,
  next_play: 0.7673825357582844
}
{
  bit: 2,
  qoe: 600.0000000000023,
  state: [ 0.9326868683712123, 1.525, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 791.999999604, latency: 1.525 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 791.999999604, latency: 1.525 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00036.m4s  time:  1698835750681  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00036.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 17.5,
    mediaStartTime: 17.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00036.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 35,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835750674,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00036.m4s',
    responseHeaders: 'flag: 11\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835750694 1.0688219999999973
[LOG] update buffer 1698835750850 0.912469999999999
[LOG] update buffer 1698835750959 0.803134
[LOG] get chunk:  1  time:  1698835750974  cur buffer:  1698835750959 0.803
[LOG] update buffer 1698835750975 0.8209149999999994
[LOG] get chunk:  2  time:  1698835751005  cur buffer:  1698835750975 0.821
[LOG] update buffer 1698835751005 0.8238100000000017
[LOG] get chunk:  3  time:  1698835751019  cur buffer:  1698835751005 0.824
[LOG] update buffer 1698835751020 0.8428199999999997
[LOG] get chunk:  4  time:  1698835751050  cur buffer:  1698835751020 0.843
[LOG] update buffer 1698835751050 0.8454949999999997
[LOG] get chunk:  5  time:  1698835751064  cur buffer:  1698835751050 0.845
[LOG] update buffer 1698835751065 0.864176999999998
[LOG] get chunk:  6  time:  1698835751095  cur buffer:  1698835751065 0.864
[LOG] update buffer 1698835751095 0.8672829999999969
[LOG] get chunk:  7  time:  1698835751109  cur buffer:  1698835751095 0.867
[LOG] update buffer 1698835751110 0.8859999999999992
[LOG] get chunk:  8  time:  1698835751139  cur buffer:  1698835751110 0.886
[LOG] update buffer 1698835751139 0.8896820000000005
[LOG] get chunk:  9  time:  1698835751154  cur buffer:  1698835751139 0.89
[LOG] update buffer 1698835751155 0.9076939999999993
[LOG] get chunk:  10  time:  1698835751170  cur buffer:  1698835751155 0.908
[LOG] update buffer 1698835751170 0.9256980000000006
[LOG] update buffer 1698835751209 0.8864379999999983
[LOG] update buffer 1698835751225 0.8708609999999979
[LOG] get chunk:  11  time:  1698835751229  cur buffer:  1698835751225 0.871
[LOG] update buffer 1698835751230 0.8994679999999988
[LOG] get chunk:  12  time:  1698835751253  cur buffer:  1698835751230 0.899
[LOG] update buffer 1698835751253 0.9090179999999997
[LOG] get chunk:  13  time:  1698835751268  cur buffer:  1698835751253 0.909
[LOG] update buffer 1698835751269 0.9269990000000021
[LOG] get chunk:  14  time:  1698835751298  cur buffer:  1698835751269 0.927
[LOG] get chunk:  15  time:  1698835751299  cur buffer:  1698835751269 0.927
[LOG] index:  0 startts:  1698835750674 ts:  1698835750704 bytes:  1494 total time:  595
[LOG] index:  1 startts:  1698835750719 ts:  1698835750719 bytes:  1500 total time:  595
[LOG] index:  2 startts:  1698835750735 ts:  1698835750735 bytes:  1500 total time:  595
[LOG] index:  3 startts:  1698835750750 ts:  1698835750750 bytes:  1500 total time:  595
[LOG] index:  4 startts:  1698835750764 ts:  1698835750764 bytes:  1500 total time:  595
[LOG] index:  5 startts:  1698835750780 ts:  1698835750780 bytes:  1500 total time:  595
[LOG] index:  6 startts:  1698835750795 ts:  1698835750795 bytes:  1500 total time:  595
[LOG] index:  7 startts:  1698835750810 ts:  1698835750810 bytes:  1500 total time:  595
[LOG] index:  8 startts:  1698835750825 ts:  1698835750825 bytes:  1500 total time:  595
[LOG] index:  9 startts:  1698835750839 ts:  1698835750839 bytes:  1500 total time:  595
[LOG] index:  10 startts:  1698835750855 ts:  1698835750855 bytes:  1500 total time:  595
[LOG] index:  11 startts:  1698835750870 ts:  1698835750870 bytes:  1500 total time:  595
[LOG] index:  12 startts:  1698835750884 ts:  1698835750884 bytes:  1500 total time:  595
[LOG] index:  13 startts:  1698835750900 ts:  1698835750900 bytes:  1500 total time:  595
[LOG] index:  14 startts:  1698835750915 ts:  1698835750915 bytes:  1500 total time:  595
[LOG] index:  15 startts:  1698835750929 ts:  1698835750929 bytes:  1500 total time:  595
[LOG] index:  16 startts:  1698835750944 ts:  1698835750944 bytes:  1500 total time:  595
[LOG] index:  17 startts:  1698835750960 ts:  1698835750960 bytes:  1500 total time:  595
[LOG] index:  18 startts:  1698835750974 ts:  1698835750974 bytes:  1500 total time:  595
[LOG] index:  19 startts:  1698835750989 ts:  1698835750989 bytes:  1500 total time:  595
[LOG] index:  20 startts:  1698835751005 ts:  1698835751005 bytes:  1500 total time:  595
[LOG] index:  21 startts:  1698835751019 ts:  1698835751019 bytes:  1500 total time:  595
[LOG] index:  22 startts:  1698835751034 ts:  1698835751034 bytes:  1500 total time:  595
[LOG] index:  23 startts:  1698835751050 ts:  1698835751050 bytes:  1500 total time:  595
[LOG] index:  24 startts:  1698835751064 ts:  1698835751064 bytes:  1500 total time:  595
[LOG] index:  25 startts:  1698835751080 ts:  1698835751080 bytes:  1500 total time:  595
[LOG] index:  26 startts:  1698835751095 ts:  1698835751095 bytes:  1500 total time:  595
[LOG] index:  27 startts:  1698835751109 ts:  1698835751109 bytes:  1500 total time:  595
[LOG] index:  28 startts:  1698835751125 ts:  1698835751125 bytes:  1500 total time:  595
[LOG] index:  29 startts:  1698835751139 ts:  1698835751139 bytes:  1500 total time:  595
[LOG] index:  30 startts:  1698835751154 ts:  1698835751154 bytes:  1500 total time:  595
[LOG] index:  31 startts:  1698835751170 ts:  1698835751170 bytes:  1500 total time:  595
[LOG] index:  32 startts:  1698835751184 ts:  1698835751184 bytes:  1500 total time:  595
[LOG] index:  33 startts:  1698835751199 ts:  1698835751199 bytes:  1500 total time:  595
[LOG] index:  34 startts:  1698835751214 ts:  1698835751214 bytes:  1500 total time:  595
[LOG] index:  35 startts:  1698835751229 ts:  1698835751229 bytes:  1493 total time:  595
[LOG] index:  36 startts:  1698835751253 ts:  1698835751253 bytes:  1493 total time:  595
[LOG] index:  37 startts:  1698835751268 ts:  1698835751268 bytes:  1493 total time:  595
[LOG] index:  38 startts:  1698835751283 ts:  1698835751283 bytes:  1500 total time:  595
[LOG] index:  39 startts:  1698835751298 ts:  1698835751298 bytes:  1493 total time:  595
[LOG] index:  40 startts:  1698835751299 ts:  1698835751299 bytes:  281 total time:  595
[LOG] index:  0 start ts/size:  1698835750704 / 1494 id  1 end ts/size:  1698835750974 / 27793 id  19 chunk time:  270 idle time: 0
[LOG] index:  1 start ts/size:  1698835750974 / 1500 id  19 end ts/size:  1698835751005 / 3169 id  21 chunk time:  31 idle time:  0
[LOG] index:  2 start ts/size:  1698835751005 / 1500 id  21 end ts/size:  1698835751019 / 1460 id  22 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835751019 / 1500 id  22 end ts/size:  1698835751050 / 2728 id  24 chunk time:  31 idle time:  0
[LOG] index:  4 start ts/size:  1698835751050 / 1500 id  24 end ts/size:  1698835751064 / 1924 id  25 chunk time:  14 idle time:  0
[LOG] index:  5 start ts/size:  1698835751064 / 1500 id  25 end ts/size:  1698835751095 / 1923 id  27 chunk time:  31 idle time:  0
[LOG] index:  6 start ts/size:  1698835751095 / 1500 id  27 end ts/size:  1698835751109 / 2916 id  28 chunk time:  14 idle time:  0
[LOG] index:  7 start ts/size:  1698835751125 / 1500 id  29 end ts/size:  1698835751139 / 1616 id  30 chunk time:  14 idle time:  16
[LOG] index:  8 start ts/size:  1698835751139 / 1500 id  30 end ts/size:  1698835751154 / 2910 id  31 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835751170 / 1500 id  32 end ts/size:  1698835751170 / 1319 id  32 chunk time:  0 idle time:  16
[LOG] index:  10 start ts/size:  1698835751170 / 1500 id  32 end ts/size:  1698835751229 / 5364 id  36 chunk time:  59 idle time:  0
[LOG] index:  11 start ts/size:  1698835751229 / 1493 id  36 end ts/size:  1698835751253 / 1074 id  37 chunk time:  24 idle time:  0
[LOG] index:  12 start ts/size:  1698835751253 / 1493 id  37 end ts/size:  1698835751268 / 2209 id  38 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835751268 / 1493 id  38 end ts/size:  1698835751298 / 2292 id  40 chunk time:  30 idle time:  0
[LOG] index:  14 start ts/size:  1698835751298 / 1493 id  40 end ts/size:  1698835751299 / 1550 id  41 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 800 51000
[LOG] real bw  799.9999999999843
[LOG] downbytes  60247 time:  602.4699999992588 true bw:  800 downloadtimeinms:  599 latency:  30
'pushing'
800
'now'
'chunk-stream2-00036'
[LOG] update buffer 1698835751304 0.9250849999999993
[LOG] update buffer 1698835751304 0.958245999999999
[LOG] update buffer 1698835751304 0.958245999999999
[LOG] update buffer 1698835751304 0.958245999999999
[LOG] cal jiange, in rmpc, sum:  2.6422893113115644 0.9326868683712123 0.958 2 1000 791.999999604
1
0
200
-576.0000000000005
1
1
600
223.99999999999955
1
2
1000
423.99999999999955
1
3
2500
-14661.571126627605
'running time/ms: '
0
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00036.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 602.4699999992588,
  trace: [ { s: {}, d: 602.4699999992588, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 11\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835750974, bytes: 27793, id: 19, idle: 0 },
    {
      ts: 1698835751005,
      bytes: 3169,
      id: 21,
      idle: -14.999999999981547
    },
    {
      ts: 1698835751019,
      bytes: 1460,
      id: 22,
      idle: -14.999999999981547
    },
    {
      ts: 1698835751050,
      bytes: 2728,
      id: 24,
      idle: -14.999999999981547
    },
    {
      ts: 1698835751064,
      bytes: 1924,
      id: 25,
      idle: -14.999999999981547
    },
    {
      ts: 1698835751095,
      bytes: 1923,
      id: 27,
      idle: -14.999999999981547
    },
    {
      ts: 1698835751109,
      bytes: 2916,
      id: 28,
      idle: -14.999999999981547
    },
    {
      ts: 1698835751139,
      bytes: 1616,
      id: 30,
      idle: 1.0000000000184528
    },
    {
      ts: 1698835751154,
      bytes: 2910,
      id: 31,
      idle: -14.999999999981547
    },
    {
      ts: 1698835751170,
      bytes: 1319,
      id: 32,
      idle: 1.0000000000184528
    },
    {
      ts: 1698835751229,
      bytes: 5364,
      id: 36,
      idle: -14.999999999981547
    },
    {
      ts: 1698835751253,
      bytes: 1074,
      id: 37,
      idle: -14.929999999981632
    },
    {
      ts: 1698835751268,
      bytes: 2209,
      id: 38,
      idle: -14.929999999981632
    },
    {
      ts: 1698835751298,
      bytes: 2292,
      id: 40,
      idle: -14.929999999981632
    },
    {
      ts: 1698835751299,
      bytes: 1550,
      id: 41,
      idle: -14.929999999981632
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.7346,
  averageBufferLength: 0.7241384615384613,
  currentLatency: 1.524,
  currentBufferLength: 0.927,
  throughputKbps: 795,
  throughputTimestampMs: 1698835751304,
  throughputhis: 800,
  currentTimeAbsolute: 1698835751.304,
  currentTimeRelative: 17.041162,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00036.m4s',
    startTime: 17.5,
    requestStartDate: 1698835750674,
    firstByteDate: 1698835750704,
    requestEndDate: 1698835751303,
    availabilityStartTime: 1698835750137,
    wallStartTime: 1698835767637,
    bytesLoaded: 60247,
    bytesTotal: 60247,
    delayLoadingTime: 1698835750674
  }
}
{
  next_buf: 1.2697373736742064,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.01721212102269,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.798686868371175,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03608937346218688,
  next_latency: 1.7517732753072648,
  rebuf: 0.0394290339165566,
  next_play: 0.753039806324235
}
{
  bit: 2,
  qoe: 423.99999999999955,
  state: [ 0.798686868371175, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 791.999999604, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 791.999999604, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00037.m4s  time:  1698835751313  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00037.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 18,
    mediaStartTime: 18,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00037.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 36,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835751306,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00037.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835751491 0.7719009999999997
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 1,
  newQuality: 2,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] update buffer 1698835751569 0.6937619999999995
[LOG] get chunk:  1  time:  1698835751625  cur buffer:  1698835751569 0.694
[LOG] update buffer 1698835751625 0.6704039999999978
[LOG] get chunk:  2  time:  1698835751639  cur buffer:  1698835751625 0.67
[LOG] update buffer 1698835751640 0.6894939999999998
[LOG] get chunk:  3  time:  1698835751669  cur buffer:  1698835751639 0.689
[LOG] update buffer 1698835751669 0.6931639999999994
[LOG] get chunk:  4  time:  1698835751684  cur buffer:  1698835751669 0.693
[LOG] update buffer 1698835751684 0.7111820000000009
[LOG] get chunk:  5  time:  1698835751728  cur buffer:  1698835751684 0.711
[LOG] update buffer 1698835751729 0.7004379999999983
[LOG] get chunk:  6  time:  1698835751743  cur buffer:  1698835751729 0.7
[LOG] update buffer 1698835751744 0.7184659999999994
[LOG] update buffer 1698835751756 0.7062659999999994
[LOG] get chunk:  7  time:  1698835751773  cur buffer:  1698835751756 0.706
[LOG] update buffer 1698835751774 0.7221279999999979
[LOG] get chunk:  8  time:  1698835751801  cur buffer:  1698835751774 0.722
[LOG] update buffer 1698835751801 0.7276750000000014
[LOG] get chunk:  9  time:  1698835751817  cur buffer:  1698835751801 0.728
[LOG] update buffer 1698835751817 0.7453669999999981
[LOG] get chunk:  10  time:  1698835751861  cur buffer:  1698835751817 0.745
[LOG] get chunk:  11  time:  1698835751861  cur buffer:  1698835751817 0.745
[LOG] update buffer 1698835751861 0.7344480000000004
[LOG] update buffer 1698835751861 0.7676069999999982
[LOG] get chunk:  12  time:  1698835751891  cur buffer:  1698835751861 0.768
[LOG] update buffer 1698835751891 0.7714169999999996
[LOG] get chunk:  13  time:  1698835751905  cur buffer:  1698835751891 0.771
[LOG] update buffer 1698835751905 0.7901880000000006
[LOG] update buffer 1698835751928 0.7674430000000001
[LOG] get chunk:  14  time:  1698835751965  cur buffer:  1698835751928 0.767
[LOG] get chunk:  15  time:  1698835751966  cur buffer:  1698835751928 0.767
[LOG] index:  0 startts:  1698835751306 ts:  1698835751328 bytes:  1494 total time:  638
[LOG] index:  1 startts:  1698835751343 ts:  1698835751343 bytes:  1500 total time:  638
[LOG] index:  2 startts:  1698835751357 ts:  1698835751357 bytes:  1500 total time:  638
[LOG] index:  3 startts:  1698835751372 ts:  1698835751372 bytes:  1500 total time:  638
[LOG] index:  4 startts:  1698835751387 ts:  1698835751387 bytes:  1500 total time:  638
[LOG] index:  5 startts:  1698835751402 ts:  1698835751402 bytes:  1500 total time:  638
[LOG] index:  6 startts:  1698835751416 ts:  1698835751416 bytes:  1500 total time:  638
[LOG] index:  7 startts:  1698835751432 ts:  1698835751432 bytes:  1500 total time:  638
[LOG] index:  8 startts:  1698835751446 ts:  1698835751446 bytes:  1500 total time:  638
[LOG] index:  9 startts:  1698835751461 ts:  1698835751461 bytes:  1500 total time:  638
[LOG] index:  10 startts:  1698835751477 ts:  1698835751477 bytes:  1500 total time:  638
[LOG] index:  11 startts:  1698835751491 ts:  1698835751491 bytes:  1500 total time:  638
[LOG] index:  12 startts:  1698835751506 ts:  1698835751506 bytes:  1500 total time:  638
[LOG] index:  13 startts:  1698835751521 ts:  1698835751521 bytes:  1500 total time:  638
[LOG] index:  14 startts:  1698835751535 ts:  1698835751535 bytes:  1500 total time:  638
[LOG] index:  15 startts:  1698835751551 ts:  1698835751551 bytes:  1500 total time:  638
[LOG] index:  16 startts:  1698835751565 ts:  1698835751565 bytes:  1500 total time:  638
[LOG] index:  17 startts:  1698835751580 ts:  1698835751580 bytes:  1500 total time:  638
[LOG] index:  18 startts:  1698835751595 ts:  1698835751595 bytes:  1500 total time:  638
[LOG] index:  19 startts:  1698835751609 ts:  1698835751609 bytes:  1500 total time:  638
[LOG] index:  20 startts:  1698835751625 ts:  1698835751625 bytes:  1500 total time:  638
[LOG] index:  21 startts:  1698835751639 ts:  1698835751639 bytes:  1500 total time:  638
[LOG] index:  22 startts:  1698835751654 ts:  1698835751654 bytes:  1500 total time:  638
[LOG] index:  23 startts:  1698835751669 ts:  1698835751669 bytes:  1500 total time:  638
[LOG] index:  24 startts:  1698835751684 ts:  1698835751684 bytes:  1500 total time:  638
[LOG] index:  25 startts:  1698835751698 ts:  1698835751698 bytes:  1500 total time:  638
[LOG] index:  26 startts:  1698835751714 ts:  1698835751714 bytes:  1500 total time:  638
[LOG] index:  27 startts:  1698835751728 ts:  1698835751728 bytes:  1500 total time:  638
[LOG] index:  28 startts:  1698835751743 ts:  1698835751743 bytes:  1500 total time:  638
[LOG] index:  29 startts:  1698835751758 ts:  1698835751758 bytes:  1500 total time:  638
[LOG] index:  30 startts:  1698835751773 ts:  1698835751773 bytes:  1500 total time:  638
[LOG] index:  31 startts:  1698835751801 ts:  1698835751801 bytes:  1500 total time:  638
[LOG] index:  32 startts:  1698835751817 ts:  1698835751817 bytes:  1500 total time:  638
[LOG] index:  33 startts:  1698835751831 ts:  1698835751831 bytes:  1500 total time:  638
[LOG] index:  34 startts:  1698835751846 ts:  1698835751846 bytes:  1500 total time:  638
[LOG] index:  35 startts:  1698835751861 ts:  1698835751861 bytes:  1500 total time:  638
[LOG] index:  36 startts:  1698835751876 ts:  1698835751876 bytes:  1500 total time:  638
[LOG] index:  37 startts:  1698835751891 ts:  1698835751891 bytes:  1500 total time:  638
[LOG] index:  38 startts:  1698835751905 ts:  1698835751905 bytes:  1500 total time:  638
[LOG] index:  39 startts:  1698835751920 ts:  1698835751920 bytes:  1500 total time:  638
[LOG] index:  40 startts:  1698835751935 ts:  1698835751935 bytes:  1500 total time:  638
[LOG] index:  41 startts:  1698835751950 ts:  1698835751950 bytes:  1500 total time:  638
[LOG] index:  42 startts:  1698835751965 ts:  1698835751965 bytes:  1500 total time:  638
[LOG] index:  43 startts:  1698835751966 ts:  1698835751966 bytes:  750 total time:  638
[LOG] index:  0 start ts/size:  1698835751328 / 1494 id  1 end ts/size:  1698835751625 / 30587 id  21 chunk time:  297 idle time: 0
[LOG] index:  1 start ts/size:  1698835751625 / 1500 id  21 end ts/size:  1698835751639 / 1864 id  22 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835751639 / 1500 id  22 end ts/size:  1698835751669 / 2937 id  24 chunk time:  30 idle time:  0
[LOG] index:  3 start ts/size:  1698835751669 / 1500 id  24 end ts/size:  1698835751684 / 1584 id  25 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835751684 / 1500 id  25 end ts/size:  1698835751728 / 4713 id  28 chunk time:  44 idle time:  0
[LOG] index:  5 start ts/size:  1698835751728 / 1500 id  28 end ts/size:  1698835751743 / 964 id  29 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835751743 / 1500 id  29 end ts/size:  1698835751773 / 2365 id  31 chunk time:  30 idle time:  0
[LOG] index:  7 start ts/size:  1698835751773 / 1500 id  31 end ts/size:  1698835751801 / 2310 id  32 chunk time:  28 idle time:  0
[LOG] index:  8 start ts/size:  1698835751801 / 1500 id  32 end ts/size:  1698835751817 / 1696 id  33 chunk time:  16 idle time:  0
[LOG] index:  9 start ts/size:  1698835751817 / 1500 id  33 end ts/size:  1698835751861 / 3563 id  36 chunk time:  44 idle time:  0
[LOG] index:  10 start ts/size:  1698835751861 / 1500 id  36 end ts/size:  1698835751861 / 1144 id  36 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835751861 / 1500 id  36 end ts/size:  1698835751891 / 3085 id  38 chunk time:  30 idle time:  0
[LOG] index:  12 start ts/size:  1698835751891 / 1500 id  38 end ts/size:  1698835751905 / 1356 id  39 chunk time:  14 idle time:  0
[LOG] index:  13 start ts/size:  1698835751905 / 1500 id  39 end ts/size:  1698835751965 / 6132 id  43 chunk time:  60 idle time:  0
[LOG] index:  14 start ts/size:  1698835751965 / 1500 id  43 end ts/size:  1698835751966 / 944 id  44 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 791.2087912087912 63000
[LOG] real bw  791.2087912087787
[LOG] downbytes  65244 time:  659.6893333325099 true bw:  791 downloadtimeinms:  643 latency:  22
[LOG] update buffer 1698835751971 0.7576120000000017
[LOG] update buffer 1698835751972 0.7907650000000004
[LOG] update buffer 1698835751972 0.7907650000000004
[LOG] update buffer 1698835751972 0.7907650000000004
[LOG] cal jiange, in rmpc, sum:  0.9717911961386885 0.798686868371175 0.791 2 1000 795.49999960225
'pushing'
791
'now'
'chunk-stream2-00037'
1
0
200
-776.0000000000005
[LOG] [RmpcRule][video] requesting switch to index:  1 Average throughput 795 kbps
1
1
600
223.99999999999955
1
2
1000
-576.0000000000005
1
3
2500
-21246.132224070825
'running time/ms: '
1
'in abr rule coll, get all'
'Quality changed requested'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00037.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 659.6893333325099,
  trace: [ { s: {}, d: 659.6893333325099, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835751625, bytes: 30587, id: 21, idle: 0 },
    {
      ts: 1698835751639,
      bytes: 1864,
      id: 22,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751669,
      bytes: 2937,
      id: 24,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751684,
      bytes: 1584,
      id: 25,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751728,
      bytes: 4713,
      id: 28,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751743,
      bytes: 964,
      id: 29,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751773,
      bytes: 2365,
      id: 31,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751801,
      bytes: 2310,
      id: 32,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751817,
      bytes: 1696,
      id: 33,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751861,
      bytes: 3563,
      id: 36,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751861,
      bytes: 1144,
      id: 36,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751891,
      bytes: 3085,
      id: 38,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751905,
      bytes: 1356,
      id: 39,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751965,
      bytes: 6132,
      id: 43,
      idle: -15.166666666647737
    },
    {
      ts: 1698835751966,
      bytes: 944,
      id: 44,
      idle: -15.166666666647737
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.722391304347826,
  averageBufferLength: 0.7276811594202897,
  currentLatency: 1.524,
  currentBufferLength: 0.767,
  throughputKbps: 792,
  throughputTimestampMs: 1698835751971,
  throughputhis: 791,
  currentTimeAbsolute: 1698835751.971,
  currentTimeRelative: 17.708605,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00037.m4s',
    startTime: 18,
    requestStartDate: 1698835751306,
    firstByteDate: 1698835751328,
    requestEndDate: 1698835751971,
    availabilityStartTime: 1698835750637,
    wallStartTime: 1698835768637,
    bytesLoaded: 65244,
    bytesTotal: 65244,
    delayLoadingTime: 1698835751306
  }
}
{
  next_buf: 1.1052928974858582,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.8538786924575736,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.6364644874292895,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.049546058869109844,
  next_latency: 1.9722908319572847,
  rebuf: 0.24215799822268153,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: 223.99999999999955,
  state: [ 0.8538786924575736, 1.524, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 795.49999960225, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 795.49999960225, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 2,
  newQuality: 1,
  reason: { throughput: 795.49999960225, latency: 1.524 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 600000,
    width: 480,
    height: 270,
    scanType: null,
    qualityIndex: 1
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream1'
[LOG] update buffer 1698835751981 0.7815189999999994
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.7195571428571428,
  averageBufferLength: 0.7285857142857141,
  currentLatency: 1.524,
  currentBufferLength: 0.791,
  throughputKbps: 792,
  throughputTimestampMs: 1698835751980,
  throughputhis: -1,
  currentTimeAbsolute: 1698835751.98,
  currentTimeRelative: 17.718039,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream1.m4s',
    startTime: null,
    requestStartDate: 1698835751974,
    firstByteDate: 1698835751974,
    requestEndDate: 1698835751980,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00038.m4s  time:  1698835751994  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00038.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 18.5,
    mediaStartTime: 18.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00038.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 37,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835751981,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00038.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835752022 0.7406930000000003
[LOG] get chunk:  1  time:  1698835752172  cur buffer:  1698835752022 0.741
[LOG] update buffer 1698835752173 0.6230219999999989
[LOG] get chunk:  2  time:  1698835752188  cur buffer:  1698835752173 0.623
[LOG] update buffer 1698835752188 0.641059000000002
[LOG] get chunk:  3  time:  1698835752202  cur buffer:  1698835752188 0.641
[LOG] update buffer 1698835752202 0.6600849999999987
[LOG] get chunk:  4  time:  1698835752217  cur buffer:  1698835752202 0.66
[LOG] update buffer 1698835752218 0.6778140000000015
[LOG] get chunk:  5  time:  1698835752247  cur buffer:  1698835752218 0.678
[LOG] get chunk:  6  time:  1698835752248  cur buffer:  1698835752218 0.678
[LOG] update buffer 1698835752248 0.6809939999999983
[LOG] update buffer 1698835752248 0.7141449999999985
[LOG] get chunk:  7  time:  1698835752276  cur buffer:  1698835752248 0.714
[LOG] update buffer 1698835752277 0.7189659999999982
[LOG] update buffer 1698835752287 0.7083099999999973
[LOG] update buffer 1698835752288 0.708086999999999
[LOG] get chunk:  8  time:  1698835752292  cur buffer:  1698835752288 0.708
[LOG] get chunk:  9  time:  1698835752292  cur buffer:  1698835752288 0.708
[LOG] update buffer 1698835752292 0.7367890000000017
[LOG] update buffer 1698835752292 0.7699460000000009
[LOG] get chunk:  10  time:  1698835752306  cur buffer:  1698835752292 0.77
[LOG] update buffer 1698835752306 0.7892830000000011
[LOG] get chunk:  11  time:  1698835752321  cur buffer:  1698835752306 0.789
[LOG] update buffer 1698835752321 0.8079830000000001
[LOG] get chunk:  12  time:  1698835752349  cur buffer:  1698835752321 0.808
[LOG] update buffer 1698835752350 0.8125740000000015
[LOG] get chunk:  13  time:  1698835752365  cur buffer:  1698835752350 0.813
[LOG] update buffer 1698835752365 0.8305790000000002
[LOG] get chunk:  14  time:  1698835752381  cur buffer:  1698835752365 0.831
[LOG] get chunk:  15  time:  1698835752381  cur buffer:  1698835752365 0.831
[LOG] index:  0 startts:  1698835751981 ts:  1698835752009 bytes:  1494 total time:  372
[LOG] index:  1 startts:  1698835752024 ts:  1698835752024 bytes:  1500 total time:  372
[LOG] index:  2 startts:  1698835752039 ts:  1698835752039 bytes:  1500 total time:  372
[LOG] index:  3 startts:  1698835752054 ts:  1698835752054 bytes:  1500 total time:  372
[LOG] index:  4 startts:  1698835752069 ts:  1698835752069 bytes:  1500 total time:  372
[LOG] index:  5 startts:  1698835752083 ts:  1698835752083 bytes:  1500 total time:  372
[LOG] index:  6 startts:  1698835752099 ts:  1698835752099 bytes:  1500 total time:  372
[LOG] index:  7 startts:  1698835752113 ts:  1698835752113 bytes:  1500 total time:  372
[LOG] index:  8 startts:  1698835752128 ts:  1698835752128 bytes:  1500 total time:  372
[LOG] index:  9 startts:  1698835752143 ts:  1698835752143 bytes:  1500 total time:  372
[LOG] index:  10 startts:  1698835752158 ts:  1698835752158 bytes:  1500 total time:  372
[LOG] index:  11 startts:  1698835752172 ts:  1698835752172 bytes:  1500 total time:  372
[LOG] index:  12 startts:  1698835752188 ts:  1698835752188 bytes:  1500 total time:  372
[LOG] index:  13 startts:  1698835752202 ts:  1698835752202 bytes:  1500 total time:  372
[LOG] index:  14 startts:  1698835752217 ts:  1698835752217 bytes:  1500 total time:  372
[LOG] index:  15 startts:  1698835752232 ts:  1698835752232 bytes:  1500 total time:  372
[LOG] index:  16 startts:  1698835752247 ts:  1698835752247 bytes:  1500 total time:  372
[LOG] index:  17 startts:  1698835752262 ts:  1698835752262 bytes:  1500 total time:  372
[LOG] index:  18 startts:  1698835752276 ts:  1698835752276 bytes:  1500 total time:  372
[LOG] index:  19 startts:  1698835752292 ts:  1698835752292 bytes:  1500 total time:  372
[LOG] index:  20 startts:  1698835752306 ts:  1698835752306 bytes:  1500 total time:  372
[LOG] index:  21 startts:  1698835752321 ts:  1698835752321 bytes:  1500 total time:  372
[LOG] index:  22 startts:  1698835752349 ts:  1698835752349 bytes:  1500 total time:  372
[LOG] index:  23 startts:  1698835752365 ts:  1698835752365 bytes:  1500 total time:  372
[LOG] index:  24 startts:  1698835752380 ts:  1698835752380 bytes:  1500 total time:  372
[LOG] index:  25 startts:  1698835752381 ts:  1698835752381 bytes:  728 total time:  372
[LOG] index:  0 start ts/size:  1698835752009 / 1494 id  1 end ts/size:  1698835752172 / 17841 id  12 chunk time:  163 idle time: 0
[LOG] index:  1 start ts/size:  1698835752172 / 1500 id  12 end ts/size:  1698835752188 / 1098 id  13 chunk time:  16 idle time:  0
[LOG] index:  2 start ts/size:  1698835752188 / 1500 id  13 end ts/size:  1698835752202 / 1767 id  14 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835752202 / 1500 id  14 end ts/size:  1698835752217 / 895 id  15 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835752217 / 1500 id  15 end ts/size:  1698835752247 / 2481 id  17 chunk time:  30 idle time:  0
[LOG] index:  5 start ts/size:  1698835752247 / 1500 id  17 end ts/size:  1698835752247 / 525 id  17 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835752247 / 1500 id  17 end ts/size:  1698835752276 / 3449 id  19 chunk time:  29 idle time:  0
[LOG] index:  7 start ts/size:  1698835752276 / 1500 id  19 end ts/size:  1698835752292 / 569 id  20 chunk time:  16 idle time:  0
[LOG] index:  8 start ts/size:  1698835752292 / 1500 id  20 end ts/size:  1698835752292 / 1344 id  20 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835752306 / 1500 id  21 end ts/size:  1698835752306 / 1328 id  21 chunk time:  0 idle time:  14
[LOG] index:  10 start ts/size:  1698835752306 / 1500 id  21 end ts/size:  1698835752321 / 1169 id  22 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835752321 / 1500 id  22 end ts/size:  1698835752349 / 1852 id  23 chunk time:  28 idle time:  0
[LOG] index:  12 start ts/size:  1698835752349 / 1500 id  23 end ts/size:  1698835752365 / 799 id  24 chunk time:  16 idle time:  0
[LOG] index:  13 start ts/size:  1698835752365 / 1500 id  24 end ts/size:  1698835752381 / 2526 id  26 chunk time:  16 idle time:  0
[LOG] index:  14 start ts/size:  1698835752381 / 728 id  26 end ts/size:  1698835752381 / 579 id  26 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 776.2803234501348 36000
[LOG] real bw  776.2803234501133
[LOG] downbytes  38222 time:  393.8989444439479 true bw:  776 downloadtimeinms:  376 latency:  28
'pushing'
776
[LOG] update buffer 1698835752385 0.8436370000000011
[LOG] update buffer 1698835752386 0.8768169999999991
[LOG] update buffer 1698835752386 0.8768169999999991
[LOG] update buffer 1698835752386 0.8768169999999991
'now'
'chunk-stream1-00038'
[LOG] cal jiange, in rmpc, sum:  2.6364090668258005 0.8538786924575736 0.877 1 600 783.4999996082499
1
0
200
-199.99999999999773
1
1
600
600.0000000000023
1
2
1000
-999.9999999999977
1
3
2500
-19143.17687542685
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00038.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 393.8989444439479,
  trace: [ { s: {}, d: 393.8989444439479, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835752172, bytes: 17841, id: 12, idle: 0 },
    {
      ts: 1698835752188,
      bytes: 1098,
      id: 13,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752202,
      bytes: 1767,
      id: 14,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752217,
      bytes: 895,
      id: 15,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752247,
      bytes: 2481,
      id: 17,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752247,
      bytes: 525,
      id: 17,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752276,
      bytes: 3449,
      id: 19,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752292,
      bytes: 569,
      id: 20,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752292,
      bytes: 1344,
      id: 20,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752306,
      bytes: 1328,
      id: 21,
      idle: -1.4583333333138473
    },
    {
      ts: 1698835752321,
      bytes: 1169,
      id: 22,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752349,
      bytes: 1852,
      id: 23,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752365,
      bytes: 799,
      id: 24,
      idle: -15.458333333313847
    },
    {
      ts: 1698835752381,
      bytes: 2526,
      id: 26,
      idle: -15.458333333313847
    },
    { ts: 1698835752381, bytes: 579, id: 26, idle: -7.502444444434987 }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.7115753424657534,
  averageBufferLength: 0.7295205479452052,
  currentLatency: 1.528,
  currentBufferLength: 0.831,
  throughputKbps: 789,
  throughputTimestampMs: 1698835752385,
  throughputhis: 776,
  currentTimeAbsolute: 1698835752.385,
  currentTimeRelative: 18.118967,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00038.m4s',
    startTime: 18.5,
    requestStartDate: 1698835751981,
    firstByteDate: 1698835752009,
    requestEndDate: 1698835752385,
    availabilityStartTime: 1698835751137,
    wallStartTime: 1698835769637,
    bytesLoaded: 38222,
    bytesTotal: 38222,
    delayLoadingTime: 1698835751981
  }
}
{
  next_buf: 1.1893675813018512,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9681027439055521,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.6788379065092532,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.04844269828252082,
  next_latency: 1.8918475600986826,
  rebuf: 0.162640794655175,
  next_play: 0.7540615306627032
}
{
  bit: 1,
  qoe: 600.0000000000023,
  state: [ 0.9681027439055521, 1.525, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 783.4999996082499, latency: 1.525 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 783.4999996082499, latency: 1.525 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00039.m4s  time:  1698835752395  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00039.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 19,
    mediaStartTime: 19,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00039.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 38,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835752387,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00039.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835752553 0.7093910000000001
[LOG] get chunk:  1  time:  1698835752589  cur buffer:  1698835752553 0.709
[LOG] get chunk:  2  time:  1698835752590  cur buffer:  1698835752553 0.709
[LOG] update buffer 1698835752590 0.705762
[LOG] update buffer 1698835752590 0.7389210000000013
[LOG] get chunk:  3  time:  1698835752620  cur buffer:  1698835752590 0.739
[LOG] update buffer 1698835752620 0.741975
[LOG] get chunk:  4  time:  1698835752634  cur buffer:  1698835752620 0.742
[LOG] update buffer 1698835752635 0.7609910000000006
[LOG] update buffer 1698835752647 0.7486889999999988
[LOG] get chunk:  5  time:  1698835752650  cur buffer:  1698835752647 0.749
[LOG] get chunk:  6  time:  1698835752650  cur buffer:  1698835752647 0.749
[LOG] update buffer 1698835752650 0.7788749999999993
[LOG] update buffer 1698835752650 0.8120329999999996
[LOG] get chunk:  7  time:  1698835752679  cur buffer:  1698835752650 0.812
[LOG] update buffer 1698835752680 0.8157759999999996
[LOG] get chunk:  8  time:  1698835752695  cur buffer:  1698835752680 0.816
[LOG] update buffer 1698835752695 0.8335270000000001
[LOG] get chunk:  9  time:  1698835752710  cur buffer:  1698835752695 0.834
[LOG] update buffer 1698835752710 0.8522829999999999
[LOG] get chunk:  10  time:  1698835752725  cur buffer:  1698835752710 0.852
[LOG] update buffer 1698835752726 0.870044
[LOG] get chunk:  11  time:  1698835752740  cur buffer:  1698835752726 0.87
[LOG] update buffer 1698835752740 0.8887689999999999
[LOG] get chunk:  12  time:  1698835752754  cur buffer:  1698835752740 0.889
[LOG] get chunk:  13  time:  1698835752754  cur buffer:  1698835752740 0.889
[LOG] update buffer 1698835752755 0.9076310000000021
[LOG] update buffer 1698835752755 0.9407840000000007
[LOG] get chunk:  14  time:  1698835752770  cur buffer:  1698835752755 0.941
[LOG] get chunk:  15  time:  1698835752771  cur buffer:  1698835752755 0.941
[LOG] index:  0 startts:  1698835752387 ts:  1698835752411 bytes:  1494 total time:  359
[LOG] index:  1 startts:  1698835752425 ts:  1698835752425 bytes:  1500 total time:  359
[LOG] index:  2 startts:  1698835752440 ts:  1698835752440 bytes:  1500 total time:  359
[LOG] index:  3 startts:  1698835752455 ts:  1698835752455 bytes:  1500 total time:  359
[LOG] index:  4 startts:  1698835752470 ts:  1698835752470 bytes:  1500 total time:  359
[LOG] index:  5 startts:  1698835752485 ts:  1698835752485 bytes:  1500 total time:  359
[LOG] index:  6 startts:  1698835752500 ts:  1698835752500 bytes:  1500 total time:  359
[LOG] index:  7 startts:  1698835752515 ts:  1698835752515 bytes:  1500 total time:  359
[LOG] index:  8 startts:  1698835752530 ts:  1698835752530 bytes:  1500 total time:  359
[LOG] index:  9 startts:  1698835752545 ts:  1698835752545 bytes:  1500 total time:  359
[LOG] index:  10 startts:  1698835752559 ts:  1698835752559 bytes:  1500 total time:  359
[LOG] index:  11 startts:  1698835752575 ts:  1698835752575 bytes:  1500 total time:  359
[LOG] index:  12 startts:  1698835752589 ts:  1698835752589 bytes:  1500 total time:  359
[LOG] index:  13 startts:  1698835752605 ts:  1698835752605 bytes:  1500 total time:  359
[LOG] index:  14 startts:  1698835752620 ts:  1698835752620 bytes:  1500 total time:  359
[LOG] index:  15 startts:  1698835752634 ts:  1698835752634 bytes:  1500 total time:  359
[LOG] index:  16 startts:  1698835752650 ts:  1698835752650 bytes:  1500 total time:  359
[LOG] index:  17 startts:  1698835752665 ts:  1698835752665 bytes:  1500 total time:  359
[LOG] index:  18 startts:  1698835752679 ts:  1698835752679 bytes:  1500 total time:  359
[LOG] index:  19 startts:  1698835752695 ts:  1698835752695 bytes:  1500 total time:  359
[LOG] index:  20 startts:  1698835752710 ts:  1698835752710 bytes:  1500 total time:  359
[LOG] index:  21 startts:  1698835752725 ts:  1698835752725 bytes:  1500 total time:  359
[LOG] index:  22 startts:  1698835752740 ts:  1698835752740 bytes:  1500 total time:  359
[LOG] index:  23 startts:  1698835752754 ts:  1698835752754 bytes:  1500 total time:  359
[LOG] index:  24 startts:  1698835752770 ts:  1698835752770 bytes:  1500 total time:  359
[LOG] index:  25 startts:  1698835752770 ts:  1698835752770 bytes:  937 total time:  359
[LOG] index:  0 start ts/size:  1698835752411 / 1494 id  1 end ts/size:  1698835752589 / 18292 id  13 chunk time:  178 idle time: 0
[LOG] index:  1 start ts/size:  1698835752589 / 1500 id  13 end ts/size:  1698835752589 / 1050 id  13 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835752589 / 1500 id  13 end ts/size:  1698835752620 / 2997 id  15 chunk time:  31 idle time:  0
[LOG] index:  3 start ts/size:  1698835752620 / 1500 id  15 end ts/size:  1698835752634 / 422 id  16 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835752634 / 1500 id  16 end ts/size:  1698835752650 / 1856 id  17 chunk time:  16 idle time:  0
[LOG] index:  5 start ts/size:  1698835752650 / 1500 id  17 end ts/size:  1698835752650 / 833 id  17 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835752665 / 1500 id  18 end ts/size:  1698835752679 / 2696 id  19 chunk time:  14 idle time:  15
[LOG] index:  7 start ts/size:  1698835752679 / 1500 id  19 end ts/size:  1698835752695 / 595 id  20 chunk time:  16 idle time:  0
[LOG] index:  8 start ts/size:  1698835752695 / 1500 id  20 end ts/size:  1698835752710 / 2024 id  21 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835752710 / 1500 id  21 end ts/size:  1698835752725 / 801 id  22 chunk time:  15 idle time:  0
[LOG] index:  10 start ts/size:  1698835752725 / 1500 id  22 end ts/size:  1698835752740 / 1686 id  23 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835752740 / 1500 id  23 end ts/size:  1698835752754 / 1447 id  24 chunk time:  14 idle time:  0
[LOG] index:  12 start ts/size:  1698835752754 / 1500 id  24 end ts/size:  1698835752754 / 1020 id  24 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835752754 / 1500 id  24 end ts/size:  1698835752770 / 1836 id  26 chunk time:  16 idle time:  0
[LOG] index:  14 start ts/size:  1698835752770 / 937 id  26 end ts/size:  1698835752770 / 876 id  26 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 802.2284122562675 36000
[LOG] real bw  802.2284122562452
[LOG] downbytes  38431 time:  383.2424722217551 true bw:  802 downloadtimeinms:  363 latency:  24
[LOG] update buffer 1698835752775 0.9543120000000016
[LOG] update buffer 1698835752775 0.9874519999999976
[LOG] update buffer 1698835752775 0.9874519999999976
[LOG] update buffer 1698835752775 0.9874519999999976
'pushing'
802
'now'
'chunk-stream1-00039'
[LOG] cal jiange, in rmpc, sum:  1.9146156104662377 0.9681027439055521 0.987 1 600 788.9999996055
1
0
200
-176.00000000000045
1
1
600
623.9999999999995
1
2
1000
23.999999999999545
1
3
2500
-14144.506681035382
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00039.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 383.2424722217551,
  trace: [ { s: {}, d: 383.2424722217551, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835752589, bytes: 18292, id: 13, idle: 0 },
    {
      ts: 1698835752589,
      bytes: 1050,
      id: 13,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752620,
      bytes: 2997,
      id: 15,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752634,
      bytes: 422,
      id: 16,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752650,
      bytes: 1856,
      id: 17,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752650,
      bytes: 833,
      id: 17,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752679,
      bytes: 2696,
      id: 19,
      idle: 0.0416666666848986
    },
    {
      ts: 1698835752695,
      bytes: 595,
      id: 20,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752710,
      bytes: 2024,
      id: 21,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752725,
      bytes: 801,
      id: 22,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752740,
      bytes: 1686,
      id: 23,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752754,
      bytes: 1447,
      id: 24,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752754,
      bytes: 1020,
      id: 24,
      idle: -14.958333333315101
    },
    {
      ts: 1698835752770,
      bytes: 1836,
      id: 26,
      idle: -14.958333333315101
    },
    { ts: 1698835752770, bytes: 876, id: 26, idle: -9.343972222210834 }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.7042236842105263,
  averageBufferLength: 0.7343684210526312,
  currentLatency: 1.528,
  currentBufferLength: 0.941,
  throughputKbps: 790,
  throughputTimestampMs: 1698835752774,
  throughputhis: 802,
  currentTimeAbsolute: 1698835752.774,
  currentTimeRelative: 18.508371,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00039.m4s',
    startTime: 19,
    requestStartDate: 1698835752387,
    firstByteDate: 1698835752411,
    requestEndDate: 1698835752774,
    availabilityStartTime: 1698835751637,
    wallStartTime: 1698835770637,
    bytesLoaded: 38431,
    bytesTotal: 38431,
    delayLoadingTime: 1698835752387
  }
}
{
  next_buf: 1.3002156209759015,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0807301962610718,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.7932447715462427,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.039472649652936606,
  next_latency: 1.7251441735184532,
  rebuf: 0.01859910676095502,
  next_play: 0.753039806324235
}
{
  bit: 1,
  qoe: 623.9999999999995,
  state: [ 1.0807301962610718, 1.524, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 788.9999996055, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 788.9999996055, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00040.m4s  time:  1698835752785  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00040.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 19.5,
    mediaStartTime: 19.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00040.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 39,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835752777,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00040.m4s',
    responseHeaders: 'flag: 14\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835752819 0.9438159999999982
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 2,
  newQuality: 1,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  1  time:  1698835752984  cur buffer:  1698835752819 0.944
[LOG] update buffer 1698835752986 0.8101159999999972
[LOG] get chunk:  2  time:  1698835753000  cur buffer:  1698835752986 0.81
[LOG] update buffer 1698835753000 0.8289299999999997
[LOG] update buffer 1698835753006 0.8228880000000025
[LOG] get chunk:  3  time:  1698835753014  cur buffer:  1698835753006 0.823
[LOG] update buffer 1698835753014 0.8479139999999994
[LOG] get chunk:  4  time:  1698835753028  cur buffer:  1698835753014 0.848
[LOG] update buffer 1698835753029 0.8668779999999998
[LOG] get chunk:  5  time:  1698835753044  cur buffer:  1698835753029 0.867
[LOG] update buffer 1698835753044 0.8848880000000001
[LOG] get chunk:  6  time:  1698835753058  cur buffer:  1698835753044 0.885
[LOG] update buffer 1698835753059 0.9037449999999971
[LOG] get chunk:  7  time:  1698835753073  cur buffer:  1698835753059 0.904
[LOG] update buffer 1698835753074 0.9221739999999983
[LOG] update buffer 1698835753084 0.9115039999999972
[LOG] get chunk:  8  time:  1698835753087  cur buffer:  1698835753084 0.912
[LOG] update buffer 1698835753088 0.9414569999999998
[LOG] get chunk:  9  time:  1698835753102  cur buffer:  1698835753088 0.941
[LOG] update buffer 1698835753103 0.9594519999999989
[LOG] get chunk:  10  time:  1698835753117  cur buffer:  1698835753103 0.959
[LOG] update buffer 1698835753117 0.9784870000000012
[LOG] get chunk:  11  time:  1698835753131  cur buffer:  1698835753117 0.978
[LOG] update buffer 1698835753132 0.9974369999999979
[LOG] get chunk:  12  time:  1698835753146  cur buffer:  1698835753132 0.997
[LOG] update buffer 1698835753147 1.0154960000000024
[LOG] get chunk:  13  time:  1698835753178  cur buffer:  1698835753147 1.015
[LOG] get chunk:  14  time:  1698835753178  cur buffer:  1698835753147 1.015
[LOG] get chunk:  15  time:  1698835753178  cur buffer:  1698835753147 1.015
[LOG] index:  0 startts:  1698835752777 ts:  1698835752800 bytes:  1494 total time:  378
[LOG] index:  1 startts:  1698835752815 ts:  1698835752815 bytes:  1500 total time:  378
[LOG] index:  2 startts:  1698835752830 ts:  1698835752830 bytes:  1500 total time:  378
[LOG] index:  3 startts:  1698835752844 ts:  1698835752844 bytes:  1500 total time:  378
[LOG] index:  4 startts:  1698835752859 ts:  1698835752859 bytes:  1500 total time:  378
[LOG] index:  5 startts:  1698835752875 ts:  1698835752875 bytes:  1500 total time:  378
[LOG] index:  6 startts:  1698835752896 ts:  1698835752896 bytes:  1500 total time:  378
[LOG] index:  7 startts:  1698835752911 ts:  1698835752911 bytes:  1500 total time:  378
[LOG] index:  8 startts:  1698835752926 ts:  1698835752926 bytes:  1500 total time:  378
[LOG] index:  9 startts:  1698835752940 ts:  1698835752940 bytes:  1500 total time:  378
[LOG] index:  10 startts:  1698835752955 ts:  1698835752955 bytes:  1500 total time:  378
[LOG] index:  11 startts:  1698835752970 ts:  1698835752970 bytes:  1500 total time:  378
[LOG] index:  12 startts:  1698835752984 ts:  1698835752984 bytes:  1500 total time:  378
[LOG] index:  13 startts:  1698835753000 ts:  1698835753000 bytes:  1500 total time:  378
[LOG] index:  14 startts:  1698835753014 ts:  1698835753014 bytes:  1500 total time:  378
[LOG] index:  15 startts:  1698835753028 ts:  1698835753028 bytes:  1500 total time:  378
[LOG] index:  16 startts:  1698835753044 ts:  1698835753044 bytes:  1500 total time:  378
[LOG] index:  17 startts:  1698835753058 ts:  1698835753058 bytes:  1500 total time:  378
[LOG] index:  18 startts:  1698835753073 ts:  1698835753073 bytes:  1500 total time:  378
[LOG] index:  19 startts:  1698835753087 ts:  1698835753087 bytes:  1500 total time:  378
[LOG] index:  20 startts:  1698835753102 ts:  1698835753102 bytes:  1500 total time:  378
[LOG] index:  21 startts:  1698835753117 ts:  1698835753117 bytes:  1500 total time:  378
[LOG] index:  22 startts:  1698835753131 ts:  1698835753131 bytes:  1500 total time:  378
[LOG] index:  23 startts:  1698835753146 ts:  1698835753146 bytes:  1500 total time:  378
[LOG] index:  24 startts:  1698835753161 ts:  1698835753161 bytes:  1500 total time:  378
[LOG] index:  25 startts:  1698835753178 ts:  1698835753178 bytes:  2702 total time:  378
[LOG] index:  0 start ts/size:  1698835752800 / 1494 id  1 end ts/size:  1698835752984 / 18635 id  13 chunk time:  184 idle time: 0
[LOG] index:  1 start ts/size:  1698835752984 / 1500 id  13 end ts/size:  1698835753000 / 1055 id  14 chunk time:  16 idle time:  0
[LOG] index:  2 start ts/size:  1698835753000 / 1500 id  14 end ts/size:  1698835753014 / 2556 id  15 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835753014 / 1500 id  15 end ts/size:  1698835753028 / 624 id  16 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835753028 / 1500 id  16 end ts/size:  1698835753044 / 2116 id  17 chunk time:  16 idle time:  0
[LOG] index:  5 start ts/size:  1698835753044 / 1500 id  17 end ts/size:  1698835753058 / 723 id  18 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835753058 / 1500 id  18 end ts/size:  1698835753073 / 2700 id  19 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835753087 / 1500 id  20 end ts/size:  1698835753087 / 631 id  20 chunk time:  0 idle time:  14
[LOG] index:  8 start ts/size:  1698835753087 / 1500 id  20 end ts/size:  1698835753102 / 1939 id  21 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835753102 / 1500 id  21 end ts/size:  1698835753117 / 849 id  22 chunk time:  15 idle time:  0
[LOG] index:  10 start ts/size:  1698835753117 / 1500 id  22 end ts/size:  1698835753131 / 1913 id  23 chunk time:  14 idle time:  0
[LOG] index:  11 start ts/size:  1698835753131 / 1500 id  23 end ts/size:  1698835753146 / 824 id  24 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835753146 / 1500 id  24 end ts/size:  1698835753178 / 3768 id  26 chunk time:  32 idle time:  0
[LOG] index:  13 start ts/size:  1698835753178 / 2702 id  26 end ts/size:  1698835753178 / 592 id  26 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835753178 / 2702 id  26 end ts/size:  1698835753178 / 1271 id  26 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 797.7839335180056 36000
[LOG] real bw  797.7839335179835
[LOG] downbytes  40196 time:  403.0765555550614 true bw:  798 downloadtimeinms:  381 latency:  23
[LOG] update buffer 1698835753182 1.013415000000002
'pushing'
798
'now'
'chunk-stream1-00040'
[LOG] update buffer 1698835753182 1.0465729999999986
[LOG] update buffer 1698835753183 1.0464090000000006
[LOG] update buffer 1698835753183 1.0464090000000006
[LOG] update buffer 1698835753183 1.0464090000000006
[LOG] cal jiange, in rmpc, sum:  3.3202864462589767 1.0807301962610718 1.046 1 600 799.9999996
1
0
200
-176.00000000000045
1
1
600
823.9999999999995
1
2
1000
223.99999999999955
1
3
2500
-11132.460159307651
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00040.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 403.0765555550614,
  trace: [ { s: {}, d: 403.0765555550614, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 14\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835752984, bytes: 18635, id: 13, idle: 0 },
    {
      ts: 1698835753000,
      bytes: 1055,
      id: 14,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753014,
      bytes: 2556,
      id: 15,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753028,
      bytes: 624,
      id: 16,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753044,
      bytes: 2116,
      id: 17,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753058,
      bytes: 723,
      id: 18,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753073,
      bytes: 2700,
      id: 19,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753087,
      bytes: 631,
      id: 20,
      idle: -1.0416666666482275
    },
    {
      ts: 1698835753102,
      bytes: 1939,
      id: 21,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753117,
      bytes: 849,
      id: 22,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753131,
      bytes: 1913,
      id: 23,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753146,
      bytes: 824,
      id: 24,
      idle: -15.041666666648227
    },
    {
      ts: 1698835753178,
      bytes: 3768,
      id: 26,
      idle: -15.041666666648227
    },
    { ts: 1698835753178, bytes: 592, id: 26, idle: -27.09505555552234 },
    {
      ts: 1698835753178,
      bytes: 1271,
      id: 26,
      idle: -27.09505555552234
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6974303797468353,
  averageBufferLength: 0.7420759493670883,
  currentLatency: 1.528,
  currentBufferLength: 1.015,
  throughputKbps: 792,
  throughputTimestampMs: 1698835753182,
  throughputhis: 798,
  currentTimeAbsolute: 1698835753.182,
  currentTimeRelative: 18.915753,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00040.m4s',
    startTime: 19.5,
    requestStartDate: 1698835752777,
    firstByteDate: 1698835752800,
    requestEndDate: 1698835753181,
    availabilityStartTime: 1698835752137,
    wallStartTime: 1698835771637,
    bytesLoaded: 40196,
    bytesTotal: 40196,
    delayLoadingTime: 1698835752777
  }
}
{
  next_buf: 1.360999999937502,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1449999998125007,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.8609999996874999,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.08129281453284551,
  next_latency: 1.6817928153140955,
  rebuf: 0,
  next_play: 0.7625565313592054
}
{
  bit: 1,
  qoe: 823.9999999999995,
  state: [ 1.1449999998125007, 1.524, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 799.9999996, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 799.9999996, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00041.m4s  time:  1698835753191  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00041.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 20,
    mediaStartTime: 20,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00041.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 40,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835753185,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00041.m4s',
    responseHeaders: 'flag: 12\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835753350 0.8791800000000016
[LOG] update buffer 1698835753366 0.863510999999999
[LOG] get chunk:  1  time:  1698835753381  cur buffer:  1698835753366 0.864
[LOG] get chunk:  2  time:  1698835753381  cur buffer:  1698835753366 0.864
[LOG] update buffer 1698835753382 0.9137819999999977
[LOG] update buffer 1698835753382 0.9469190000000012
[LOG] get chunk:  3  time:  1698835753415  cur buffer:  1698835753382 0.947
[LOG] update buffer 1698835753415 0.9472360000000002
[LOG] get chunk:  4  time:  1698835753457  cur buffer:  1698835753415 0.947
[LOG] get chunk:  5  time:  1698835753457  cur buffer:  1698835753415 0.947
[LOG] update buffer 1698835753457 0.938404000000002
[LOG] update buffer 1698835753458 0.9714880000000008
[LOG] get chunk:  6  time:  1698835753484  cur buffer:  1698835753458 0.971
[LOG] get chunk:  7  time:  1698835753484  cur buffer:  1698835753458 0.971
[LOG] update buffer 1698835753485 0.9773099999999992
[LOG] update buffer 1698835753485 1.0104129999999998
[LOG] get chunk:  8  time:  1698835753499  cur buffer:  1698835753485 1.01
[LOG] update buffer 1698835753499 1.0299680000000002
[LOG] get chunk:  9  time:  1698835753513  cur buffer:  1698835753499 1.03
[LOG] update buffer 1698835753513 1.0490530000000007
[LOG] get chunk:  10  time:  1698835753526  cur buffer:  1698835753513 1.049
[LOG] get chunk:  11  time:  1698835753526  cur buffer:  1698835753513 1.049
[LOG] update buffer 1698835753527 1.0688840000000006
[LOG] update buffer 1698835753527 1.1020380000000003
[LOG] get chunk:  12  time:  1698835753583  cur buffer:  1698835753527 1.102
[LOG] get chunk:  13  time:  1698835753583  cur buffer:  1698835753527 1.102
[LOG] get chunk:  14  time:  1698835753584  cur buffer:  1698835753527 1.102
[LOG] get chunk:  15  time:  1698835753584  cur buffer:  1698835753527 1.102
[LOG] index:  0 startts:  1698835753185 ts:  1698835753205 bytes:  1494 total time:  379
[LOG] index:  1 startts:  1698835753219 ts:  1698835753219 bytes:  1500 total time:  379
[LOG] index:  2 startts:  1698835753235 ts:  1698835753235 bytes:  1500 total time:  379
[LOG] index:  3 startts:  1698835753249 ts:  1698835753249 bytes:  1500 total time:  379
[LOG] index:  4 startts:  1698835753264 ts:  1698835753264 bytes:  1500 total time:  379
[LOG] index:  5 startts:  1698835753279 ts:  1698835753279 bytes:  1500 total time:  379
[LOG] index:  6 startts:  1698835753293 ts:  1698835753293 bytes:  1500 total time:  379
[LOG] index:  7 startts:  1698835753308 ts:  1698835753308 bytes:  1500 total time:  379
[LOG] index:  8 startts:  1698835753323 ts:  1698835753323 bytes:  1500 total time:  379
[LOG] index:  9 startts:  1698835753337 ts:  1698835753337 bytes:  1500 total time:  379
[LOG] index:  10 startts:  1698835753353 ts:  1698835753353 bytes:  1500 total time:  379
[LOG] index:  11 startts:  1698835753367 ts:  1698835753367 bytes:  1500 total time:  379
[LOG] index:  12 startts:  1698835753381 ts:  1698835753381 bytes:  1500 total time:  379
[LOG] index:  13 startts:  1698835753396 ts:  1698835753396 bytes:  1500 total time:  379
[LOG] index:  14 startts:  1698835753415 ts:  1698835753415 bytes:  1500 total time:  379
[LOG] index:  15 startts:  1698835753428 ts:  1698835753428 bytes:  1500 total time:  379
[LOG] index:  16 startts:  1698835753442 ts:  1698835753442 bytes:  1500 total time:  379
[LOG] index:  17 startts:  1698835753457 ts:  1698835753457 bytes:  1500 total time:  379
[LOG] index:  18 startts:  1698835753470 ts:  1698835753470 bytes:  1500 total time:  379
[LOG] index:  19 startts:  1698835753484 ts:  1698835753484 bytes:  1500 total time:  379
[LOG] index:  20 startts:  1698835753499 ts:  1698835753499 bytes:  1500 total time:  379
[LOG] index:  21 startts:  1698835753513 ts:  1698835753513 bytes:  1500 total time:  379
[LOG] index:  22 startts:  1698835753526 ts:  1698835753526 bytes:  1500 total time:  379
[LOG] index:  23 startts:  1698835753540 ts:  1698835753540 bytes:  1500 total time:  379
[LOG] index:  24 startts:  1698835753555 ts:  1698835753555 bytes:  1500 total time:  379
[LOG] index:  25 startts:  1698835753568 ts:  1698835753568 bytes:  1500 total time:  379
[LOG] index:  26 startts:  1698835753583 ts:  1698835753583 bytes:  1486 total time:  379
[LOG] index:  27 startts:  1698835753584 ts:  1698835753584 bytes:  1222 total time:  379
[LOG] index:  0 start ts/size:  1698835753205 / 1494 id  1 end ts/size:  1698835753381 / 18183 id  13 chunk time:  176 idle time: 0
[LOG] index:  1 start ts/size:  1698835753381 / 1500 id  13 end ts/size:  1698835753381 / 983 id  13 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835753381 / 1500 id  13 end ts/size:  1698835753415 / 2733 id  15 chunk time:  34 idle time:  0
[LOG] index:  3 start ts/size:  1698835753415 / 1500 id  15 end ts/size:  1698835753457 / 4322 id  18 chunk time:  42 idle time:  0
[LOG] index:  4 start ts/size:  1698835753457 / 1500 id  18 end ts/size:  1698835753457 / 503 id  18 chunk time:  0 idle time:  0
[LOG] index:  5 start ts/size:  1698835753457 / 1500 id  18 end ts/size:  1698835753484 / 2726 id  20 chunk time:  27 idle time:  0
[LOG] index:  6 start ts/size:  1698835753484 / 1500 id  20 end ts/size:  1698835753484 / 386 id  20 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835753484 / 1500 id  20 end ts/size:  1698835753499 / 1240 id  21 chunk time:  15 idle time:  0
[LOG] index:  8 start ts/size:  1698835753499 / 1500 id  21 end ts/size:  1698835753513 / 1011 id  22 chunk time:  14 idle time:  0
[LOG] index:  9 start ts/size:  1698835753513 / 1500 id  22 end ts/size:  1698835753526 / 1649 id  23 chunk time:  13 idle time:  0
[LOG] index:  10 start ts/size:  1698835753526 / 1500 id  23 end ts/size:  1698835753526 / 447 id  23 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835753526 / 1500 id  23 end ts/size:  1698835753583 / 5250 id  27 chunk time:  57 idle time:  0
[LOG] index:  12 start ts/size:  1698835753583 / 1486 id  27 end ts/size:  1698835753583 / 525 id  27 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835753583 / 1486 id  27 end ts/size:  1698835753584 / 619 id  28 chunk time:  1 idle time:  0
[LOG] index:  14 start ts/size:  1698835753584 / 1222 id  28 end ts/size:  1698835753584 / 1125 id  28 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 826.4462809917355 37500
[LOG] real bw  826.4462809917136
[LOG] downbytes  41702 time:  403.6753599995223 true bw:  826 downloadtimeinms:  384 latency:  20
'pushing'
826
'now'
'chunk-stream1-00041'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00041.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 403.6753599995223,
  trace: [ { s: {}, d: 403.6753599995223, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 12\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835753381, bytes: 18183, id: 13, idle: 0 },
    {
      ts: 1698835753381,
      bytes: 983,
      id: 13,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753415,
      bytes: 2733,
      id: 15,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753457,
      bytes: 4322,
      id: 18,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753457,
      bytes: 503,
      id: 18,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753484,
      bytes: 2726,
      id: 20,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753484,
      bytes: 386,
      id: 20,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753499,
      bytes: 1240,
      id: 21,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753513,
      bytes: 1011,
      id: 22,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753526,
      bytes: 1649,
      id: 23,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753526,
      bytes: 447,
      id: 23,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753583,
      bytes: 5250,
      id: 27,
      idle: -14.519999999982817
    },
    {
      ts: 1698835753583,
      bytes: 525,
      id: 27,
      idle: -14.384479999982977
    },
    {
      ts: 1698835753584,
      bytes: 619,
      id: 28,
      idle: -14.384479999982977
    },
    {
      ts: 1698835753584,
      bytes: 1125,
      id: 28,
      idle: -11.828959999986001
    }
  ]
}
[LOG] update buffer 1698835753590 1.0720980000000004
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6910853658536584,
  averageBufferLength: 0.7526707317073169,
  currentLatency: 1.524,
  currentBufferLength: 1.102,
  throughputKbps: 809,
  throughputTimestampMs: 1698835753589,
  throughputhis: 826,
  currentTimeAbsolute: 1698835753.589,
  currentTimeRelative: 19.326872,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00041.m4s',
    startTime: 20,
    requestStartDate: 1698835753185,
    firstByteDate: 1698835753205,
    requestEndDate: 1698835753589,
    availabilityStartTime: 1698835752637,
    wallStartTime: 1698835772637,
    bytesLoaded: 41702,
    bytesTotal: 41702,
    delayLoadingTime: 1698835753185
  }
}
[LOG] update buffer 1698835753591 1.1048940000000016
[LOG] update buffer 1698835753591 1.1380179999999989
[LOG] update buffer 1698835753591 1.171129999999998
[LOG] update buffer 1698835753591 1.171129999999998
[LOG] update buffer 1698835753591 1.171129999999998
[LOG] cal jiange, in rmpc, sum:  2.220324523082504 1.1449999998125007 1.171 1 600 811.999999594
1
0
200
-199.99999999999773
1
1
600
800.0000000000023
1
2
1000
400.0000000000023
1
3
2500
-9148.851518462681
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.4878472905788198,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.2755418717364548,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9952364528940886,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.1802692933734217,
  next_latency: 1.6336781611382003,
  rebuf: 0,
  next_play: 0.8008708340479432
}
{
  bit: 1,
  qoe: 800.0000000000023,
  state: [ 1.2755418717364548, 1.525, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 811.999999594, latency: 1.525 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 811.999999594, latency: 1.525 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00042.m4s  time:  1698835753597  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00042.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 20.5,
    mediaStartTime: 20.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00042.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 41,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835753594,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00042.m4s',
    responseHeaders: 'flag: 9\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835753616 1.1469260000000006
[LOG] get chunk:  1  time:  1698835753709  cur buffer:  1698835753616 1.147
[LOG] update buffer 1698835753710 1.0859880000000004
[LOG] get chunk:  2  time:  1698835753723  cur buffer:  1698835753710 1.086
[LOG] update buffer 1698835753723 1.106026
[LOG] update buffer 1698835753725 1.104185000000001
[LOG] get chunk:  3  time:  1698835753737  cur buffer:  1698835753725 1.104
[LOG] update buffer 1698835753737 1.1250539999999987
[LOG] get chunk:  4  time:  1698835753751  cur buffer:  1698835753737 1.125
[LOG] update buffer 1698835753752 1.1441240000000015
[LOG] get chunk:  5  time:  1698835753765  cur buffer:  1698835753752 1.144
[LOG] update buffer 1698835753766 1.1631079999999976
[LOG] get chunk:  6  time:  1698835753779  cur buffer:  1698835753766 1.163
[LOG] get chunk:  7  time:  1698835753779  cur buffer:  1698835753766 1.163
[LOG] update buffer 1698835753780 1.1828269999999996
[LOG] update buffer 1698835753780 1.215926999999997
[LOG] get chunk:  8  time:  1698835753793  cur buffer:  1698835753780 1.216
[LOG] update buffer 1698835753793 1.2355230000000006
[LOG] get chunk:  9  time:  1698835753807  cur buffer:  1698835753793 1.236
[LOG] update buffer 1698835753808 1.254525000000001
[LOG] get chunk:  10  time:  1698835753821  cur buffer:  1698835753808 1.255
[LOG] update buffer 1698835753821 1.2743259999999985
[LOG] get chunk:  11  time:  1698835753835  cur buffer:  1698835753821 1.274
[LOG] update buffer 1698835753836 1.2933099999999982
[LOG] get chunk:  12  time:  1698835753850  cur buffer:  1698835753836 1.293
[LOG] update buffer 1698835753850 1.312342000000001
[LOG] get chunk:  13  time:  1698835753863  cur buffer:  1698835753850 1.312
[LOG] update buffer 1698835753863 1.332376
[LOG] get chunk:  14  time:  1698835753877  cur buffer:  1698835753863 1.332
[LOG] get chunk:  15  time:  1698835753878  cur buffer:  1698835753863 1.332
[LOG] index:  0 startts:  1698835753594 ts:  1698835753611 bytes:  1494 total time:  267
[LOG] index:  1 startts:  1698835753624 ts:  1698835753624 bytes:  1500 total time:  267
[LOG] index:  2 startts:  1698835753638 ts:  1698835753638 bytes:  1500 total time:  267
[LOG] index:  3 startts:  1698835753653 ts:  1698835753653 bytes:  1500 total time:  267
[LOG] index:  4 startts:  1698835753667 ts:  1698835753667 bytes:  1500 total time:  267
[LOG] index:  5 startts:  1698835753680 ts:  1698835753680 bytes:  1500 total time:  267
[LOG] index:  6 startts:  1698835753695 ts:  1698835753695 bytes:  1500 total time:  267
[LOG] index:  7 startts:  1698835753709 ts:  1698835753709 bytes:  1500 total time:  267
[LOG] index:  8 startts:  1698835753723 ts:  1698835753723 bytes:  1500 total time:  267
[LOG] index:  9 startts:  1698835753737 ts:  1698835753737 bytes:  1500 total time:  267
[LOG] index:  10 startts:  1698835753751 ts:  1698835753751 bytes:  1500 total time:  267
[LOG] index:  11 startts:  1698835753765 ts:  1698835753765 bytes:  1500 total time:  267
[LOG] index:  12 startts:  1698835753779 ts:  1698835753779 bytes:  1500 total time:  267
[LOG] index:  13 startts:  1698835753793 ts:  1698835753793 bytes:  1500 total time:  267
[LOG] index:  14 startts:  1698835753807 ts:  1698835753807 bytes:  1493 total time:  267
[LOG] index:  15 startts:  1698835753821 ts:  1698835753821 bytes:  1493 total time:  267
[LOG] index:  16 startts:  1698835753835 ts:  1698835753835 bytes:  1493 total time:  267
[LOG] index:  17 startts:  1698835753850 ts:  1698835753850 bytes:  1493 total time:  267
[LOG] index:  18 startts:  1698835753863 ts:  1698835753863 bytes:  1493 total time:  267
[LOG] index:  19 startts:  1698835753877 ts:  1698835753877 bytes:  1493 total time:  267
[LOG] index:  20 startts:  1698835753878 ts:  1698835753878 bytes:  371 total time:  267
[LOG] index:  0 start ts/size:  1698835753611 / 1494 id  1 end ts/size:  1698835753709 / 11601 id  8 chunk time:  98 idle time: 0
[LOG] index:  1 start ts/size:  1698835753709 / 1500 id  8 end ts/size:  1698835753723 / 1088 id  9 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835753723 / 1500 id  9 end ts/size:  1698835753737 / 1436 id  10 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835753737 / 1500 id  10 end ts/size:  1698835753751 / 1144 id  11 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835753751 / 1500 id  11 end ts/size:  1698835753765 / 1344 id  12 chunk time:  14 idle time:  0
[LOG] index:  5 start ts/size:  1698835753765 / 1500 id  12 end ts/size:  1698835753779 / 1439 id  13 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835753779 / 1500 id  13 end ts/size:  1698835753779 / 1296 id  13 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835753779 / 1500 id  13 end ts/size:  1698835753793 / 1593 id  14 chunk time:  14 idle time:  0
[LOG] index:  8 start ts/size:  1698835753807 / 1493 id  15 end ts/size:  1698835753807 / 1480 id  15 chunk time:  0 idle time:  14
[LOG] index:  9 start ts/size:  1698835753821 / 1493 id  16 end ts/size:  1698835753821 / 1383 id  16 chunk time:  0 idle time:  14
[LOG] index:  10 start ts/size:  1698835753821 / 1493 id  16 end ts/size:  1698835753835 / 1177 id  17 chunk time:  14 idle time:  0
[LOG] index:  11 start ts/size:  1698835753835 / 1493 id  17 end ts/size:  1698835753850 / 1420 id  18 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835753850 / 1493 id  18 end ts/size:  1698835753863 / 1063 id  19 chunk time:  13 idle time:  0
[LOG] index:  13 start ts/size:  1698835753863 / 1493 id  19 end ts/size:  1698835753877 / 2305 id  20 chunk time:  14 idle time:  0
[LOG] index:  14 start ts/size:  1698835753877 / 1493 id  20 end ts/size:  1698835753878 / 554 id  21 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 857.1428571428571 19500
[LOG] real bw  857.1428571428132
[LOG] downbytes  30323 time:  283.014666666351 true bw:  857 downloadtimeinms:  271 latency:  17
'pushing'
857
'now'
'chunk-stream1-00042'
[LOG] update buffer 1698835753883 1.3457000000000008
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00042.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 283.014666666351,
  trace: [ { s: {}, d: 283.014666666351, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 9\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835753709, bytes: 11601, id: 8, idle: 0 },
    {
      ts: 1698835753723,
      bytes: 1088,
      id: 9,
      idle: -13.999999999984384
    },
    {
      ts: 1698835753737,
      bytes: 1436,
      id: 10,
      idle: -13.999999999984384
    },
    {
      ts: 1698835753751,
      bytes: 1144,
      id: 11,
      idle: -13.999999999984384
    },
    {
      ts: 1698835753765,
      bytes: 1344,
      id: 12,
      idle: -13.999999999984384
    },
    {
      ts: 1698835753779,
      bytes: 1439,
      id: 13,
      idle: -13.999999999984384
    },
    {
      ts: 1698835753779,
      bytes: 1296,
      id: 13,
      idle: -13.999999999984384
    },
    {
      ts: 1698835753793,
      bytes: 1593,
      id: 14,
      idle: -13.999999999984384
    },
    {
      ts: 1698835753807,
      bytes: 1480,
      id: 15,
      idle: 0.06533333334887637
    },
    {
      ts: 1698835753821,
      bytes: 1383,
      id: 16,
      idle: 0.06533333334887637
    },
    {
      ts: 1698835753835,
      bytes: 1177,
      id: 17,
      idle: -13.934666666651124
    },
    {
      ts: 1698835753850,
      bytes: 1420,
      id: 18,
      idle: -13.934666666651124
    },
    {
      ts: 1698835753863,
      bytes: 1063,
      id: 19,
      idle: -13.934666666651124
    },
    {
      ts: 1698835753877,
      bytes: 2305,
      id: 20,
      idle: -13.934666666651124
    },
    {
      ts: 1698835753878,
      bytes: 554,
      id: 21,
      idle: -13.934666666651124
    }
  ]
}
[LOG] update buffer 1698835753884 1.3452459999999995
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6851999999999998,
  averageBufferLength: 0.7698588235294116,
  currentLatency: 1.525,
  currentBufferLength: 1.332,
  throughputKbps: 827,
  throughputTimestampMs: 1698835753883,
  throughputhis: 857,
  currentTimeAbsolute: 1698835753.883,
  currentTimeRelative: 19.620465,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00042.m4s',
    startTime: 20.5,
    requestStartDate: 1698835753594,
    firstByteDate: 1698835753611,
    requestEndDate: 1698835753882,
    availabilityStartTime: 1698835753137,
    wallStartTime: 1698835773637,
    bytesLoaded: 30323,
    bytesTotal: 30323,
    delayLoadingTime: 1698835753594
  }
}
[LOG] update buffer 1698835753885 1.3777919999999995
[LOG] update buffer 1698835753885 1.3777919999999995
[LOG] update buffer 1698835753885 1.3777919999999995
[LOG] cal jiange, in rmpc, sum:  7.4352778076336925 1.2755418717364548 1.378 1 600 841.49999957925
1
0
200
-176.00000000000045
[LOG] [RmpcRule][video] requesting switch to index:  2 Average throughput 841 kbps
1
1
600
823.9999999999995
1
2
1000
1023.9999999999994
1
3
2500
-4690.52858266878
'running time/ms: '
1
'in abr rule coll, get all'
'Quality changed requested'
{
  next_buf: 1.6990339203208258,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.4953630942958704,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.2236922682709153,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.34658997646746836,
  next_latency: 1.538163305790138,
  rebuf: 0,
  next_play: 0.8842580564692838
}
{
  bit: 2,
  qoe: 1023.9999999999994,
  state: [ 1.2236922682709153, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 841.49999957925, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 841.49999957925, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 1,
  newQuality: 2,
  reason: { throughput: 841.49999957925, latency: 1.524 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 1000000,
    width: 640,
    height: 360,
    scanType: null,
    qualityIndex: 2
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream2'
[LOG] update buffer 1698835753934 1.3285479999999978
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6833255813953487,
  averageBufferLength: 0.7769302325581393,
  currentLatency: 1.524,
  currentBufferLength: 1.378,
  throughputKbps: 827,
  throughputTimestampMs: 1698835753933,
  throughputhis: -1,
  currentTimeAbsolute: 1698835753.933,
  currentTimeRelative: 19.670839,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream2.m4s',
    startTime: null,
    requestStartDate: 1698835753887,
    firstByteDate: 1698835753887,
    requestEndDate: 1698835753933,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 834,
    bytesTotal: 834,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00043.m4s  time:  1698835753949  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00043.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 21,
    mediaStartTime: 21,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00043.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 42,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835753934,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00043.m4s',
    responseHeaders: 'flag: 4\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835754084 1.1780979999999985
[LOG] update buffer 1698835754147 1.1156459999999981
[LOG] get chunk:  1  time:  1698835754172  cur buffer:  1698835754147 1.116
[LOG] get chunk:  2  time:  1698835754172  cur buffer:  1698835754147 1.116
[LOG] update buffer 1698835754173 1.1230580000000003
[LOG] update buffer 1698835754173 1.1561550000000018
[LOG] get chunk:  3  time:  1698835754186  cur buffer:  1698835754173 1.156
[LOG] update buffer 1698835754187 1.175699999999999
[LOG] get chunk:  4  time:  1698835754200  cur buffer:  1698835754187 1.176
[LOG] update buffer 1698835754201 1.1948800000000013
[LOG] get chunk:  5  time:  1698835754215  cur buffer:  1698835754201 1.195
[LOG] update buffer 1698835754215 1.2138220000000004
[LOG] get chunk:  6  time:  1698835754242  cur buffer:  1698835754215 1.214
[LOG] update buffer 1698835754243 1.2194079999999978
[LOG] get chunk:  7  time:  1698835754257  cur buffer:  1698835754243 1.219
[LOG] update buffer 1698835754257 1.238350999999998
[LOG] get chunk:  8  time:  1698835754284  cur buffer:  1698835754257 1.238
[LOG] update buffer 1698835754285 1.2439210000000003
[LOG] get chunk:  9  time:  1698835754299  cur buffer:  1698835754285 1.244
[LOG] update buffer 1698835754299 1.2630839999999992
[LOG] get chunk:  10  time:  1698835754327  cur buffer:  1698835754299 1.263
[LOG] update buffer 1698835754327 1.268426999999999
[LOG] get chunk:  11  time:  1698835754340  cur buffer:  1698835754327 1.268
[LOG] update buffer 1698835754341 1.2884119999999974
[LOG] get chunk:  12  time:  1698835754369  cur buffer:  1698835754341 1.288
[LOG] update buffer 1698835754369 1.2931210000000029
[LOG] get chunk:  13  time:  1698835754383  cur buffer:  1698835754369 1.293
[LOG] update buffer 1698835754384 1.312108000000002
[LOG] get chunk:  14  time:  1698835754396  cur buffer:  1698835754384 1.312
[LOG] update buffer 1698835754397 1.3321110000000012
[LOG] get chunk:  15  time:  1698835754411  cur buffer:  1698835754397 1.332
[LOG] index:  0 startts:  1698835753934 ts:  1698835753962 bytes:  1494 total time:  449
[LOG] index:  1 startts:  1698835753977 ts:  1698835753977 bytes:  1500 total time:  449
[LOG] index:  2 startts:  1698835753990 ts:  1698835753990 bytes:  1500 total time:  449
[LOG] index:  3 startts:  1698835754003 ts:  1698835754003 bytes:  1500 total time:  449
[LOG] index:  4 startts:  1698835754018 ts:  1698835754018 bytes:  1500 total time:  449
[LOG] index:  5 startts:  1698835754032 ts:  1698835754032 bytes:  1500 total time:  449
[LOG] index:  6 startts:  1698835754045 ts:  1698835754045 bytes:  1500 total time:  449
[LOG] index:  7 startts:  1698835754060 ts:  1698835754060 bytes:  1500 total time:  449
[LOG] index:  8 startts:  1698835754074 ts:  1698835754074 bytes:  1500 total time:  449
[LOG] index:  9 startts:  1698835754088 ts:  1698835754088 bytes:  1500 total time:  449
[LOG] index:  10 startts:  1698835754102 ts:  1698835754102 bytes:  1500 total time:  449
[LOG] index:  11 startts:  1698835754116 ts:  1698835754116 bytes:  1500 total time:  449
[LOG] index:  12 startts:  1698835754130 ts:  1698835754130 bytes:  1500 total time:  449
[LOG] index:  13 startts:  1698835754144 ts:  1698835754144 bytes:  1500 total time:  449
[LOG] index:  14 startts:  1698835754158 ts:  1698835754158 bytes:  1500 total time:  449
[LOG] index:  15 startts:  1698835754172 ts:  1698835754172 bytes:  1500 total time:  449
[LOG] index:  16 startts:  1698835754186 ts:  1698835754186 bytes:  1500 total time:  449
[LOG] index:  17 startts:  1698835754200 ts:  1698835754200 bytes:  1493 total time:  449
[LOG] index:  18 startts:  1698835754215 ts:  1698835754215 bytes:  1493 total time:  449
[LOG] index:  19 startts:  1698835754228 ts:  1698835754228 bytes:  1500 total time:  449
[LOG] index:  20 startts:  1698835754242 ts:  1698835754242 bytes:  1493 total time:  449
[LOG] index:  21 startts:  1698835754257 ts:  1698835754257 bytes:  1493 total time:  449
[LOG] index:  22 startts:  1698835754270 ts:  1698835754270 bytes:  1500 total time:  449
[LOG] index:  23 startts:  1698835754284 ts:  1698835754284 bytes:  1493 total time:  449
[LOG] index:  24 startts:  1698835754299 ts:  1698835754299 bytes:  1493 total time:  449
[LOG] index:  25 startts:  1698835754312 ts:  1698835754312 bytes:  1500 total time:  449
[LOG] index:  26 startts:  1698835754327 ts:  1698835754327 bytes:  1493 total time:  449
[LOG] index:  27 startts:  1698835754340 ts:  1698835754340 bytes:  1493 total time:  449
[LOG] index:  28 startts:  1698835754354 ts:  1698835754354 bytes:  1500 total time:  449
[LOG] index:  29 startts:  1698835754369 ts:  1698835754369 bytes:  1493 total time:  449
[LOG] index:  30 startts:  1698835754383 ts:  1698835754383 bytes:  1493 total time:  449
[LOG] index:  31 startts:  1698835754396 ts:  1698835754396 bytes:  1493 total time:  449
[LOG] index:  32 startts:  1698835754411 ts:  1698835754411 bytes:  1500 total time:  449
[LOG] index:  33 startts:  1698835754411 ts:  1698835754411 bytes:  225 total time:  449
[LOG] index:  0 start ts/size:  1698835753962 / 1494 id  1 end ts/size:  1698835754172 / 22544 id  16 chunk time:  210 idle time: 0
[LOG] index:  1 start ts/size:  1698835754172 / 1500 id  16 end ts/size:  1698835754172 / 798 id  16 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835754172 / 1500 id  16 end ts/size:  1698835754186 / 1173 id  17 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835754186 / 1500 id  17 end ts/size:  1698835754200 / 1662 id  18 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835754200 / 1493 id  18 end ts/size:  1698835754215 / 2049 id  19 chunk time:  15 idle time:  0
[LOG] index:  5 start ts/size:  1698835754215 / 1493 id  19 end ts/size:  1698835754242 / 2374 id  21 chunk time:  27 idle time:  0
[LOG] index:  6 start ts/size:  1698835754242 / 1493 id  21 end ts/size:  1698835754257 / 1771 id  22 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835754257 / 1493 id  22 end ts/size:  1698835754284 / 2726 id  24 chunk time:  27 idle time:  0
[LOG] index:  8 start ts/size:  1698835754284 / 1493 id  24 end ts/size:  1698835754299 / 1292 id  25 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835754299 / 1493 id  25 end ts/size:  1698835754327 / 3013 id  27 chunk time:  28 idle time:  0
[LOG] index:  10 start ts/size:  1698835754327 / 1493 id  27 end ts/size:  1698835754340 / 1563 id  28 chunk time:  13 idle time:  0
[LOG] index:  11 start ts/size:  1698835754340 / 1493 id  28 end ts/size:  1698835754369 / 2748 id  30 chunk time:  29 idle time:  0
[LOG] index:  12 start ts/size:  1698835754369 / 1493 id  30 end ts/size:  1698835754383 / 1471 id  31 chunk time:  14 idle time:  0
[LOG] index:  13 start ts/size:  1698835754383 / 1493 id  31 end ts/size:  1698835754396 / 2418 id  32 chunk time:  13 idle time:  0
[LOG] index:  14 start ts/size:  1698835754396 / 1493 id  32 end ts/size:  1698835754411 / 2040 id  34 chunk time:  15 idle time:  0
[LOG] cur bw/size 0 857.1428571428571 24000
[LOG] real bw  857.1428571428214
[LOG] downbytes  49642 time:  463.3253333328121 true bw:  857 downloadtimeinms:  455 latency:  28
'pushing'
857
'now'
'chunk-stream2-00043'
[LOG] update buffer 1698835754418 1.3441200000000002
[LOG] update buffer 1698835754418 1.3441200000000002
[LOG] update buffer 1698835754419 1.3441200000000002
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00043.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 463.3253333328121,
  trace: [ { s: {}, d: 463.3253333328121, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 4\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835754172, bytes: 22544, id: 16, idle: 0 },
    { ts: 1698835754172, bytes: 798, id: 16, idle: -13.99999999998425 },
    {
      ts: 1698835754186,
      bytes: 1173,
      id: 17,
      idle: -13.99999999998425
    },
    {
      ts: 1698835754200,
      bytes: 1662,
      id: 18,
      idle: -13.99999999998425
    },
    {
      ts: 1698835754215,
      bytes: 2049,
      id: 19,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754242,
      bytes: 2374,
      id: 21,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754257,
      bytes: 1771,
      id: 22,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754284,
      bytes: 2726,
      id: 24,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754299,
      bytes: 1292,
      id: 25,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754327,
      bytes: 3013,
      id: 27,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754340,
      bytes: 1563,
      id: 28,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754369,
      bytes: 2748,
      id: 30,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754383,
      bytes: 1471,
      id: 31,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754396,
      bytes: 2418,
      id: 32,
      idle: -13.93466666665099
    },
    {
      ts: 1698835754411,
      bytes: 2040,
      id: 34,
      idle: -13.93466666665099
    }
  ]
}
[LOG] update buffer 1698835754419 1.3433600000000006
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6762666666666666,
  averageBufferLength: 0.7996111111111109,
  currentLatency: 1.525,
  currentBufferLength: 1.332,
  throughputKbps: 847,
  throughputTimestampMs: 1698835754418,
  throughputhis: 857,
  currentTimeAbsolute: 1698835754.418,
  currentTimeRelative: 20.155356,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00043.m4s',
    startTime: 21,
    requestStartDate: 1698835753934,
    firstByteDate: 1698835753962,
    requestEndDate: 1698835754417,
    availabilityStartTime: 1698835753637,
    wallStartTime: 1698835774637,
    bytesLoaded: 49642,
    bytesTotal: 49642,
    delayLoadingTime: 1698835753934
  }
}
[LOG] cal jiange, in rmpc, sum:  8.883673242013996 1.2236922682709153 1.343 2 1000 856.9999995715
1
0
200
-599.9999999999977
1
1
600
400.0000000000023
1
2
1000
1400.0000000000023
1
3
2500
-4420.082522475825
'running time/ms: '
2
'in abr rule coll, get all'
{
  next_buf: 1.666313885589266,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.432941656767796,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.2335694279463258,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.3424536258437144,
  next_latency: 1.5430300559779035,
  rebuf: 0,
  next_play: 0.887593532860645
}
{
  bit: 2,
  qoe: 1400.0000000000023,
  state: [ 1.2335694279463258, 1.525, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 856.9999995715, latency: 1.525 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 856.9999995715, latency: 1.525 },
  priority: 0.5,
  getClassName: {}
}
[LOG] update buffer 1698835754444 1.3187769999999972
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00044.m4s  time:  1698835754453  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00044.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 21.5,
    mediaStartTime: 21.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00044.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 43,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835754422,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00044.m4s',
    responseHeaders: 'flag: 4\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835754678 1.0843689999999988
[LOG] get chunk:  1  time:  1698835754721  cur buffer:  1698835754678 1.084
[LOG] update buffer 1698835754722 1.0740289999999995
[LOG] get chunk:  2  time:  1698835754735  cur buffer:  1698835754722 1.074
[LOG] update buffer 1698835754736 1.0931840000000008
[LOG] get chunk:  3  time:  1698835754750  cur buffer:  1698835754736 1.093
[LOG] update buffer 1698835754750 1.1121850000000002
[LOG] get chunk:  4  time:  1698835754764  cur buffer:  1698835754750 1.112
[LOG] update buffer 1698835754765 1.1311570000000017
[LOG] get chunk:  5  time:  1698835754778  cur buffer:  1698835754765 1.131
[LOG] update buffer 1698835754779 1.1501699999999992
[LOG] get chunk:  6  time:  1698835754793  cur buffer:  1698835754779 1.15
[LOG] update buffer 1698835754793 1.169160999999999
[LOG] update buffer 1698835754803 1.1593449999999983
[LOG] get chunk:  7  time:  1698835754821  cur buffer:  1698835754803 1.159
[LOG] update buffer 1698835754821 1.174509999999998
[LOG] get chunk:  8  time:  1698835754849  cur buffer:  1698835754821 1.175
[LOG] update buffer 1698835754850 1.1791219999999996
[LOG] get chunk:  9  time:  1698835754863  cur buffer:  1698835754850 1.179
[LOG] update buffer 1698835754863 1.1991510000000005
[LOG] get chunk:  10  time:  1698835754877  cur buffer:  1698835754863 1.199
[LOG] update buffer 1698835754877 1.2181719999999991
[LOG] get chunk:  11  time:  1698835754906  cur buffer:  1698835754877 1.218
[LOG] update buffer 1698835754906 1.222852999999997
[LOG] get chunk:  12  time:  1698835754920  cur buffer:  1698835754906 1.223
[LOG] update buffer 1698835754921 1.2418030000000009
[LOG] update buffer 1698835754944 1.2187739999999998
[LOG] get chunk:  13  time:  1698835754948  cur buffer:  1698835754944 1.219
[LOG] update buffer 1698835754951 1.2444699999999997
[LOG] get chunk:  14  time:  1698835754971  cur buffer:  1698835754951 1.244
[LOG] update buffer 1698835754971 1.2578920000000018
[LOG] get chunk:  15  time:  1698835754986  cur buffer:  1698835754971 1.258
[LOG] index:  0 startts:  1698835754422 ts:  1698835754467 bytes:  1494 total time:  519
[LOG] index:  1 startts:  1698835754480 ts:  1698835754480 bytes:  1500 total time:  519
[LOG] index:  2 startts:  1698835754495 ts:  1698835754495 bytes:  1500 total time:  519
[LOG] index:  3 startts:  1698835754509 ts:  1698835754509 bytes:  1500 total time:  519
[LOG] index:  4 startts:  1698835754523 ts:  1698835754523 bytes:  1500 total time:  519
[LOG] index:  5 startts:  1698835754538 ts:  1698835754538 bytes:  1500 total time:  519
[LOG] index:  6 startts:  1698835754552 ts:  1698835754552 bytes:  1500 total time:  519
[LOG] index:  7 startts:  1698835754565 ts:  1698835754565 bytes:  1500 total time:  519
[LOG] index:  8 startts:  1698835754580 ts:  1698835754580 bytes:  1500 total time:  519
[LOG] index:  9 startts:  1698835754594 ts:  1698835754594 bytes:  1500 total time:  519
[LOG] index:  10 startts:  1698835754609 ts:  1698835754609 bytes:  1500 total time:  519
[LOG] index:  11 startts:  1698835754622 ts:  1698835754622 bytes:  1500 total time:  519
[LOG] index:  12 startts:  1698835754636 ts:  1698835754636 bytes:  1500 total time:  519
[LOG] index:  13 startts:  1698835754651 ts:  1698835754651 bytes:  1500 total time:  519
[LOG] index:  14 startts:  1698835754665 ts:  1698835754665 bytes:  1500 total time:  519
[LOG] index:  15 startts:  1698835754679 ts:  1698835754679 bytes:  1500 total time:  519
[LOG] index:  16 startts:  1698835754693 ts:  1698835754693 bytes:  1500 total time:  519
[LOG] index:  17 startts:  1698835754708 ts:  1698835754708 bytes:  1500 total time:  519
[LOG] index:  18 startts:  1698835754721 ts:  1698835754721 bytes:  1500 total time:  519
[LOG] index:  19 startts:  1698835754735 ts:  1698835754735 bytes:  1500 total time:  519
[LOG] index:  20 startts:  1698835754750 ts:  1698835754750 bytes:  1500 total time:  519
[LOG] index:  21 startts:  1698835754764 ts:  1698835754764 bytes:  1493 total time:  519
[LOG] index:  22 startts:  1698835754778 ts:  1698835754778 bytes:  1493 total time:  519
[LOG] index:  23 startts:  1698835754793 ts:  1698835754793 bytes:  1493 total time:  519
[LOG] index:  24 startts:  1698835754806 ts:  1698835754806 bytes:  1500 total time:  519
[LOG] index:  25 startts:  1698835754821 ts:  1698835754821 bytes:  1493 total time:  519
[LOG] index:  26 startts:  1698835754835 ts:  1698835754835 bytes:  1500 total time:  519
[LOG] index:  27 startts:  1698835754849 ts:  1698835754849 bytes:  1493 total time:  519
[LOG] index:  28 startts:  1698835754863 ts:  1698835754863 bytes:  1493 total time:  519
[LOG] index:  29 startts:  1698835754877 ts:  1698835754877 bytes:  1493 total time:  519
[LOG] index:  30 startts:  1698835754891 ts:  1698835754891 bytes:  1500 total time:  519
[LOG] index:  31 startts:  1698835754906 ts:  1698835754906 bytes:  1493 total time:  519
[LOG] index:  32 startts:  1698835754920 ts:  1698835754920 bytes:  1493 total time:  519
[LOG] index:  33 startts:  1698835754934 ts:  1698835754934 bytes:  1500 total time:  519
[LOG] index:  34 startts:  1698835754948 ts:  1698835754948 bytes:  1493 total time:  519
[LOG] index:  35 startts:  1698835754971 ts:  1698835754971 bytes:  1493 total time:  519
[LOG] index:  36 startts:  1698835754985 ts:  1698835754985 bytes:  1500 total time:  519
[LOG] index:  37 startts:  1698835754986 ts:  1698835754986 bytes:  221 total time:  519
[LOG] index:  0 start ts/size:  1698835754467 / 1494 id  1 end ts/size:  1698835754721 / 28062 id  19 chunk time:  254 idle time: 0
[LOG] index:  1 start ts/size:  1698835754721 / 1500 id  19 end ts/size:  1698835754735 / 1006 id  20 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835754735 / 1500 id  20 end ts/size:  1698835754750 / 1077 id  21 chunk time:  15 idle time:  0
[LOG] index:  3 start ts/size:  1698835754750 / 1500 id  21 end ts/size:  1698835754764 / 1438 id  22 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835754764 / 1493 id  22 end ts/size:  1698835754778 / 1769 id  23 chunk time:  14 idle time:  0
[LOG] index:  5 start ts/size:  1698835754778 / 1493 id  23 end ts/size:  1698835754793 / 1934 id  24 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835754793 / 1493 id  24 end ts/size:  1698835754821 / 2421 id  26 chunk time:  28 idle time:  0
[LOG] index:  7 start ts/size:  1698835754821 / 1493 id  26 end ts/size:  1698835754849 / 2764 id  28 chunk time:  28 idle time:  0
[LOG] index:  8 start ts/size:  1698835754849 / 1493 id  28 end ts/size:  1698835754863 / 2482 id  29 chunk time:  14 idle time:  0
[LOG] index:  9 start ts/size:  1698835754863 / 1493 id  29 end ts/size:  1698835754877 / 1455 id  30 chunk time:  14 idle time:  0
[LOG] index:  10 start ts/size:  1698835754877 / 1493 id  30 end ts/size:  1698835754906 / 2069 id  32 chunk time:  29 idle time:  0
[LOG] index:  11 start ts/size:  1698835754906 / 1493 id  32 end ts/size:  1698835754920 / 2099 id  33 chunk time:  14 idle time:  0
[LOG] index:  12 start ts/size:  1698835754920 / 1493 id  33 end ts/size:  1698835754948 / 2405 id  35 chunk time:  28 idle time:  0
[LOG] index:  13 start ts/size:  1698835754948 / 1493 id  35 end ts/size:  1698835754971 / 2344 id  36 chunk time:  23 idle time:  0
[LOG] index:  14 start ts/size:  1698835754971 / 1493 id  36 end ts/size:  1698835754986 / 2313 id  38 chunk time:  15 idle time:  0
[LOG] cur bw/size 0 848.0565371024735 30000
[LOG] real bw  848.0565371024452
[LOG] downbytes  55638 time:  524.8517999993986 true bw:  848 downloadtimeinms:  523 latency:  45
'pushing'
848
'now'
'chunk-stream2-00044'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00044.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 524.8517999993986,
  trace: [ { s: {}, d: 524.8517999993986, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 4\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835754721, bytes: 28062, id: 19, idle: 0 },
    {
      ts: 1698835754735,
      bytes: 1006,
      id: 20,
      idle: -14.149999999983788
    },
    {
      ts: 1698835754750,
      bytes: 1077,
      id: 21,
      idle: -14.149999999983788
    },
    {
      ts: 1698835754764,
      bytes: 1438,
      id: 22,
      idle: -14.149999999983788
    },
    {
      ts: 1698835754778,
      bytes: 1769,
      id: 23,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754793,
      bytes: 1934,
      id: 24,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754821,
      bytes: 2421,
      id: 26,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754849,
      bytes: 2764,
      id: 28,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754863,
      bytes: 2482,
      id: 29,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754877,
      bytes: 1455,
      id: 30,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754906,
      bytes: 2069,
      id: 32,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754920,
      bytes: 2099,
      id: 33,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754948,
      bytes: 2405,
      id: 35,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754971,
      bytes: 2344,
      id: 36,
      idle: -14.083966666650529
    },
    {
      ts: 1698835754986,
      bytes: 2313,
      id: 38,
      idle: -14.083966666650529
    }
  ]
}
[LOG] update buffer 1698835754992 1.2706799999999987
[LOG] update buffer 1698835754992 1.2706799999999987
[LOG] update buffer 1698835754992 1.2706799999999987
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6714086021505374,
  averageBufferLength: 0.8138924731182793,
  currentLatency: 1.529,
  currentBufferLength: 1.258,
  throughputKbps: 854,
  throughputTimestampMs: 1698835754991,
  throughputhis: 848,
  currentTimeAbsolute: 1698835754.991,
  currentTimeRelative: 20.723938,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00044.m4s',
    startTime: 21.5,
    requestStartDate: 1698835754422,
    firstByteDate: 1698835754467,
    requestEndDate: 1698835754990,
    availabilityStartTime: 1698835754137,
    wallStartTime: 1698835775637,
    bytesLoaded: 55638,
    bytesTotal: 55638,
    delayLoadingTime: 1698835754422
  }
}
[LOG] cal jiange, in rmpc, sum:  2.944970261544009 1.2335694279463258 1.271 2 1000 852.49999957375
1
0
200
-576.0000000000005
1
1
600
423.99999999999955
1
2
1000
1423.9999999999995
1
3
2500
-5552.877181380183
'running time/ms: '
0
'in abr rule coll, get all'
{
  next_buf: 1.5936979471554265,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.359093841466277,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.158489735777127,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.28715161950604945,
  next_latency: 1.5664272800632346,
  rebuf: 0,
  next_play: 0.8652644156222904
}
{
  bit: 2,
  qoe: 1423.9999999999995,
  state: [ 1.158489735777127, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 852.49999957375, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 852.49999957375, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00045.m4s  time:  1698835754999  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00045.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 22,
    mediaStartTime: 22,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00045.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 44,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835754994,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00045.m4s',
    responseHeaders: 'flag: 6\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835755162 1.0999569999999999
[LOG] update buffer 1698835755209 1.053139999999999
[LOG] get chunk:  1  time:  1698835755282  cur buffer:  1698835755209 1.053
[LOG] update buffer 1698835755282 1.0134019999999992
[LOG] get chunk:  2  time:  1698835755296  cur buffer:  1698835755282 1.013
[LOG] update buffer 1698835755296 1.0326010000000032
[LOG] get chunk:  3  time:  1698835755310  cur buffer:  1698835755296 1.033
[LOG] update buffer 1698835755311 1.0516119999999987
[LOG] get chunk:  4  time:  1698835755325  cur buffer:  1698835755311 1.052
[LOG] update buffer 1698835755325 1.0703570000000013
[LOG] get chunk:  5  time:  1698835755353  cur buffer:  1698835755325 1.07
[LOG] update buffer 1698835755353 1.0759219999999985
[LOG] get chunk:  6  time:  1698835755367  cur buffer:  1698835755353 1.076
[LOG] update buffer 1698835755368 1.0947189999999978
[LOG] get chunk:  7  time:  1698835755396  cur buffer:  1698835755368 1.095
[LOG] update buffer 1698835755396 1.0994279999999996
[LOG] get chunk:  8  time:  1698835755409  cur buffer:  1698835755396 1.099
[LOG] update buffer 1698835755410 1.1194680000000012
[LOG] get chunk:  9  time:  1698835755438  cur buffer:  1698835755410 1.119
[LOG] update buffer 1698835755438 1.1239080000000001
[LOG] get chunk:  10  time:  1698835755452  cur buffer:  1698835755438 1.124
[LOG] update buffer 1698835755453 1.142914000000001
[LOG] update buffer 1698835755475 1.1208489999999998
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 1,
  newQuality: 2,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  11  time:  1698835755490  cur buffer:  1698835755475 1.121
[LOG] update buffer 1698835755491 1.1383999999999972
[LOG] get chunk:  12  time:  1698835755518  cur buffer:  1698835755491 1.138
[LOG] update buffer 1698835755518 1.144158000000001
[LOG] update buffer 1698835755522 1.1406070000000028
[LOG] get chunk:  13  time:  1698835755547  cur buffer:  1698835755522 1.141
[LOG] update buffer 1698835755547 1.1487690000000015
[LOG] get chunk:  14  time:  1698835755574  cur buffer:  1698835755547 1.149
[LOG] update buffer 1698835755575 1.1541299999999985
[LOG] get chunk:  15  time:  1698835755590  cur buffer:  1698835755575 1.154
[LOG] index:  0 startts:  1698835754994 ts:  1698835755013 bytes:  1494 total time:  577
[LOG] index:  1 startts:  1698835755028 ts:  1698835755028 bytes:  1500 total time:  577
[LOG] index:  2 startts:  1698835755041 ts:  1698835755041 bytes:  1500 total time:  577
[LOG] index:  3 startts:  1698835755055 ts:  1698835755055 bytes:  1500 total time:  577
[LOG] index:  4 startts:  1698835755070 ts:  1698835755070 bytes:  1500 total time:  577
[LOG] index:  5 startts:  1698835755084 ts:  1698835755084 bytes:  1500 total time:  577
[LOG] index:  6 startts:  1698835755098 ts:  1698835755098 bytes:  1500 total time:  577
[LOG] index:  7 startts:  1698835755112 ts:  1698835755112 bytes:  1500 total time:  577
[LOG] index:  8 startts:  1698835755126 ts:  1698835755126 bytes:  1500 total time:  577
[LOG] index:  9 startts:  1698835755140 ts:  1698835755140 bytes:  1500 total time:  577
[LOG] index:  10 startts:  1698835755155 ts:  1698835755155 bytes:  1500 total time:  577
[LOG] index:  11 startts:  1698835755169 ts:  1698835755169 bytes:  1500 total time:  577
[LOG] index:  12 startts:  1698835755183 ts:  1698835755183 bytes:  1500 total time:  577
[LOG] index:  13 startts:  1698835755197 ts:  1698835755197 bytes:  1500 total time:  577
[LOG] index:  14 startts:  1698835755211 ts:  1698835755211 bytes:  1500 total time:  577
[LOG] index:  15 startts:  1698835755225 ts:  1698835755225 bytes:  1500 total time:  577
[LOG] index:  16 startts:  1698835755240 ts:  1698835755240 bytes:  1500 total time:  577
[LOG] index:  17 startts:  1698835755254 ts:  1698835755254 bytes:  1500 total time:  577
[LOG] index:  18 startts:  1698835755268 ts:  1698835755268 bytes:  1500 total time:  577
[LOG] index:  19 startts:  1698835755282 ts:  1698835755282 bytes:  1500 total time:  577
[LOG] index:  20 startts:  1698835755296 ts:  1698835755296 bytes:  1500 total time:  577
[LOG] index:  21 startts:  1698835755310 ts:  1698835755310 bytes:  1500 total time:  577
[LOG] index:  22 startts:  1698835755325 ts:  1698835755325 bytes:  1500 total time:  577
[LOG] index:  23 startts:  1698835755339 ts:  1698835755339 bytes:  1500 total time:  577
[LOG] index:  24 startts:  1698835755353 ts:  1698835755353 bytes:  1500 total time:  577
[LOG] index:  25 startts:  1698835755367 ts:  1698835755367 bytes:  1493 total time:  577
[LOG] index:  26 startts:  1698835755381 ts:  1698835755381 bytes:  1500 total time:  577
[LOG] index:  27 startts:  1698835755396 ts:  1698835755396 bytes:  1493 total time:  577
[LOG] index:  28 startts:  1698835755409 ts:  1698835755409 bytes:  1493 total time:  577
[LOG] index:  29 startts:  1698835755424 ts:  1698835755424 bytes:  1500 total time:  577
[LOG] index:  30 startts:  1698835755438 ts:  1698835755438 bytes:  1493 total time:  577
[LOG] index:  31 startts:  1698835755452 ts:  1698835755452 bytes:  1493 total time:  577
[LOG] index:  32 startts:  1698835755467 ts:  1698835755467 bytes:  1500 total time:  577
[LOG] index:  33 startts:  1698835755490 ts:  1698835755490 bytes:  1493 total time:  577
[LOG] index:  34 startts:  1698835755504 ts:  1698835755504 bytes:  1500 total time:  577
[LOG] index:  35 startts:  1698835755518 ts:  1698835755518 bytes:  1493 total time:  577
[LOG] index:  36 startts:  1698835755532 ts:  1698835755532 bytes:  1500 total time:  577
[LOG] index:  37 startts:  1698835755546 ts:  1698835755546 bytes:  1493 total time:  577
[LOG] index:  38 startts:  1698835755561 ts:  1698835755561 bytes:  1500 total time:  577
[LOG] index:  39 startts:  1698835755574 ts:  1698835755574 bytes:  1493 total time:  577
[LOG] index:  40 startts:  1698835755589 ts:  1698835755589 bytes:  1500 total time:  577
[LOG] index:  41 startts:  1698835755590 ts:  1698835755590 bytes:  1198 total time:  577
[LOG] index:  0 start ts/size:  1698835755013 / 1494 id  1 end ts/size:  1698835755282 / 29007 id  20 chunk time:  269 idle time: 0
[LOG] index:  1 start ts/size:  1698835755282 / 1500 id  20 end ts/size:  1698835755296 / 1242 id  21 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835755296 / 1500 id  21 end ts/size:  1698835755310 / 1830 id  22 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835755310 / 1500 id  22 end ts/size:  1698835755325 / 2409 id  23 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835755339 / 1500 id  24 end ts/size:  1698835755353 / 2208 id  25 chunk time:  14 idle time:  14
[LOG] index:  5 start ts/size:  1698835755353 / 1500 id  25 end ts/size:  1698835755367 / 2185 id  26 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835755367 / 1493 id  26 end ts/size:  1698835755396 / 2324 id  28 chunk time:  29 idle time:  0
[LOG] index:  7 start ts/size:  1698835755396 / 1493 id  28 end ts/size:  1698835755409 / 1907 id  29 chunk time:  13 idle time:  0
[LOG] index:  8 start ts/size:  1698835755409 / 1493 id  29 end ts/size:  1698835755438 / 1890 id  31 chunk time:  29 idle time:  0
[LOG] index:  9 start ts/size:  1698835755438 / 1493 id  31 end ts/size:  1698835755452 / 2272 id  32 chunk time:  14 idle time:  0
[LOG] index:  10 start ts/size:  1698835755452 / 1493 id  32 end ts/size:  1698835755490 / 2431 id  34 chunk time:  38 idle time:  0
[LOG] index:  11 start ts/size:  1698835755490 / 1493 id  34 end ts/size:  1698835755518 / 3289 id  36 chunk time:  28 idle time:  0
[LOG] index:  12 start ts/size:  1698835755518 / 1493 id  36 end ts/size:  1698835755546 / 3700 id  38 chunk time:  28 idle time:  0
[LOG] index:  13 start ts/size:  1698835755546 / 1493 id  38 end ts/size:  1698835755574 / 3146 id  40 chunk time:  28 idle time:  0
[LOG] index:  14 start ts/size:  1698835755589 / 1500 id  41 end ts/size:  1698835755590 / 2789 id  42 chunk time:  1 idle time:  15
[LOG] cur bw/size 0 847.0588235294117 36000
[LOG] real bw  847.0588235293883
[LOG] downbytes  62629 time:  591.4961111104292 true bw:  847 downloadtimeinms:  581 latency:  19
'pushing'
847
'now'
'chunk-stream2-00045'
[LOG] update buffer 1698835755595 1.1674559999999978
[LOG] update buffer 1698835755595 1.1674559999999978
[LOG] update buffer 1698835755595 1.1674559999999978
[LOG] cal jiange, in rmpc, sum:  0.7292428633745075 1.158489735777127 1.167 2 1000 847.4999995762499
1
0
200
-576.0000000000005
1
1
600
423.99999999999955
1
2
1000
1423.9999999999995
1
3
2500
-7136.278162610563
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00045.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 591.4961111104292,
  trace: [ { s: {}, d: 591.4961111104292, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 6\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835755282, bytes: 29007, id: 20, idle: 0 },
    {
      ts: 1698835755296,
      bytes: 1242,
      id: 21,
      idle: -14.166666666650334
    },
    {
      ts: 1698835755310,
      bytes: 1830,
      id: 22,
      idle: -14.166666666650334
    },
    {
      ts: 1698835755325,
      bytes: 2409,
      id: 23,
      idle: -14.166666666650334
    },
    {
      ts: 1698835755353,
      bytes: 2208,
      id: 25,
      idle: -0.16666666665033425
    },
    {
      ts: 1698835755367,
      bytes: 2185,
      id: 26,
      idle: -14.166666666650334
    },
    { ts: 1698835755396, bytes: 2324, id: 28, idle: -14.1005555555393 },
    { ts: 1698835755409, bytes: 1907, id: 29, idle: -14.1005555555393 },
    { ts: 1698835755438, bytes: 1890, id: 31, idle: -14.1005555555393 },
    { ts: 1698835755452, bytes: 2272, id: 32, idle: -14.1005555555393 },
    { ts: 1698835755490, bytes: 2431, id: 34, idle: -14.1005555555393 },
    { ts: 1698835755518, bytes: 3289, id: 36, idle: -14.1005555555393 },
    { ts: 1698835755546, bytes: 3700, id: 38, idle: -14.1005555555393 },
    { ts: 1698835755574, bytes: 3146, id: 40, idle: -14.1005555555393 },
    {
      ts: 1698835755590,
      bytes: 2789,
      id: 42,
      idle: 0.8333333333496658
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6653711340206185,
  averageBufferLength: 0.8279587628865975,
  currentLatency: 1.528,
  currentBufferLength: 1.154,
  throughputKbps: 851,
  throughputTimestampMs: 1698835755594,
  throughputhis: 847,
  currentTimeAbsolute: 1698835755.594,
  currentTimeRelative: 21.327585,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00045.m4s',
    startTime: 22,
    requestStartDate: 1698835754994,
    firstByteDate: 1698835755013,
    requestEndDate: 1698835755594,
    availabilityStartTime: 1698835754637,
    wallStartTime: 1698835776637,
    bytesLoaded: 62629,
    bytesTotal: 62629,
    delayLoadingTime: 1698835754994
  }
}
{
  next_buf: 1.4881725663126695,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.2521843656047047,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0501961648967395,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.20698524414554964,
  next_latency: 1.5997448319036787,
  rebuf: 0,
  next_play: 0.8227273786779885
}
{
  bit: 2,
  qoe: 1423.9999999999995,
  state: [ 1.0501961648967395, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 847.4999995762499, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 847.4999995762499, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00046.m4s  time:  1698835755603  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00046.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 22.5,
    mediaStartTime: 22.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00046.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 45,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835755597,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00046.m4s',
    responseHeaders: 'flag: 9\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835755741 1.0219229999999975
[LOG] get chunk:  1  time:  1698835755858  cur buffer:  1698835755741 1.022
[LOG] update buffer 1698835755859 0.9369510000000005
[LOG] get chunk:  2  time:  1698835755872  cur buffer:  1698835755859 0.937
[LOG] update buffer 1698835755873 0.9561330000000012
[LOG] update buffer 1698835755881 0.9478660000000012
[LOG] get chunk:  3  time:  1698835755887  cur buffer:  1698835755881 0.948
[LOG] update buffer 1698835755887 0.9749310000000015
[LOG] get chunk:  4  time:  1698835755900  cur buffer:  1698835755887 0.975
[LOG] update buffer 1698835755901 0.9948179999999986
[LOG] get chunk:  5  time:  1698835755915  cur buffer:  1698835755901 0.995
[LOG] update buffer 1698835755915 1.0138350000000003
[LOG] get chunk:  6  time:  1698835755943  cur buffer:  1698835755915 1.014
[LOG] update buffer 1698835755944 1.0184659999999965
[LOG] get chunk:  7  time:  1698835755958  cur buffer:  1698835755944 1.018
[LOG] update buffer 1698835755958 1.037429999999997
[LOG] get chunk:  8  time:  1698835755971  cur buffer:  1698835755958 1.037
[LOG] update buffer 1698835755972 1.0571620000000017
[LOG] update buffer 1698835756006 1.0226989999999994
[LOG] get chunk:  9  time:  1698835756011  cur buffer:  1698835756006 1.023
[LOG] update buffer 1698835756012 1.050819999999998
[LOG] get chunk:  10  time:  1698835756024  cur buffer:  1698835756012 1.051
[LOG] update buffer 1698835756025 1.0708519999999986
[LOG] get chunk:  11  time:  1698835756053  cur buffer:  1698835756025 1.071
[LOG] update buffer 1698835756054 1.075256999999997
[LOG] get chunk:  12  time:  1698835756068  cur buffer:  1698835756054 1.075
[LOG] update buffer 1698835756068 1.0942640000000026
[LOG] get chunk:  13  time:  1698835756082  cur buffer:  1698835756068 1.094
[LOG] update buffer 1698835756082 1.113704000000002
[LOG] get chunk:  14  time:  1698835756111  cur buffer:  1698835756082 1.114
[LOG] get chunk:  15  time:  1698835756111  cur buffer:  1698835756082 1.114
[LOG] index:  0 startts:  1698835755597 ts:  1698835755617 bytes:  1494 total time:  494
[LOG] index:  1 startts:  1698835755632 ts:  1698835755632 bytes:  1500 total time:  494
[LOG] index:  2 startts:  1698835755646 ts:  1698835755646 bytes:  1500 total time:  494
[LOG] index:  3 startts:  1698835755660 ts:  1698835755660 bytes:  1500 total time:  494
[LOG] index:  4 startts:  1698835755674 ts:  1698835755674 bytes:  1500 total time:  494
[LOG] index:  5 startts:  1698835755688 ts:  1698835755688 bytes:  1500 total time:  494
[LOG] index:  6 startts:  1698835755702 ts:  1698835755702 bytes:  1500 total time:  494
[LOG] index:  7 startts:  1698835755717 ts:  1698835755717 bytes:  1500 total time:  494
[LOG] index:  8 startts:  1698835755731 ts:  1698835755731 bytes:  1500 total time:  494
[LOG] index:  9 startts:  1698835755745 ts:  1698835755745 bytes:  1500 total time:  494
[LOG] index:  10 startts:  1698835755759 ts:  1698835755759 bytes:  1500 total time:  494
[LOG] index:  11 startts:  1698835755773 ts:  1698835755773 bytes:  1500 total time:  494
[LOG] index:  12 startts:  1698835755788 ts:  1698835755788 bytes:  1500 total time:  494
[LOG] index:  13 startts:  1698835755802 ts:  1698835755802 bytes:  1500 total time:  494
[LOG] index:  14 startts:  1698835755815 ts:  1698835755815 bytes:  1500 total time:  494
[LOG] index:  15 startts:  1698835755830 ts:  1698835755830 bytes:  1500 total time:  494
[LOG] index:  16 startts:  1698835755845 ts:  1698835755845 bytes:  1500 total time:  494
[LOG] index:  17 startts:  1698835755858 ts:  1698835755858 bytes:  1500 total time:  494
[LOG] index:  18 startts:  1698835755872 ts:  1698835755872 bytes:  1500 total time:  494
[LOG] index:  19 startts:  1698835755887 ts:  1698835755887 bytes:  1500 total time:  494
[LOG] index:  20 startts:  1698835755900 ts:  1698835755900 bytes:  1500 total time:  494
[LOG] index:  21 startts:  1698835755915 ts:  1698835755915 bytes:  1500 total time:  494
[LOG] index:  22 startts:  1698835755929 ts:  1698835755929 bytes:  1500 total time:  494
[LOG] index:  23 startts:  1698835755943 ts:  1698835755943 bytes:  1500 total time:  494
[LOG] index:  24 startts:  1698835755958 ts:  1698835755958 bytes:  1500 total time:  494
[LOG] index:  25 startts:  1698835755971 ts:  1698835755971 bytes:  1500 total time:  494
[LOG] index:  26 startts:  1698835755986 ts:  1698835755986 bytes:  1500 total time:  494
[LOG] index:  27 startts:  1698835756011 ts:  1698835756011 bytes:  1493 total time:  494
[LOG] index:  28 startts:  1698835756024 ts:  1698835756024 bytes:  1493 total time:  494
[LOG] index:  29 startts:  1698835756039 ts:  1698835756039 bytes:  1500 total time:  494
[LOG] index:  30 startts:  1698835756053 ts:  1698835756053 bytes:  1493 total time:  494
[LOG] index:  31 startts:  1698835756068 ts:  1698835756068 bytes:  1493 total time:  494
[LOG] index:  32 startts:  1698835756082 ts:  1698835756082 bytes:  1493 total time:  494
[LOG] index:  33 startts:  1698835756096 ts:  1698835756096 bytes:  1500 total time:  494
[LOG] index:  34 startts:  1698835756110 ts:  1698835756110 bytes:  1493 total time:  494
[LOG] index:  35 startts:  1698835756111 ts:  1698835756111 bytes:  596 total time:  494
[LOG] index:  0 start ts/size:  1698835755617 / 1494 id  1 end ts/size:  1698835755858 / 26323 id  18 chunk time:  241 idle time: 0
[LOG] index:  1 start ts/size:  1698835755858 / 1500 id  18 end ts/size:  1698835755872 / 902 id  19 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835755872 / 1500 id  19 end ts/size:  1698835755887 / 1345 id  20 chunk time:  15 idle time:  0
[LOG] index:  3 start ts/size:  1698835755887 / 1500 id  20 end ts/size:  1698835755900 / 1686 id  21 chunk time:  13 idle time:  0
[LOG] index:  4 start ts/size:  1698835755900 / 1500 id  21 end ts/size:  1698835755915 / 2150 id  22 chunk time:  15 idle time:  0
[LOG] index:  5 start ts/size:  1698835755915 / 1500 id  22 end ts/size:  1698835755943 / 2139 id  24 chunk time:  28 idle time:  0
[LOG] index:  6 start ts/size:  1698835755943 / 1500 id  24 end ts/size:  1698835755958 / 2104 id  25 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835755958 / 1500 id  25 end ts/size:  1698835755971 / 2338 id  26 chunk time:  13 idle time:  0
[LOG] index:  8 start ts/size:  1698835755986 / 1500 id  27 end ts/size:  1698835756011 / 2164 id  28 chunk time:  25 idle time:  15
[LOG] index:  9 start ts/size:  1698835756011 / 1493 id  28 end ts/size:  1698835756024 / 1531 id  29 chunk time:  13 idle time:  0
[LOG] index:  10 start ts/size:  1698835756024 / 1493 id  29 end ts/size:  1698835756053 / 2302 id  31 chunk time:  29 idle time:  0
[LOG] index:  11 start ts/size:  1698835756053 / 1493 id  31 end ts/size:  1698835756068 / 1761 id  32 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835756068 / 1493 id  32 end ts/size:  1698835756082 / 2286 id  33 chunk time:  14 idle time:  0
[LOG] index:  13 start ts/size:  1698835756082 / 1493 id  33 end ts/size:  1698835756110 / 2040 id  35 chunk time:  28 idle time:  0
[LOG] index:  14 start ts/size:  1698835756110 / 1493 id  35 end ts/size:  1698835756111 / 1977 id  36 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 845.5284552845528 39000
[LOG] real bw  845.5284552845312
[LOG] downbytes  53048 time:  501.91569230711156 true bw:  846 downloadtimeinms:  499 latency:  20
[LOG] update buffer 1698835756117 1.1124569999999991
[LOG] update buffer 1698835756117 1.1456079999999993
[LOG] update buffer 1698835756117 1.1456079999999993
'pushing'
846
'now'
'chunk-stream2-00046'
[LOG] update buffer 1698835756117 1.1456079999999993
[LOG] cal jiange, in rmpc, sum:  8.359845987754097 1.0501961648967395 1.146 2 1000 846.4999995767499
1
0
200
-576.0000000000005
1
1
600
423.99999999999955
1
2
1000
1423.9999999999995
1
3
2500
-7878.023239300315
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00046.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 501.91569230711156,
  trace: [ { s: {}, d: 501.91569230711156, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 9\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835755858, bytes: 26323, id: 18, idle: 0 },
    {
      ts: 1698835755872,
      bytes: 902,
      id: 19,
      idle: -14.192307692291271
    },
    {
      ts: 1698835755887,
      bytes: 1345,
      id: 20,
      idle: -14.192307692291271
    },
    {
      ts: 1698835755900,
      bytes: 1686,
      id: 21,
      idle: -14.192307692291271
    },
    {
      ts: 1698835755915,
      bytes: 2150,
      id: 22,
      idle: -14.192307692291271
    },
    {
      ts: 1698835755943,
      bytes: 2139,
      id: 24,
      idle: -14.192307692291271
    },
    {
      ts: 1698835755958,
      bytes: 2104,
      id: 25,
      idle: -14.192307692291271
    },
    {
      ts: 1698835755971,
      bytes: 2338,
      id: 26,
      idle: -14.192307692291271
    },
    { ts: 1698835756011, bytes: 2164, id: 28, idle: 0.807692307708729 },
    {
      ts: 1698835756024,
      bytes: 1531,
      id: 29,
      idle: -14.126076923060578
    },
    {
      ts: 1698835756053,
      bytes: 2302,
      id: 31,
      idle: -14.126076923060578
    },
    {
      ts: 1698835756068,
      bytes: 1761,
      id: 32,
      idle: -14.126076923060578
    },
    {
      ts: 1698835756082,
      bytes: 2286,
      id: 33,
      idle: -14.126076923060578
    },
    {
      ts: 1698835756110,
      bytes: 2040,
      id: 35,
      idle: -14.126076923060578
    },
    {
      ts: 1698835756111,
      bytes: 1977,
      id: 36,
      idle: -14.126076923060578
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6597920792079206,
  averageBufferLength: 0.8382079207920788,
  currentLatency: 1.524,
  currentBufferLength: 1.114,
  throughputKbps: 847,
  throughputTimestampMs: 1698835756116,
  throughputhis: 846,
  currentTimeAbsolute: 1698835756.116,
  currentTimeRelative: 21.853743,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00046.m4s',
    startTime: 22.5,
    requestStartDate: 1698835755597,
    firstByteDate: 1698835755617,
    requestEndDate: 1698835756116,
    availabilityStartTime: 1698835755137,
    wallStartTime: 1698835777637,
    bytesLoaded: 53048,
    bytesTotal: 53048,
    delayLoadingTime: 1698835755597
  }
}
{
  next_buf: 1.4670588167885719,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.2307918349811289,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0285248531736848,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.20372918072785784,
  next_latency: 1.6192055093320816,
  rebuf: 0,
  next_play: 0.8164817119109259
}
{
  bit: 2,
  qoe: 1423.9999999999995,
  state: [ 1.0285248531736848, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 846.4999995767499, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 846.4999995767499, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00047.m4s  time:  1698835756124  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00047.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 23,
    mediaStartTime: 23,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00047.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 46,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835756119,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00047.m4s',
    responseHeaders: 'flag: 10\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835756241 1.0218699999999998
[LOG] update buffer 1698835756272 0.9904030000000006
[LOG] get chunk:  1  time:  1698835756421  cur buffer:  1698835756272 0.99
[LOG] get chunk:  2  time:  1698835756422  cur buffer:  1698835756272 0.99
[LOG] update buffer 1698835756422 0.8736289999999975
[LOG] update buffer 1698835756422 0.9067730000000012
[LOG] get chunk:  3  time:  1698835756436  cur buffer:  1698835756422 0.907
[LOG] update buffer 1698835756436 0.9260100000000016
[LOG] get chunk:  4  time:  1698835756450  cur buffer:  1698835756436 0.926
[LOG] update buffer 1698835756451 0.9449970000000008
[LOG] get chunk:  5  time:  1698835756464  cur buffer:  1698835756451 0.945
[LOG] update buffer 1698835756464 0.9649509999999992
[LOG] get chunk:  6  time:  1698835756492  cur buffer:  1698835756464 0.965
[LOG] update buffer 1698835756493 0.9697049999999976
[LOG] get chunk:  7  time:  1698835756507  cur buffer:  1698835756493 0.97
[LOG] update buffer 1698835756507 0.9887339999999973
[LOG] get chunk:  8  time:  1698835756530  cur buffer:  1698835756507 0.989
[LOG] update buffer 1698835756531 0.9982609999999994
[LOG] update buffer 1698835756537 0.991696000000001
[LOG] get chunk:  9  time:  1698835756545  cur buffer:  1698835756537 0.992
[LOG] update buffer 1698835756545 1.0171920000000014
[LOG] get chunk:  10  time:  1698835756572  cur buffer:  1698835756545 1.017
[LOG] update buffer 1698835756574 1.021497
[LOG] get chunk:  11  time:  1698835756587  cur buffer:  1698835756574 1.021
[LOG] update buffer 1698835756587 1.0420029999999976
[LOG] update buffer 1698835756600 1.0288949999999986
[LOG] get chunk:  12  time:  1698835756601  cur buffer:  1698835756600 1.029
[LOG] update buffer 1698835756602 1.0607870000000013
[LOG] get chunk:  13  time:  1698835756629  cur buffer:  1698835756602 1.061
[LOG] update buffer 1698835756630 1.0660820000000015
[LOG] get chunk:  14  time:  1698835756644  cur buffer:  1698835756630 1.066
[LOG] get chunk:  15  time:  1698835756645  cur buffer:  1698835756630 1.066
[LOG] index:  0 startts:  1698835756119 ts:  1698835756138 bytes:  1494 total time:  507
[LOG] index:  1 startts:  1698835756152 ts:  1698835756152 bytes:  1500 total time:  507
[LOG] index:  2 startts:  1698835756167 ts:  1698835756167 bytes:  1500 total time:  507
[LOG] index:  3 startts:  1698835756181 ts:  1698835756181 bytes:  1500 total time:  507
[LOG] index:  4 startts:  1698835756195 ts:  1698835756195 bytes:  1500 total time:  507
[LOG] index:  5 startts:  1698835756208 ts:  1698835756208 bytes:  1500 total time:  507
[LOG] index:  6 startts:  1698835756223 ts:  1698835756223 bytes:  1500 total time:  507
[LOG] index:  7 startts:  1698835756237 ts:  1698835756237 bytes:  1500 total time:  507
[LOG] index:  8 startts:  1698835756251 ts:  1698835756251 bytes:  1500 total time:  507
[LOG] index:  9 startts:  1698835756266 ts:  1698835756266 bytes:  1500 total time:  507
[LOG] index:  10 startts:  1698835756280 ts:  1698835756280 bytes:  1500 total time:  507
[LOG] index:  11 startts:  1698835756294 ts:  1698835756294 bytes:  1500 total time:  507
[LOG] index:  12 startts:  1698835756308 ts:  1698835756308 bytes:  1500 total time:  507
[LOG] index:  13 startts:  1698835756322 ts:  1698835756322 bytes:  1500 total time:  507
[LOG] index:  14 startts:  1698835756336 ts:  1698835756336 bytes:  1500 total time:  507
[LOG] index:  15 startts:  1698835756351 ts:  1698835756351 bytes:  1500 total time:  507
[LOG] index:  16 startts:  1698835756365 ts:  1698835756365 bytes:  1500 total time:  507
[LOG] index:  17 startts:  1698835756379 ts:  1698835756379 bytes:  1500 total time:  507
[LOG] index:  18 startts:  1698835756393 ts:  1698835756393 bytes:  1500 total time:  507
[LOG] index:  19 startts:  1698835756408 ts:  1698835756408 bytes:  1500 total time:  507
[LOG] index:  20 startts:  1698835756421 ts:  1698835756421 bytes:  1500 total time:  507
[LOG] index:  21 startts:  1698835756436 ts:  1698835756436 bytes:  1500 total time:  507
[LOG] index:  22 startts:  1698835756450 ts:  1698835756450 bytes:  1500 total time:  507
[LOG] index:  23 startts:  1698835756464 ts:  1698835756464 bytes:  1500 total time:  507
[LOG] index:  24 startts:  1698835756478 ts:  1698835756478 bytes:  1500 total time:  507
[LOG] index:  25 startts:  1698835756492 ts:  1698835756492 bytes:  1500 total time:  507
[LOG] index:  26 startts:  1698835756507 ts:  1698835756507 bytes:  1500 total time:  507
[LOG] index:  27 startts:  1698835756530 ts:  1698835756530 bytes:  1500 total time:  507
[LOG] index:  28 startts:  1698835756545 ts:  1698835756545 bytes:  1500 total time:  507
[LOG] index:  29 startts:  1698835756558 ts:  1698835756558 bytes:  1500 total time:  507
[LOG] index:  30 startts:  1698835756572 ts:  1698835756572 bytes:  1493 total time:  507
[LOG] index:  31 startts:  1698835756587 ts:  1698835756587 bytes:  1493 total time:  507
[LOG] index:  32 startts:  1698835756601 ts:  1698835756601 bytes:  1493 total time:  507
[LOG] index:  33 startts:  1698835756616 ts:  1698835756616 bytes:  1500 total time:  507
[LOG] index:  34 startts:  1698835756629 ts:  1698835756629 bytes:  1493 total time:  507
[LOG] index:  35 startts:  1698835756644 ts:  1698835756644 bytes:  1493 total time:  507
[LOG] index:  36 startts:  1698835756645 ts:  1698835756645 bytes:  659 total time:  507
[LOG] index:  0 start ts/size:  1698835756138 / 1494 id  1 end ts/size:  1698835756421 / 30563 id  21 chunk time:  283 idle time: 0
[LOG] index:  1 start ts/size:  1698835756421 / 1500 id  21 end ts/size:  1698835756421 / 922 id  21 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835756436 / 1500 id  22 end ts/size:  1698835756436 / 1041 id  22 chunk time:  0 idle time:  15
[LOG] index:  3 start ts/size:  1698835756436 / 1500 id  22 end ts/size:  1698835756450 / 1370 id  23 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835756450 / 1500 id  23 end ts/size:  1698835756464 / 1682 id  24 chunk time:  14 idle time:  0
[LOG] index:  5 start ts/size:  1698835756464 / 1500 id  24 end ts/size:  1698835756492 / 2041 id  26 chunk time:  28 idle time:  0
[LOG] index:  6 start ts/size:  1698835756492 / 1500 id  26 end ts/size:  1698835756507 / 1743 id  27 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835756507 / 1500 id  27 end ts/size:  1698835756530 / 2082 id  28 chunk time:  23 idle time:  0
[LOG] index:  8 start ts/size:  1698835756530 / 1500 id  28 end ts/size:  1698835756545 / 1972 id  29 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835756558 / 1500 id  30 end ts/size:  1698835756572 / 1929 id  31 chunk time:  14 idle time:  13
[LOG] index:  10 start ts/size:  1698835756572 / 1493 id  31 end ts/size:  1698835756587 / 1913 id  32 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835756587 / 1493 id  32 end ts/size:  1698835756601 / 1916 id  33 chunk time:  14 idle time:  0
[LOG] index:  12 start ts/size:  1698835756601 / 1493 id  33 end ts/size:  1698835756629 / 1880 id  35 chunk time:  28 idle time:  0
[LOG] index:  13 start ts/size:  1698835756629 / 1493 id  35 end ts/size:  1698835756644 / 1911 id  36 chunk time:  15 idle time:  0
[LOG] index:  14 start ts/size:  1698835756644 / 1493 id  36 end ts/size:  1698835756645 / 1653 id  37 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 828.5714285714286 43500
[LOG] real bw  828.5714285714096
[LOG] downbytes  54618 time:  527.3462068959274 true bw:  829 downloadtimeinms:  511 latency:  19
'pushing'
829
'now'
'chunk-stream2-00047'
[LOG] update buffer 1698835756649 1.0796400000000013
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00047.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 527.3462068959274,
  trace: [ { s: {}, d: 527.3462068959274, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 10\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835756421, bytes: 30563, id: 21, idle: 0 },
    {
      ts: 1698835756421,
      bytes: 922,
      id: 21,
      idle: -14.482758620672508
    },
    {
      ts: 1698835756436,
      bytes: 1041,
      id: 22,
      idle: 0.5172413793274924
    },
    {
      ts: 1698835756450,
      bytes: 1370,
      id: 23,
      idle: -14.482758620672508
    },
    {
      ts: 1698835756464,
      bytes: 1682,
      id: 24,
      idle: -14.482758620672508
    },
    {
      ts: 1698835756492,
      bytes: 2041,
      id: 26,
      idle: -14.482758620672508
    },
    {
      ts: 1698835756507,
      bytes: 1743,
      id: 27,
      idle: -14.482758620672508
    },
    {
      ts: 1698835756530,
      bytes: 2082,
      id: 28,
      idle: -14.482758620672508
    },
    {
      ts: 1698835756545,
      bytes: 1972,
      id: 29,
      idle: -14.482758620672508
    },
    {
      ts: 1698835756572,
      bytes: 1929,
      id: 31,
      idle: -1.4827586206725076
    },
    {
      ts: 1698835756587,
      bytes: 1913,
      id: 32,
      idle: -14.415172413776036
    },
    {
      ts: 1698835756601,
      bytes: 1916,
      id: 33,
      idle: -14.415172413776036
    },
    {
      ts: 1698835756629,
      bytes: 1880,
      id: 35,
      idle: -14.415172413776036
    },
    {
      ts: 1698835756644,
      bytes: 1911,
      id: 36,
      idle: -14.415172413776036
    },
    {
      ts: 1698835756645,
      bytes: 1653,
      id: 37,
      idle: -14.415172413776036
    }
  ]
}
[LOG] update buffer 1698835756650 1.1124930000000006
[LOG] update buffer 1698835756650 1.1124930000000006
[LOG] update buffer 1698835756650 1.1124930000000006
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6546190476190477,
  averageBufferLength: 0.8466952380952377,
  currentLatency: 1.524,
  currentBufferLength: 1.066,
  throughputKbps: 841,
  throughputTimestampMs: 1698835756649,
  throughputhis: 829,
  currentTimeAbsolute: 1698835756.649,
  currentTimeRelative: 22.386613,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00047.m4s',
    startTime: 23,
    requestStartDate: 1698835756119,
    firstByteDate: 1698835756138,
    requestEndDate: 1698835756649,
    availabilityStartTime: 1698835755637,
    wallStartTime: 1698835778637,
    bytesLoaded: 54618,
    bytesTotal: 54618,
    delayLoadingTime: 1698835756119
  }
}
[LOG] cal jiange, in rmpc, sum:  7.506757801371197 1.0285248531736848 1.112 2 1000 837.49999958125
1
0
200
-599.9999999999977
1
1
600
400.0000000000023
1
2
1000
800.0000000000023
1
3
2500
-8699.086544138669
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.432079773486346,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1932738032176884,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9884678329490304,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.17291701406592946,
  next_latency: 1.6389715696243607,
  rebuf: 0,
  next_play: 0.806300304549626
}
{
  bit: 2,
  qoe: 800.0000000000023,
  state: [ 0.9884678329490304, 1.525, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 837.49999958125, latency: 1.525 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 837.49999958125, latency: 1.525 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00048.m4s  time:  1698835756658  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00048.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 23.5,
    mediaStartTime: 23.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00048.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 47,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835756652,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00048.m4s',
    responseHeaders: 'flag: 11\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835756803 0.9594009999999997
[LOG] update buffer 1698835756960 0.802861
[LOG] get chunk:  1  time:  1698835756984  cur buffer:  1698835756960 0.803
[LOG] update buffer 1698835756984 0.811278999999999
[LOG] get chunk:  2  time:  1698835756998  cur buffer:  1698835756984 0.811
[LOG] get chunk:  3  time:  1698835756998  cur buffer:  1698835756984 0.811
[LOG] update buffer 1698835756999 0.8302380000000014
[LOG] update buffer 1698835756999 0.863386000000002
[LOG] get chunk:  4  time:  1698835757011  cur buffer:  1698835756999 0.863
[LOG] update buffer 1698835757012 0.8839059999999996
[LOG] get chunk:  5  time:  1698835757026  cur buffer:  1698835757012 0.884
[LOG] update buffer 1698835757026 0.9029169999999986
[LOG] get chunk:  6  time:  1698835757050  cur buffer:  1698835757026 0.903
[LOG] update buffer 1698835757051 0.9115449999999967
[LOG] get chunk:  7  time:  1698835757065  cur buffer:  1698835757051 0.912
[LOG] update buffer 1698835757065 0.9305229999999973
[LOG] update buffer 1698835757069 0.9271429999999974
[LOG] get chunk:  8  time:  1698835757079  cur buffer:  1698835757069 0.927
[LOG] update buffer 1698835757079 0.9496819999999992
[LOG] get chunk:  9  time:  1698835757092  cur buffer:  1698835757079 0.95
[LOG] update buffer 1698835757093 0.969542999999998
[LOG] get chunk:  10  time:  1698835757107  cur buffer:  1698835757093 0.97
[LOG] update buffer 1698835757107 0.9883400000000009
[LOG] get chunk:  11  time:  1698835757121  cur buffer:  1698835757107 0.988
[LOG] update buffer 1698835757122 1.0073049999999988
[LOG] get chunk:  12  time:  1698835757149  cur buffer:  1698835757122 1.007
[LOG] update buffer 1698835757149 1.012981
[LOG] get chunk:  13  time:  1698835757163  cur buffer:  1698835757149 1.013
[LOG] update buffer 1698835757164 1.0319479999999999
[LOG] get chunk:  14  time:  1698835757178  cur buffer:  1698835757164 1.032
[LOG] get chunk:  15  time:  1698835757178  cur buffer:  1698835757164 1.032
[LOG] index:  0 startts:  1698835756652 ts:  1698835756672 bytes:  1494 total time:  506
[LOG] index:  1 startts:  1698835756686 ts:  1698835756686 bytes:  1500 total time:  506
[LOG] index:  2 startts:  1698835756701 ts:  1698835756701 bytes:  1500 total time:  506
[LOG] index:  3 startts:  1698835756714 ts:  1698835756714 bytes:  1500 total time:  506
[LOG] index:  4 startts:  1698835756728 ts:  1698835756728 bytes:  1500 total time:  506
[LOG] index:  5 startts:  1698835756743 ts:  1698835756743 bytes:  1500 total time:  506
[LOG] index:  6 startts:  1698835756756 ts:  1698835756756 bytes:  1500 total time:  506
[LOG] index:  7 startts:  1698835756771 ts:  1698835756771 bytes:  1500 total time:  506
[LOG] index:  8 startts:  1698835756785 ts:  1698835756785 bytes:  1500 total time:  506
[LOG] index:  9 startts:  1698835756800 ts:  1698835756800 bytes:  1500 total time:  506
[LOG] index:  10 startts:  1698835756813 ts:  1698835756813 bytes:  1500 total time:  506
[LOG] index:  11 startts:  1698835756828 ts:  1698835756828 bytes:  1500 total time:  506
[LOG] index:  12 startts:  1698835756842 ts:  1698835756842 bytes:  1500 total time:  506
[LOG] index:  13 startts:  1698835756855 ts:  1698835756855 bytes:  1500 total time:  506
[LOG] index:  14 startts:  1698835756870 ts:  1698835756870 bytes:  1500 total time:  506
[LOG] index:  15 startts:  1698835756884 ts:  1698835756884 bytes:  1500 total time:  506
[LOG] index:  16 startts:  1698835756899 ts:  1698835756899 bytes:  1500 total time:  506
[LOG] index:  17 startts:  1698835756913 ts:  1698835756913 bytes:  1500 total time:  506
[LOG] index:  18 startts:  1698835756927 ts:  1698835756927 bytes:  1500 total time:  506
[LOG] index:  19 startts:  1698835756941 ts:  1698835756941 bytes:  1500 total time:  506
[LOG] index:  20 startts:  1698835756955 ts:  1698835756955 bytes:  1500 total time:  506
[LOG] index:  21 startts:  1698835756969 ts:  1698835756969 bytes:  1500 total time:  506
[LOG] index:  22 startts:  1698835756984 ts:  1698835756984 bytes:  1500 total time:  506
[LOG] index:  23 startts:  1698835756998 ts:  1698835756998 bytes:  1500 total time:  506
[LOG] index:  24 startts:  1698835757011 ts:  1698835757011 bytes:  1500 total time:  506
[LOG] index:  25 startts:  1698835757026 ts:  1698835757026 bytes:  1500 total time:  506
[LOG] index:  26 startts:  1698835757050 ts:  1698835757050 bytes:  1500 total time:  506
[LOG] index:  27 startts:  1698835757065 ts:  1698835757065 bytes:  1500 total time:  506
[LOG] index:  28 startts:  1698835757079 ts:  1698835757079 bytes:  1500 total time:  506
[LOG] index:  29 startts:  1698835757092 ts:  1698835757092 bytes:  1500 total time:  506
[LOG] index:  30 startts:  1698835757107 ts:  1698835757107 bytes:  1500 total time:  506
[LOG] index:  31 startts:  1698835757121 ts:  1698835757121 bytes:  1493 total time:  506
[LOG] index:  32 startts:  1698835757135 ts:  1698835757135 bytes:  1500 total time:  506
[LOG] index:  33 startts:  1698835757149 ts:  1698835757149 bytes:  1493 total time:  506
[LOG] index:  34 startts:  1698835757163 ts:  1698835757163 bytes:  1493 total time:  506
[LOG] index:  35 startts:  1698835757178 ts:  1698835757178 bytes:  1493 total time:  506
[LOG] index:  36 startts:  1698835757178 ts:  1698835757178 bytes:  1036 total time:  506
[LOG] index:  0 start ts/size:  1698835756672 / 1494 id  1 end ts/size:  1698835756984 / 33689 id  23 chunk time:  312 idle time: 0
[LOG] index:  1 start ts/size:  1698835756984 / 1500 id  23 end ts/size:  1698835756998 / 1101 id  24 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835756998 / 1500 id  24 end ts/size:  1698835756998 / 922 id  24 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835756998 / 1500 id  24 end ts/size:  1698835757011 / 1023 id  25 chunk time:  13 idle time:  0
[LOG] index:  4 start ts/size:  1698835757011 / 1500 id  25 end ts/size:  1698835757026 / 1386 id  26 chunk time:  15 idle time:  0
[LOG] index:  5 start ts/size:  1698835757026 / 1500 id  26 end ts/size:  1698835757050 / 1580 id  27 chunk time:  24 idle time:  0
[LOG] index:  6 start ts/size:  1698835757050 / 1500 id  27 end ts/size:  1698835757065 / 1637 id  28 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835757065 / 1500 id  28 end ts/size:  1698835757079 / 1697 id  29 chunk time:  14 idle time:  0
[LOG] index:  8 start ts/size:  1698835757079 / 1500 id  29 end ts/size:  1698835757092 / 1589 id  30 chunk time:  13 idle time:  0
[LOG] index:  9 start ts/size:  1698835757092 / 1500 id  30 end ts/size:  1698835757107 / 1533 id  31 chunk time:  15 idle time:  0
[LOG] index:  10 start ts/size:  1698835757107 / 1500 id  31 end ts/size:  1698835757121 / 1785 id  32 chunk time:  14 idle time:  0
[LOG] index:  11 start ts/size:  1698835757135 / 1500 id  33 end ts/size:  1698835757149 / 1810 id  34 chunk time:  14 idle time:  14
[LOG] index:  12 start ts/size:  1698835757149 / 1493 id  34 end ts/size:  1698835757163 / 2005 id  35 chunk time:  14 idle time:  0
[LOG] index:  13 start ts/size:  1698835757163 / 1493 id  35 end ts/size:  1698835757178 / 1675 id  36 chunk time:  15 idle time:  0
[LOG] index:  14 start ts/size:  1698835757178 / 1493 id  36 end ts/size:  1698835757178 / 1570 id  37 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 827.5862068965517 45000
[LOG] real bw  827.5862068965334
[LOG] downbytes  55002 time:  531.6859999993693 true bw:  828 downloadtimeinms:  510 latency:  20
'pushing'
828
'now'
'chunk-stream2-00048'
[LOG] update buffer 1698835757183 1.0463149999999999
[LOG] update buffer 1698835757183 1.0795209999999997
[LOG] update buffer 1698835757183 1.0795209999999997
[LOG] update buffer 1698835757183 1.0795209999999997
[LOG] cal jiange, in rmpc, sum:  8.475200645020152 0.9884678329490304 1.08 2 1000 828.49999958575
1
0
200
-576.0000000000005
1
1
600
423.99999999999955
1
2
1000
623.9999999999995
1
3
2500
-8874.517676840018
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00048.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 531.6859999993693,
  trace: [ { s: {}, d: 531.6859999993693, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 11\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835756984, bytes: 33689, id: 23, idle: 0 },
    { ts: 1698835756998, bytes: 1101, id: 24, idle: -14.4999999999828 },
    { ts: 1698835756998, bytes: 922, id: 24, idle: -14.4999999999828 },
    { ts: 1698835757011, bytes: 1023, id: 25, idle: -14.4999999999828 },
    { ts: 1698835757026, bytes: 1386, id: 26, idle: -14.4999999999828 },
    { ts: 1698835757050, bytes: 1580, id: 27, idle: -14.4999999999828 },
    { ts: 1698835757065, bytes: 1637, id: 28, idle: -14.4999999999828 },
    { ts: 1698835757079, bytes: 1697, id: 29, idle: -14.4999999999828 },
    { ts: 1698835757092, bytes: 1589, id: 30, idle: -14.4999999999828 },
    { ts: 1698835757107, bytes: 1533, id: 31, idle: -14.4999999999828 },
    { ts: 1698835757121, bytes: 1785, id: 32, idle: -14.4999999999828 },
    {
      ts: 1698835757149,
      bytes: 1810,
      id: 34,
      idle: -0.49999999998279954
    },
    {
      ts: 1698835757163,
      bytes: 2005,
      id: 35,
      idle: -14.432333333316214
    },
    {
      ts: 1698835757178,
      bytes: 1675,
      id: 36,
      idle: -14.432333333316214
    },
    {
      ts: 1698835757178,
      bytes: 1570,
      id: 37,
      idle: -14.432333333316214
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.651,
  averageBufferLength: 0.8505370370370366,
  currentLatency: 1.524,
  currentBufferLength: 1.032,
  throughputKbps: 834,
  throughputTimestampMs: 1698835757182,
  throughputhis: 828,
  currentTimeAbsolute: 1698835757.182,
  currentTimeRelative: 22.92002,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00048.m4s',
    startTime: 23.5,
    requestStartDate: 1698835756652,
    firstByteDate: 1698835756672,
    requestEndDate: 1698835757182,
    availabilityStartTime: 1698835756137,
    wallStartTime: 1698835779637,
    bytesLoaded: 55002,
    bytesTotal: 55002,
    delayLoadingTime: 1698835756652
  }
}
{
  next_buf: 1.3992999395896213,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.15789981876886,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9504996979480987,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.13263236895478467,
  next_latency: 1.645383124084537,
  rebuf: 0,
  next_play: 0.7942331742465415
}
{
  bit: 2,
  qoe: 623.9999999999995,
  state: [ 0.9504996979480987, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 828.49999958575, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 828.49999958575, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00049.m4s  time:  1698835757192  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00049.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 24,
    mediaStartTime: 24,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00049.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 48,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835757185,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00049.m4s',
    responseHeaders: 'flag: 12\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835757319 0.9437139999999999
[LOG] update buffer 1698835757334 0.9281939999999977
[LOG] get chunk:  1  time:  1698835757546  cur buffer:  1698835757334 0.928
[LOG] update buffer 1698835757547 0.7487059999999985
[LOG] get chunk:  2  time:  1698835757570  cur buffer:  1698835757547 0.749
[LOG] get chunk:  3  time:  1698835757570  cur buffer:  1698835757547 0.749
[LOG] update buffer 1698835757571 0.7581570000000006
[LOG] update buffer 1698835757571 0.7913040000000002
[LOG] get chunk:  4  time:  1698835757584  cur buffer:  1698835757571 0.791
[LOG] update buffer 1698835757584 0.8114419999999996
[LOG] update buffer 1698835757600 0.7958630000000007
[LOG] get chunk:  5  time:  1698835757612  cur buffer:  1698835757600 0.796
[LOG] update buffer 1698835757613 0.816126999999998
[LOG] get chunk:  6  time:  1698835757627  cur buffer:  1698835757613 0.816
[LOG] update buffer 1698835757627 0.8351389999999981
[LOG] get chunk:  7  time:  1698835757654  cur buffer:  1698835757627 0.835
[LOG] update buffer 1698835757665 0.830646999999999
[LOG] update buffer 1698835757678 0.8177079999999997
[LOG] get chunk:  8  time:  1698835757683  cur buffer:  1698835757678 0.818
[LOG] update buffer 1698835757684 0.845091
[LOG] get chunk:  9  time:  1698835757712  cur buffer:  1698835757684 0.845
[LOG] update buffer 1698835757712 0.8499379999999981
[LOG] get chunk:  10  time:  1698835757754  cur buffer:  1698835757712 0.85
[LOG] update buffer 1698835757754 0.8414010000000012
[LOG] get chunk:  11  time:  1698835757797  cur buffer:  1698835757754 0.841
[LOG] update buffer 1698835757797 0.8318820000000002
[LOG] get chunk:  12  time:  1698835757826  cur buffer:  1698835757797 0.832
[LOG] update buffer 1698835757826 0.8362809999999996
[LOG] get chunk:  13  time:  1698835757854  cur buffer:  1698835757826 0.836
[LOG] update buffer 1698835757854 0.8412070000000007
[LOG] update buffer 1698835757866 0.8299769999999995
[LOG] get chunk:  14  time:  1698835757867  cur buffer:  1698835757866 0.83
[LOG] update buffer 1698835757868 0.8612169999999999
[LOG] get chunk:  15  time:  1698835757883  cur buffer:  1698835757868 0.861
[LOG] index:  0 startts:  1698835757185 ts:  1698835757206 bytes:  1494 total time:  677
[LOG] index:  1 startts:  1698835757220 ts:  1698835757220 bytes:  1500 total time:  677
[LOG] index:  2 startts:  1698835757234 ts:  1698835757234 bytes:  1500 total time:  677
[LOG] index:  3 startts:  1698835757249 ts:  1698835757249 bytes:  1500 total time:  677
[LOG] index:  4 startts:  1698835757263 ts:  1698835757263 bytes:  1500 total time:  677
[LOG] index:  5 startts:  1698835757276 ts:  1698835757276 bytes:  1500 total time:  677
[LOG] index:  6 startts:  1698835757291 ts:  1698835757291 bytes:  1500 total time:  677
[LOG] index:  7 startts:  1698835757306 ts:  1698835757306 bytes:  1500 total time:  677
[LOG] index:  8 startts:  1698835757319 ts:  1698835757319 bytes:  1500 total time:  677
[LOG] index:  9 startts:  1698835757334 ts:  1698835757334 bytes:  1500 total time:  677
[LOG] index:  10 startts:  1698835757347 ts:  1698835757347 bytes:  1500 total time:  677
[LOG] index:  11 startts:  1698835757362 ts:  1698835757362 bytes:  1500 total time:  677
[LOG] index:  12 startts:  1698835757377 ts:  1698835757377 bytes:  1500 total time:  677
[LOG] index:  13 startts:  1698835757391 ts:  1698835757391 bytes:  1500 total time:  677
[LOG] index:  14 startts:  1698835757404 ts:  1698835757404 bytes:  1500 total time:  677
[LOG] index:  15 startts:  1698835757418 ts:  1698835757418 bytes:  1500 total time:  677
[LOG] index:  16 startts:  1698835757433 ts:  1698835757433 bytes:  1500 total time:  677
[LOG] index:  17 startts:  1698835757447 ts:  1698835757447 bytes:  1500 total time:  677
[LOG] index:  18 startts:  1698835757461 ts:  1698835757461 bytes:  1500 total time:  677
[LOG] index:  19 startts:  1698835757475 ts:  1698835757475 bytes:  1500 total time:  677
[LOG] index:  20 startts:  1698835757490 ts:  1698835757490 bytes:  1500 total time:  677
[LOG] index:  21 startts:  1698835757503 ts:  1698835757503 bytes:  1500 total time:  677
[LOG] index:  22 startts:  1698835757518 ts:  1698835757518 bytes:  1500 total time:  677
[LOG] index:  23 startts:  1698835757532 ts:  1698835757532 bytes:  1500 total time:  677
[LOG] index:  24 startts:  1698835757546 ts:  1698835757546 bytes:  1500 total time:  677
[LOG] index:  25 startts:  1698835757570 ts:  1698835757570 bytes:  1500 total time:  677
[LOG] index:  26 startts:  1698835757584 ts:  1698835757584 bytes:  1500 total time:  677
[LOG] index:  27 startts:  1698835757598 ts:  1698835757598 bytes:  1500 total time:  677
[LOG] index:  28 startts:  1698835757612 ts:  1698835757612 bytes:  1500 total time:  677
[LOG] index:  29 startts:  1698835757627 ts:  1698835757627 bytes:  1500 total time:  677
[LOG] index:  30 startts:  1698835757641 ts:  1698835757641 bytes:  1500 total time:  677
[LOG] index:  31 startts:  1698835757654 ts:  1698835757654 bytes:  1500 total time:  677
[LOG] index:  32 startts:  1698835757671 ts:  1698835757671 bytes:  1500 total time:  677
[LOG] index:  33 startts:  1698835757683 ts:  1698835757683 bytes:  1500 total time:  677
[LOG] index:  34 startts:  1698835757698 ts:  1698835757698 bytes:  1500 total time:  677
[LOG] index:  35 startts:  1698835757712 ts:  1698835757712 bytes:  1500 total time:  677
[LOG] index:  36 startts:  1698835757725 ts:  1698835757725 bytes:  1500 total time:  677
[LOG] index:  37 startts:  1698835757740 ts:  1698835757740 bytes:  1500 total time:  677
[LOG] index:  38 startts:  1698835757754 ts:  1698835757754 bytes:  1500 total time:  677
[LOG] index:  39 startts:  1698835757768 ts:  1698835757768 bytes:  1500 total time:  677
[LOG] index:  40 startts:  1698835757782 ts:  1698835757782 bytes:  1500 total time:  677
[LOG] index:  41 startts:  1698835757797 ts:  1698835757797 bytes:  1500 total time:  677
[LOG] index:  42 startts:  1698835757811 ts:  1698835757811 bytes:  1500 total time:  677
[LOG] index:  43 startts:  1698835757826 ts:  1698835757826 bytes:  1493 total time:  677
[LOG] index:  44 startts:  1698835757839 ts:  1698835757839 bytes:  1500 total time:  677
[LOG] index:  45 startts:  1698835757854 ts:  1698835757854 bytes:  1493 total time:  677
[LOG] index:  46 startts:  1698835757867 ts:  1698835757867 bytes:  1493 total time:  677
[LOG] index:  47 startts:  1698835757882 ts:  1698835757882 bytes:  1500 total time:  677
[LOG] index:  48 startts:  1698835757883 ts:  1698835757883 bytes:  1072 total time:  677
[LOG] index:  0 start ts/size:  1698835757206 / 1494 id  1 end ts/size:  1698835757546 / 36896 id  25 chunk time:  340 idle time: 0
[LOG] index:  1 start ts/size:  1698835757546 / 1500 id  25 end ts/size:  1698835757570 / 859 id  26 chunk time:  24 idle time:  0
[LOG] index:  2 start ts/size:  1698835757570 / 1500 id  26 end ts/size:  1698835757570 / 1116 id  26 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835757570 / 1500 id  26 end ts/size:  1698835757584 / 1396 id  27 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835757584 / 1500 id  27 end ts/size:  1698835757612 / 1800 id  29 chunk time:  28 idle time:  0
[LOG] index:  5 start ts/size:  1698835757612 / 1500 id  29 end ts/size:  1698835757627 / 2022 id  30 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835757627 / 1500 id  30 end ts/size:  1698835757654 / 2416 id  32 chunk time:  27 idle time:  0
[LOG] index:  7 start ts/size:  1698835757654 / 1500 id  32 end ts/size:  1698835757683 / 3557 id  34 chunk time:  29 idle time:  0
[LOG] index:  8 start ts/size:  1698835757683 / 1500 id  34 end ts/size:  1698835757712 / 3823 id  36 chunk time:  29 idle time:  0
[LOG] index:  9 start ts/size:  1698835757712 / 1500 id  36 end ts/size:  1698835757754 / 4449 id  39 chunk time:  42 idle time:  0
[LOG] index:  10 start ts/size:  1698835757754 / 1500 id  39 end ts/size:  1698835757797 / 3681 id  42 chunk time:  43 idle time:  0
[LOG] index:  11 start ts/size:  1698835757797 / 1500 id  42 end ts/size:  1698835757826 / 2666 id  44 chunk time:  29 idle time:  0
[LOG] index:  12 start ts/size:  1698835757826 / 1493 id  44 end ts/size:  1698835757854 / 3239 id  46 chunk time:  28 idle time:  0
[LOG] index:  13 start ts/size:  1698835757854 / 1493 id  46 end ts/size:  1698835757867 / 2392 id  47 chunk time:  13 idle time:  0
[LOG] index:  14 start ts/size:  1698835757867 / 1493 id  47 end ts/size:  1698835757883 / 2733 id  49 chunk time:  16 idle time:  0
[LOG] cur bw/size 0 833.0578512396694 63000
[LOG] real bw  833.0578512396562
[LOG] downbytes  73045 time:  701.463888888058 true bw:  833 downloadtimeinms:  682 latency:  21
'pushing'
833
'now'
'chunk-stream2-00049'
[LOG] update buffer 1698835757889 0.8732979999999984
[LOG] update buffer 1698835757889 0.8732979999999984
[LOG] update buffer 1698835757889 0.8732979999999984
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00049.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 701.463888888058,
  trace: [ { s: {}, d: 701.463888888058, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 12\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835757546, bytes: 36896, id: 25, idle: 0 },
    {
      ts: 1698835757570,
      bytes: 859,
      id: 26,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757570,
      bytes: 1116,
      id: 26,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757584,
      bytes: 1396,
      id: 27,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757612,
      bytes: 1800,
      id: 29,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757627,
      bytes: 2022,
      id: 30,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757654,
      bytes: 2416,
      id: 32,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757683,
      bytes: 3557,
      id: 34,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757712,
      bytes: 3823,
      id: 36,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757754,
      bytes: 4449,
      id: 39,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757797,
      bytes: 3681,
      id: 42,
      idle: -14.404761904744841
    },
    {
      ts: 1698835757826,
      bytes: 2666,
      id: 44,
      idle: -14.404761904744841
    },
    { ts: 1698835757854, bytes: 3239, id: 46, idle: -14.3375396825227 },
    { ts: 1698835757867, bytes: 2392, id: 47, idle: -14.3375396825227 },
    { ts: 1698835757883, bytes: 2733, id: 49, idle: -14.3375396825227 }
  ]
}
[LOG] cal jiange, in rmpc, sum:  8.877399525695848 0.9504996979480987 0.873 2 1000 830.49999958475
1
0
200
-576.0000000000005
1
1
600
223.99999999999955
1
2
1000
423.99999999999955
1
3
2500
-15345.443751941219
'running time/ms: '
1
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6454247787610619,
  averageBufferLength: 0.8529115044247783,
  currentLatency: 1.529,
  currentBufferLength: 0.861,
  throughputKbps: 830,
  throughputTimestampMs: 1698835757888,
  throughputhis: 833,
  currentTimeAbsolute: 1698835757.888,
  currentTimeRelative: 23.620913,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00049.m4s',
    startTime: 24,
    requestStartDate: 1698835757185,
    firstByteDate: 1698835757206,
    requestEndDate: 1698835757888,
    availabilityStartTime: 1698835756637,
    wallStartTime: 1698835780637,
    bytesLoaded: 73045,
    bytesTotal: 73045,
    delayLoadingTime: 1698835757185
  }
}
{
  next_buf: 1.192590608007225,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9517718240216736,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.7449530400361226,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.766453870087698,
  rebuf: 0.06983324920055459,
  next_play: 0.753039806324235
}
{
  bit: 2,
  qoe: 423.99999999999955,
  state: [ 0.7449530400361226, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 830.49999958475, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 830.49999958475, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00050.m4s  time:  1698835757896  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00050.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 24.5,
    mediaStartTime: 24.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00050.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 49,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835757891,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00050.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835758037 0.7249639999999999
[LOG] update buffer 1698835758131 0.6310339999999997
[LOG] get chunk:  1  time:  1698835758260  cur buffer:  1698835758131 0.631
[LOG] update buffer 1698835758260 0.535501
[LOG] get chunk:  2  time:  1698835758274  cur buffer:  1698835758260 0.536
[LOG] update buffer 1698835758274 0.5546819999999997
[LOG] get chunk:  3  time:  1698835758303  cur buffer:  1698835758274 0.555
[LOG] update buffer 1698835758303 0.5592639999999989
[LOG] get chunk:  4  time:  1698835758332  cur buffer:  1698835758303 0.559
[LOG] update buffer 1698835758332 0.5636480000000006
[LOG] get chunk:  5  time:  1698835758346  cur buffer:  1698835758332 0.564
[LOG] update buffer 1698835758346 0.5826220000000006
[LOG] get chunk:  6  time:  1698835758375  cur buffer:  1698835758346 0.583
[LOG] update buffer 1698835758375 0.5873569999999972
[LOG] get chunk:  7  time:  1698835758389  cur buffer:  1698835758375 0.587
[LOG] update buffer 1698835758389 0.6063739999999989
[LOG] update buffer 1698835758397 0.5989379999999969
[LOG] update buffer 1698835758397 0.5987239999999971
[LOG] get chunk:  8  time:  1698835758432  cur buffer:  1698835758397 0.599
[LOG] update buffer 1698835758433 0.5964470000000013
[LOG] get chunk:  9  time:  1698835758462  cur buffer:  1698835758433 0.596
[LOG] update buffer 1698835758462 0.6001419999999982
[LOG] get chunk:  10  time:  1698835758505  cur buffer:  1698835758462 0.6
[LOG] update buffer 1698835758505 0.5905029999999982
[LOG] get chunk:  11  time:  1698835758563  cur buffer:  1698835758505 0.591
[LOG] update buffer 1698835758563 0.5657309999999995
[LOG] get chunk:  12  time:  1698835758591  cur buffer:  1698835758563 0.566
[LOG] update buffer 1698835758591 0.5711320000000022
[LOG] get chunk:  13  time:  1698835758620  cur buffer:  1698835758591 0.571
[LOG] update buffer 1698835758621 0.5749110000000002
[LOG] update buffer 1698835758662 0.5333400000000026
[LOG] get chunk:  14  time:  1698835758664  cur buffer:  1698835758662 0.533
[LOG] update buffer 1698835758665 0.5642959999999988
[LOG] get chunk:  15  time:  1698835758695  cur buffer:  1698835758665 0.564
[LOG] index:  0 startts:  1698835757891 ts:  1698835757910 bytes:  1493 total time:  785
[LOG] index:  1 startts:  1698835757924 ts:  1698835757924 bytes:  1500 total time:  785
[LOG] index:  2 startts:  1698835757938 ts:  1698835757938 bytes:  1500 total time:  785
[LOG] index:  3 startts:  1698835757953 ts:  1698835757953 bytes:  1500 total time:  785
[LOG] index:  4 startts:  1698835757967 ts:  1698835757967 bytes:  1500 total time:  785
[LOG] index:  5 startts:  1698835757981 ts:  1698835757981 bytes:  1500 total time:  785
[LOG] index:  6 startts:  1698835757995 ts:  1698835757995 bytes:  1500 total time:  785
[LOG] index:  7 startts:  1698835758009 ts:  1698835758009 bytes:  1500 total time:  785
[LOG] index:  8 startts:  1698835758023 ts:  1698835758023 bytes:  1500 total time:  785
[LOG] index:  9 startts:  1698835758038 ts:  1698835758038 bytes:  1500 total time:  785
[LOG] index:  10 startts:  1698835758052 ts:  1698835758052 bytes:  1500 total time:  785
[LOG] index:  11 startts:  1698835758065 ts:  1698835758065 bytes:  1500 total time:  785
[LOG] index:  12 startts:  1698835758080 ts:  1698835758080 bytes:  1500 total time:  785
[LOG] index:  13 startts:  1698835758100 ts:  1698835758100 bytes:  1500 total time:  785
[LOG] index:  14 startts:  1698835758115 ts:  1698835758115 bytes:  1500 total time:  785
[LOG] index:  15 startts:  1698835758129 ts:  1698835758129 bytes:  1500 total time:  785
[LOG] index:  16 startts:  1698835758144 ts:  1698835758144 bytes:  1500 total time:  785
[LOG] index:  17 startts:  1698835758158 ts:  1698835758158 bytes:  1500 total time:  785
[LOG] index:  18 startts:  1698835758173 ts:  1698835758173 bytes:  1500 total time:  785
[LOG] index:  19 startts:  1698835758187 ts:  1698835758187 bytes:  1500 total time:  785
[LOG] index:  20 startts:  1698835758201 ts:  1698835758201 bytes:  1500 total time:  785
[LOG] index:  21 startts:  1698835758216 ts:  1698835758216 bytes:  1500 total time:  785
[LOG] index:  22 startts:  1698835758230 ts:  1698835758230 bytes:  1500 total time:  785
[LOG] index:  23 startts:  1698835758244 ts:  1698835758244 bytes:  1500 total time:  785
[LOG] index:  24 startts:  1698835758260 ts:  1698835758260 bytes:  1500 total time:  785
[LOG] index:  25 startts:  1698835758274 ts:  1698835758274 bytes:  1500 total time:  785
[LOG] index:  26 startts:  1698835758288 ts:  1698835758288 bytes:  1500 total time:  785
[LOG] index:  27 startts:  1698835758303 ts:  1698835758303 bytes:  1500 total time:  785
[LOG] index:  28 startts:  1698835758317 ts:  1698835758317 bytes:  1500 total time:  785
[LOG] index:  29 startts:  1698835758332 ts:  1698835758332 bytes:  1500 total time:  785
[LOG] index:  30 startts:  1698835758346 ts:  1698835758346 bytes:  1500 total time:  785
[LOG] index:  31 startts:  1698835758360 ts:  1698835758360 bytes:  1500 total time:  785
[LOG] index:  32 startts:  1698835758375 ts:  1698835758375 bytes:  1500 total time:  785
[LOG] index:  33 startts:  1698835758389 ts:  1698835758389 bytes:  1500 total time:  785
[LOG] index:  34 startts:  1698835758403 ts:  1698835758403 bytes:  1500 total time:  785
[LOG] index:  35 startts:  1698835758418 ts:  1698835758418 bytes:  1500 total time:  785
[LOG] index:  36 startts:  1698835758432 ts:  1698835758432 bytes:  1500 total time:  785
[LOG] index:  37 startts:  1698835758446 ts:  1698835758446 bytes:  1500 total time:  785
[LOG] index:  38 startts:  1698835758462 ts:  1698835758462 bytes:  1500 total time:  785
[LOG] index:  39 startts:  1698835758476 ts:  1698835758476 bytes:  1500 total time:  785
[LOG] index:  40 startts:  1698835758490 ts:  1698835758490 bytes:  1500 total time:  785
[LOG] index:  41 startts:  1698835758505 ts:  1698835758505 bytes:  1500 total time:  785
[LOG] index:  42 startts:  1698835758519 ts:  1698835758519 bytes:  1500 total time:  785
[LOG] index:  43 startts:  1698835758534 ts:  1698835758534 bytes:  1500 total time:  785
[LOG] index:  44 startts:  1698835758549 ts:  1698835758549 bytes:  1500 total time:  785
[LOG] index:  45 startts:  1698835758563 ts:  1698835758563 bytes:  1500 total time:  785
[LOG] index:  46 startts:  1698835758577 ts:  1698835758577 bytes:  1500 total time:  785
[LOG] index:  47 startts:  1698835758591 ts:  1698835758591 bytes:  1500 total time:  785
[LOG] index:  48 startts:  1698835758606 ts:  1698835758606 bytes:  1500 total time:  785
[LOG] index:  49 startts:  1698835758620 ts:  1698835758620 bytes:  1500 total time:  785
[LOG] index:  50 startts:  1698835758636 ts:  1698835758636 bytes:  1500 total time:  785
[LOG] index:  51 startts:  1698835758650 ts:  1698835758650 bytes:  1500 total time:  785
[LOG] index:  52 startts:  1698835758664 ts:  1698835758664 bytes:  1500 total time:  785
[LOG] index:  53 startts:  1698835758680 ts:  1698835758680 bytes:  1500 total time:  785
[LOG] index:  54 startts:  1698835758695 ts:  1698835758695 bytes:  1376 total time:  785
[LOG] index:  0 start ts/size:  1698835757910 / 1493 id  1 end ts/size:  1698835758260 / 36894 id  25 chunk time:  350 idle time: 0
[LOG] index:  1 start ts/size:  1698835758260 / 1500 id  25 end ts/size:  1698835758274 / 2060 id  26 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835758288 / 1500 id  27 end ts/size:  1698835758303 / 2335 id  28 chunk time:  15 idle time:  14
[LOG] index:  3 start ts/size:  1698835758303 / 1500 id  28 end ts/size:  1698835758332 / 2225 id  30 chunk time:  29 idle time:  0
[LOG] index:  4 start ts/size:  1698835758332 / 1500 id  30 end ts/size:  1698835758346 / 1740 id  31 chunk time:  14 idle time:  0
[LOG] index:  5 start ts/size:  1698835758346 / 1500 id  31 end ts/size:  1698835758375 / 2861 id  33 chunk time:  29 idle time:  0
[LOG] index:  6 start ts/size:  1698835758375 / 1500 id  33 end ts/size:  1698835758389 / 2799 id  34 chunk time:  14 idle time:  0
[LOG] index:  7 start ts/size:  1698835758403 / 1500 id  35 end ts/size:  1698835758432 / 3176 id  37 chunk time:  29 idle time:  14
[LOG] index:  8 start ts/size:  1698835758432 / 1500 id  37 end ts/size:  1698835758462 / 3281 id  39 chunk time:  30 idle time:  0
[LOG] index:  9 start ts/size:  1698835758462 / 1500 id  39 end ts/size:  1698835758505 / 5081 id  42 chunk time:  43 idle time:  0
[LOG] index:  10 start ts/size:  1698835758505 / 1500 id  42 end ts/size:  1698835758563 / 5334 id  46 chunk time:  58 idle time:  0
[LOG] index:  11 start ts/size:  1698835758563 / 1500 id  46 end ts/size:  1698835758591 / 3617 id  48 chunk time:  28 idle time:  0
[LOG] index:  12 start ts/size:  1698835758591 / 1500 id  48 end ts/size:  1698835758620 / 3590 id  50 chunk time:  29 idle time:  0
[LOG] index:  13 start ts/size:  1698835758636 / 1500 id  51 end ts/size:  1698835758664 / 3925 id  53 chunk time:  28 idle time:  16
[LOG] index:  14 start ts/size:  1698835758664 / 1500 id  53 end ts/size:  1698835758695 / 3451 id  55 chunk time:  31 idle time:  0
[LOG] cur bw/size 0 825.974025974026 79500
[LOG] real bw  825.9740259740156
[LOG] downbytes  82369 time:  797.7877987411825 true bw:  826 downloadtimeinms:  790 latency:  19
'pushing'
826
[LOG] update buffer 1698835758701 0.5613770000000002
[LOG] update buffer 1698835758701 0.5613770000000002
'now'
'chunk-stream2-00050'
[LOG] update buffer 1698835758701 0.5613770000000002
[LOG] cal jiange, in rmpc, sum:  32.79020315654555 0.7449530400361226 0.561 2 1000 829.49999958525
1
0
200
-777.0663276063636
'running time/ms: '
0
[LOG] [RmpcRule][video] requesting switch to index:  0 Average throughput 829 kbps
'in abr rule coll, get all'
'Quality changed requested'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00050.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 797.7877987411825,
  trace: [ { s: {}, d: 797.7877987411825, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835758260, bytes: 36894, id: 25, idle: 0 },
    {
      ts: 1698835758274,
      bytes: 2060,
      id: 26,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758303,
      bytes: 2335,
      id: 28,
      idle: -0.5283018867750453
    },
    {
      ts: 1698835758332,
      bytes: 2225,
      id: 30,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758346,
      bytes: 1740,
      id: 31,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758375,
      bytes: 2861,
      id: 33,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758389,
      bytes: 2799,
      id: 34,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758432,
      bytes: 3176,
      id: 37,
      idle: -0.5283018867750453
    },
    {
      ts: 1698835758462,
      bytes: 3281,
      id: 39,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758505,
      bytes: 5081,
      id: 42,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758563,
      bytes: 5334,
      id: 46,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758591,
      bytes: 3617,
      id: 48,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758620,
      bytes: 3590,
      id: 50,
      idle: -14.528301886775045
    },
    {
      ts: 1698835758664,
      bytes: 3925,
      id: 53,
      idle: 1.4716981132249547
    },
    {
      ts: 1698835758695,
      bytes: 3451,
      id: 55,
      idle: -14.528301886775045
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6403305084745763,
  averageBufferLength: 0.8442711864406776,
  currentLatency: 1.53,
  currentBufferLength: 0.564,
  throughputKbps: 829,
  throughputTimestampMs: 1698835758701,
  throughputhis: 826,
  currentTimeAbsolute: 1698835758.701,
  currentTimeRelative: 24.432943,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00050.m4s',
    startTime: 24.5,
    requestStartDate: 1698835757891,
    firstByteDate: 1698835757910,
    requestEndDate: 1698835758700,
    availabilityStartTime: 1698835757137,
    wallStartTime: 1698835781637,
    bytesLoaded: 82369,
    bytesTotal: 82369,
    delayLoadingTime: 1698835757891
  }
}
{
  next_buf: 0.8790181812091318,
  next_latency: 1.5240444303169318,
  rebuf: 0,
  next_play: 1
}
{
  bit: 0,
  qoe: -777.0663276063636,
  state: [ 0.8790181812091318, 1.5240444303169318, 1 ]
}
[
  {
    quality: 0,
    reason: { throughput: 829.49999958525, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 829.49999958525, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 2,
  newQuality: 0,
  reason: { throughput: 829.49999958525, latency: 1.524 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 200000,
    width: 320,
    height: 180,
    scanType: null,
    qualityIndex: 0
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream0'
[LOG] update buffer 1698835758710 0.5526079999999993
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6393529411764707,
  averageBufferLength: 0.8418907563025206,
  currentLatency: 1.524,
  currentBufferLength: 0.561,
  throughputKbps: 829,
  throughputTimestampMs: 1698835758709,
  throughputhis: -1,
  currentTimeAbsolute: 1698835758.709,
  currentTimeRelative: 24.447118,
  segmentBitrateKbps: 200,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream0.m4s',
    startTime: null,
    requestStartDate: 1698835758704,
    firstByteDate: 1698835758704,
    requestEndDate: 1698835758709,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00051.m4s  time:  1698835758723  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00051.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 25,
    mediaStartTime: 25,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00051.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 50,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835758710,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00051.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835758756 0.5062459999999973
[LOG] get chunk:  1  time:  1698835758781  cur buffer:  1698835758756 0.506
[LOG] update buffer 1698835758781 0.5144519999999986
[LOG] get chunk:  2  time:  1698835758796  cur buffer:  1698835758781 0.514
[LOG] get chunk:  3  time:  1698835758796  cur buffer:  1698835758781 0.514
[LOG] get chunk:  4  time:  1698835758796  cur buffer:  1698835758781 0.514
[LOG] update buffer 1698835758797 0.5322230000000019
[LOG] update buffer 1698835758797 0.5653849999999991
[LOG] update buffer 1698835758797 0.5985790000000009
[LOG] get chunk:  5  time:  1698835758810  cur buffer:  1698835758797 0.599
[LOG] get chunk:  6  time:  1698835758811  cur buffer:  1698835758797 0.599
[LOG] update buffer 1698835758811 0.6179929999999985
[LOG] update buffer 1698835758811 0.651100999999997
[LOG] get chunk:  7  time:  1698835758825  cur buffer:  1698835758811 0.651
[LOG] get chunk:  8  time:  1698835758825  cur buffer:  1698835758811 0.651
[LOG] get chunk:  9  time:  1698835758825  cur buffer:  1698835758811 0.651
[LOG] update buffer 1698835758826 0.6700549999999978
[LOG] update buffer 1698835758826 0.7031470000000013
[LOG] update buffer 1698835758826 0.7362840000000013
[LOG] get chunk:  10  time:  1698835758839  cur buffer:  1698835758826 0.736
[LOG] get chunk:  11  time:  1698835758840  cur buffer:  1698835758826 0.736
[LOG] get chunk:  12  time:  1698835758840  cur buffer:  1698835758826 0.736
[LOG] get chunk:  13  time:  1698835758840  cur buffer:  1698835758826 0.736
[LOG] get chunk:  14  time:  1698835758841  cur buffer:  1698835758826 0.736
[LOG] get chunk:  15  time:  1698835758841  cur buffer:  1698835758826 0.736
[LOG] index:  0 startts:  1698835758710 ts:  1698835758738 bytes:  1494 total time:  102
[LOG] index:  1 startts:  1698835758752 ts:  1698835758752 bytes:  1500 total time:  102
[LOG] index:  2 startts:  1698835758767 ts:  1698835758767 bytes:  1500 total time:  102
[LOG] index:  3 startts:  1698835758781 ts:  1698835758781 bytes:  1500 total time:  102
[LOG] index:  4 startts:  1698835758796 ts:  1698835758796 bytes:  1500 total time:  102
[LOG] index:  5 startts:  1698835758810 ts:  1698835758810 bytes:  1500 total time:  102
[LOG] index:  6 startts:  1698835758825 ts:  1698835758825 bytes:  1500 total time:  102
[LOG] index:  7 startts:  1698835758839 ts:  1698835758839 bytes:  1500 total time:  102
[LOG] index:  8 startts:  1698835758840 ts:  1698835758840 bytes:  1204 total time:  102
[LOG] index:  0 start ts/size:  1698835758738 / 1494 id  1 end ts/size:  1698835758781 / 5826 id  4 chunk time:  43 idle time: 0
[LOG] index:  1 start ts/size:  1698835758781 / 1500 id  4 end ts/size:  1698835758796 / 398 id  5 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835758796 / 1500 id  5 end ts/size:  1698835758796 / 533 id  5 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835758796 / 1500 id  5 end ts/size:  1698835758796 / 557 id  5 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835758796 / 1500 id  5 end ts/size:  1698835758810 / 522 id  6 chunk time:  14 idle time:  0
[LOG] index:  5 start ts/size:  1698835758810 / 1500 id  6 end ts/size:  1698835758810 / 570 id  6 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835758810 / 1500 id  6 end ts/size:  1698835758825 / 645 id  7 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835758825 / 1500 id  7 end ts/size:  1698835758825 / 444 id  7 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835758825 / 1500 id  7 end ts/size:  1698835758825 / 459 id  7 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835758825 / 1500 id  7 end ts/size:  1698835758839 / 660 id  8 chunk time:  14 idle time:  0
[LOG] index:  10 start ts/size:  1698835758839 / 1500 id  8 end ts/size:  1698835758839 / 483 id  8 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835758839 / 1500 id  8 end ts/size:  1698835758839 / 367 id  8 chunk time:  0 idle time:  0
[LOG] index:  12 start ts/size:  1698835758839 / 1500 id  8 end ts/size:  1698835758840 / 908 id  9 chunk time:  1 idle time:  0
[LOG] index:  13 start ts/size:  1698835758840 / 1204 id  9 end ts/size:  1698835758840 / 314 id  9 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835758840 / 1204 id  9 end ts/size:  1698835758840 / 512 id  9 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 831.6831683168317 10500
[LOG] real bw  831.6831683167525
[LOG] downbytes  13198 time:  126.95219047604992 true bw:  832 downloadtimeinms:  106 latency:  28
'pushing'
832
'now'
'chunk-stream0-00051'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00051.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 126.95219047604992,
  trace: [ { s: {}, d: 126.95219047604992, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835758781, bytes: 5826, id: 4, idle: 0 },
    { ts: 1698835758796, bytes: 398, id: 5, idle: -14.428571428555454 },
    { ts: 1698835758796, bytes: 533, id: 5, idle: -14.428571428555454 },
    { ts: 1698835758796, bytes: 557, id: 5, idle: -14.428571428555454 },
    { ts: 1698835758810, bytes: 522, id: 6, idle: -14.428571428555454 },
    { ts: 1698835758810, bytes: 570, id: 6, idle: -14.428571428555454 },
    { ts: 1698835758825, bytes: 645, id: 7, idle: -14.428571428555454 },
    { ts: 1698835758825, bytes: 444, id: 7, idle: -14.428571428555454 },
    { ts: 1698835758825, bytes: 459, id: 7, idle: -14.428571428555454 },
    { ts: 1698835758839, bytes: 660, id: 8, idle: -14.428571428555454 },
    { ts: 1698835758839, bytes: 483, id: 8, idle: -14.428571428555454 },
    { ts: 1698835758839, bytes: 367, id: 8, idle: -14.428571428555454 },
    { ts: 1698835758840, bytes: 908, id: 9, idle: -14.428571428555454 },
    { ts: 1698835758840, bytes: 314, id: 9, idle: -11.581333333320512 },
    { ts: 1698835758840, bytes: 512, id: 9, idle: -11.581333333320512 }
  ]
}
[LOG] update buffer 1698835758845 0.7503630000000001
[LOG] update buffer 1698835758846 0.7831719999999969
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6374462809917356,
  averageBufferLength: 0.8383057851239666,
  currentLatency: 1.524,
  currentBufferLength: 0.736,
  throughputKbps: 830,
  throughputTimestampMs: 1698835758845,
  throughputhis: 832,
  currentTimeAbsolute: 1698835758.845,
  currentTimeRelative: 24.582166,
  segmentBitrateKbps: 200,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00051.m4s',
    startTime: 25,
    requestStartDate: 1698835758710,
    firstByteDate: 1698835758738,
    requestEndDate: 1698835758844,
    availabilityStartTime: 1698835757637,
    wallStartTime: 1698835782637,
    bytesLoaded: 13198,
    bytesTotal: 13198,
    delayLoadingTime: 1698835758710
  }
}
[LOG] update buffer 1698835758846 0.8162940000000027
[LOG] update buffer 1698835758846 0.8494360000000007
[LOG] update buffer 1698835758846 0.8825770000000013
[LOG] update buffer 1698835758847 0.8823809999999987
[LOG] update buffer 1698835758847 0.8823809999999987
[LOG] update buffer 1698835758847 0.8823809999999987
[LOG] cal jiange, in rmpc, sum:  0.3380746924588982 0.8790181812091318 0.882 0 200 828.9999995855
1
0
200
223.99999999999955
1
1
600
223.99999999999955
1
2
1000
-376.00000000000045
1
3
2500
-15453.863411479855
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.2353727381785298,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9601182145355847,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.7188636908926416,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.7535454680795892,
  rebuf: 0.04269011227471031,
  next_play: 0.7570547036484692
}
{
  bit: 0,
  qoe: 223.99999999999955,
  state: [ 1.2353727381785298, 1.524, 1 ]
}
[
  {
    quality: 0,
    reason: { throughput: 828.9999995855, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 828.9999995855, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00052.m4s  time:  1698835758855  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00052.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 25.5,
    mediaStartTime: 25.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00052.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 51,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835758849,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00052.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835758898  cur buffer:  1698835758847 0.882
[LOG] update buffer 1698835758899 0.8969909999999999
[LOG] get chunk:  2  time:  1698835758913  cur buffer:  1698835758899 0.897
[LOG] get chunk:  3  time:  1698835758913  cur buffer:  1698835758899 0.897
[LOG] get chunk:  4  time:  1698835758913  cur buffer:  1698835758899 0.897
[LOG] update buffer 1698835758913 0.915699
[LOG] update buffer 1698835758913 0.948831000000002
[LOG] update buffer 1698835758914 0.9819810000000011
[LOG] get chunk:  5  time:  1698835758927  cur buffer:  1698835758914 0.982
[LOG] get chunk:  6  time:  1698835758927  cur buffer:  1698835758914 0.982
[LOG] update buffer 1698835758927 1.0015639999999983
[LOG] update buffer 1698835758928 1.0346599999999988
[LOG] update buffer 1698835758928 1.0344279999999983
[LOG] get chunk:  7  time:  1698835758942  cur buffer:  1698835758928 1.034
[LOG] get chunk:  8  time:  1698835758942  cur buffer:  1698835758928 1.034
[LOG] get chunk:  9  time:  1698835758942  cur buffer:  1698835758928 1.034
[LOG] get chunk:  10  time:  1698835758943  cur buffer:  1698835758928 1.034
[LOG] update buffer 1698835758943 1.0526089999999968
[LOG] update buffer 1698835758943 1.0857340000000022
[LOG] update buffer 1698835758943 1.1188719999999996
[LOG] update buffer 1698835758944 1.1520249999999983
[LOG] get chunk:  11  time:  1698835758956  cur buffer:  1698835758944 1.152
[LOG] update buffer 1698835758957 1.172267999999999
[LOG] get chunk:  12  time:  1698835758971  cur buffer:  1698835758957 1.172
[LOG] get chunk:  13  time:  1698835758971  cur buffer:  1698835758957 1.172
[LOG] get chunk:  14  time:  1698835758971  cur buffer:  1698835758957 1.172
[LOG] get chunk:  15  time:  1698835758972  cur buffer:  1698835758957 1.172
[LOG] index:  0 startts:  1698835758849 ts:  1698835758869 bytes:  1494 total time:  103
[LOG] index:  1 startts:  1698835758883 ts:  1698835758883 bytes:  1500 total time:  103
[LOG] index:  2 startts:  1698835758898 ts:  1698835758898 bytes:  1500 total time:  103
[LOG] index:  3 startts:  1698835758913 ts:  1698835758913 bytes:  1500 total time:  103
[LOG] index:  4 startts:  1698835758927 ts:  1698835758927 bytes:  1500 total time:  103
[LOG] index:  5 startts:  1698835758942 ts:  1698835758942 bytes:  1500 total time:  103
[LOG] index:  6 startts:  1698835758956 ts:  1698835758956 bytes:  1500 total time:  103
[LOG] index:  7 startts:  1698835758971 ts:  1698835758971 bytes:  1500 total time:  103
[LOG] index:  8 startts:  1698835758972 ts:  1698835758972 bytes:  507 total time:  103
[LOG] index:  0 start ts/size:  1698835758869 / 1494 id  1 end ts/size:  1698835758898 / 4486 id  3 chunk time:  29 idle time: 0
[LOG] index:  1 start ts/size:  1698835758913 / 1500 id  4 end ts/size:  1698835758913 / 291 id  4 chunk time:  0 idle time:  15
[LOG] index:  2 start ts/size:  1698835758913 / 1500 id  4 end ts/size:  1698835758913 / 488 id  4 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835758913 / 1500 id  4 end ts/size:  1698835758913 / 696 id  4 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835758927 / 1500 id  5 end ts/size:  1698835758927 / 316 id  5 chunk time:  0 idle time:  14
[LOG] index:  5 start ts/size:  1698835758927 / 1500 id  5 end ts/size:  1698835758927 / 358 id  5 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835758927 / 1500 id  5 end ts/size:  1698835758942 / 1056 id  6 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835758942 / 1500 id  6 end ts/size:  1698835758942 / 282 id  6 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835758942 / 1500 id  6 end ts/size:  1698835758942 / 528 id  6 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835758942 / 1500 id  6 end ts/size:  1698835758942 / 381 id  6 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835758942 / 1500 id  6 end ts/size:  1698835758956 / 1577 id  7 chunk time:  14 idle time:  0
[LOG] index:  11 start ts/size:  1698835758971 / 1500 id  8 end ts/size:  1698835758971 / 272 id  8 chunk time:  0 idle time:  15
[LOG] index:  12 start ts/size:  1698835758971 / 1500 id  8 end ts/size:  1698835758971 / 377 id  8 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835758971 / 1500 id  8 end ts/size:  1698835758971 / 396 id  8 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835758971 / 1500 id  8 end ts/size:  1698835758972 / 997 id  9 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 823.5294117647059 10500
[LOG] real bw  823.5294117646273
[LOG] downbytes  12501 time:  121.43828571414984 true bw:  824 downloadtimeinms:  106 latency:  20
'pushing'
824
'now'
'chunk-stream0-00052'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00052.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 121.43828571414984,
  trace: [ { s: {}, d: 121.43828571414984, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835758898, bytes: 4486, id: 3, idle: 0 },
    { ts: 1698835758913, bytes: 291, id: 4, idle: 0.42857142858773223 },
    { ts: 1698835758913, bytes: 488, id: 4, idle: -14.571428571412268 },
    { ts: 1698835758913, bytes: 696, id: 4, idle: -14.571428571412268 },
    { ts: 1698835758927, bytes: 316, id: 5, idle: -0.5714285714122678 },
    { ts: 1698835758927, bytes: 358, id: 5, idle: -14.571428571412268 },
    {
      ts: 1698835758942,
      bytes: 1056,
      id: 6,
      idle: -14.571428571412268
    },
    { ts: 1698835758942, bytes: 282, id: 6, idle: -14.571428571412268 },
    { ts: 1698835758942, bytes: 528, id: 6, idle: -14.571428571412268 },
    { ts: 1698835758942, bytes: 381, id: 6, idle: -14.571428571412268 },
    {
      ts: 1698835758956,
      bytes: 1577,
      id: 7,
      idle: -14.571428571412268
    },
    { ts: 1698835758971, bytes: 272, id: 8, idle: 0.42857142858773223 },
    { ts: 1698835758971, bytes: 377, id: 8, idle: -14.571428571412268 },
    { ts: 1698835758971, bytes: 396, id: 8, idle: -14.571428571412268 },
    { ts: 1698835758972, bytes: 997, id: 9, idle: -14.571428571412268 }
  ]
}
[LOG] update buffer 1698835758978 1.1845340000000029
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6365245901639345,
  averageBufferLength: 0.841040983606557,
  currentLatency: 1.525,
  currentBufferLength: 1.172,
  throughputKbps: 827,
  throughputTimestampMs: 1698835758976,
  throughputhis: 824,
  currentTimeAbsolute: 1698835758.976,
  currentTimeRelative: 24.713193,
  segmentBitrateKbps: 200,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00052.m4s',
    startTime: 25.5,
    requestStartDate: 1698835758849,
    firstByteDate: 1698835758869,
    requestEndDate: 1698835758975,
    availabilityStartTime: 1698835758137,
    wallStartTime: 1698835783637,
    bytesLoaded: 12501,
    bytesTotal: 12501,
    delayLoadingTime: 1698835758849
  }
}
[LOG] update buffer 1698835758978 1.217290000000002
[LOG] update buffer 1698835758979 1.2504199999999983
[LOG] update buffer 1698835758979 1.2835649999999994
[LOG] update buffer 1698835758979 1.2835649999999994
[LOG] update buffer 1698835758979 1.2835649999999994
[LOG] cal jiange, in rmpc, sum:  3.787169920841009 1.2353727381785298 1.284 0 200 827.999999586
1
0
200
223.99999999999955
1
1
600
423.99999999999955
[LOG] [RmpcRule][video] requesting switch to index:  2 Average throughput 828 kbps
1
2
1000
623.9999999999994
1
3
2500
-6334.948331013104
'running time/ms: '
1
'in abr rule coll, get all'
'Quality changed requested'
{
  next_buf: 1.6363699102225358,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.3608240163819565,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1192781225413768,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.24364628491797746,
  next_latency: 1.5541652642787764,
  rebuf: 0,
  next_play: 0.8303495939816484
}
{
  bit: 2,
  qoe: 623.9999999999994,
  state: [ 1.1192781225413768, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 827.999999586, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 827.999999586, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 0,
  newQuality: 2,
  reason: { throughput: 827.999999586, latency: 1.524 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 1000000,
    width: 640,
    height: 360,
    scanType: null,
    qualityIndex: 2
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream2'
[LOG] update buffer 1698835758986 1.2763519999999993
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.635617886178862,
  averageBufferLength: 0.8446422764227638,
  currentLatency: 1.525,
  currentBufferLength: 1.284,
  throughputKbps: 827,
  throughputTimestampMs: 1698835758986,
  throughputhis: -1,
  currentTimeAbsolute: 1698835758.986,
  currentTimeRelative: 24.723338,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream2.m4s',
    startTime: null,
    requestStartDate: 1698835758981,
    firstByteDate: 1698835758981,
    requestEndDate: 1698835758986,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 834,
    bytesTotal: 834,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00053.m4s  time:  1698835759000  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00053.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 26,
    mediaStartTime: 26,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00053.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 52,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835758986,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00053.m4s',
    responseHeaders: 'flag: 6\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835759116 1.146843999999998
[LOG] update buffer 1698835759194 1.068801999999998
[LOG] get chunk:  1  time:  1698835759302  cur buffer:  1698835759194 1.069
[LOG] update buffer 1698835759302 0.9935650000000003
[LOG] get chunk:  2  time:  1698835759317  cur buffer:  1698835759302 0.994
[LOG] get chunk:  3  time:  1698835759317  cur buffer:  1698835759302 0.994
[LOG] update buffer 1698835759317 1.0115499999999997
[LOG] update buffer 1698835759318 1.0446980000000003
[LOG] get chunk:  4  time:  1698835759331  cur buffer:  1698835759318 1.045
[LOG] update buffer 1698835759332 1.064031
[LOG] get chunk:  5  time:  1698835759346  cur buffer:  1698835759332 1.064
[LOG] update buffer 1698835759346 1.0829780000000007
[LOG] get chunk:  6  time:  1698835759360  cur buffer:  1698835759346 1.083
[LOG] update buffer 1698835759360 1.101945999999998
[LOG] get chunk:  7  time:  1698835759375  cur buffer:  1698835759360 1.102
[LOG] update buffer 1698835759377 1.1188249999999975
[LOG] get chunk:  8  time:  1698835759390  cur buffer:  1698835759377 1.119
[LOG] update buffer 1698835759390 1.1389999999999993
[LOG] get chunk:  9  time:  1698835759404  cur buffer:  1698835759390 1.139
[LOG] update buffer 1698835759404 1.1579930000000012
[LOG] get chunk:  10  time:  1698835759418  cur buffer:  1698835759404 1.158
[LOG] update buffer 1698835759419 1.1769759999999998
[LOG] get chunk:  11  time:  1698835759433  cur buffer:  1698835759419 1.177
[LOG] update buffer 1698835759433 1.1959710000000001
[LOG] get chunk:  12  time:  1698835759448  cur buffer:  1698835759433 1.196
[LOG] update buffer 1698835759448 1.2139450000000025
[LOG] update buffer 1698835759459 1.2031510000000019
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 2,
  newQuality: 0,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  13  time:  1698835759462  cur buffer:  1698835759459 1.203
[LOG] get chunk:  14  time:  1698835759463  cur buffer:  1698835759459 1.203
[LOG] get chunk:  15  time:  1698835759463  cur buffer:  1698835759459 1.203
[LOG] index:  0 startts:  1698835758986 ts:  1698835759015 bytes:  1494 total time:  448
[LOG] index:  1 startts:  1698835759029 ts:  1698835759029 bytes:  1500 total time:  448
[LOG] index:  2 startts:  1698835759044 ts:  1698835759044 bytes:  1500 total time:  448
[LOG] index:  3 startts:  1698835759058 ts:  1698835759058 bytes:  1500 total time:  448
[LOG] index:  4 startts:  1698835759073 ts:  1698835759073 bytes:  1500 total time:  448
[LOG] index:  5 startts:  1698835759088 ts:  1698835759088 bytes:  1500 total time:  448
[LOG] index:  6 startts:  1698835759102 ts:  1698835759102 bytes:  1500 total time:  448
[LOG] index:  7 startts:  1698835759117 ts:  1698835759117 bytes:  1500 total time:  448
[LOG] index:  8 startts:  1698835759131 ts:  1698835759131 bytes:  1500 total time:  448
[LOG] index:  9 startts:  1698835759146 ts:  1698835759146 bytes:  1500 total time:  448
[LOG] index:  10 startts:  1698835759171 ts:  1698835759171 bytes:  1500 total time:  448
[LOG] index:  11 startts:  1698835759185 ts:  1698835759185 bytes:  1500 total time:  448
[LOG] index:  12 startts:  1698835759199 ts:  1698835759199 bytes:  1500 total time:  448
[LOG] index:  13 startts:  1698835759215 ts:  1698835759215 bytes:  1500 total time:  448
[LOG] index:  14 startts:  1698835759229 ts:  1698835759229 bytes:  1500 total time:  448
[LOG] index:  15 startts:  1698835759243 ts:  1698835759243 bytes:  1500 total time:  448
[LOG] index:  16 startts:  1698835759259 ts:  1698835759259 bytes:  1500 total time:  448
[LOG] index:  17 startts:  1698835759273 ts:  1698835759273 bytes:  1500 total time:  448
[LOG] index:  18 startts:  1698835759287 ts:  1698835759287 bytes:  1500 total time:  448
[LOG] index:  19 startts:  1698835759302 ts:  1698835759302 bytes:  1500 total time:  448
[LOG] index:  20 startts:  1698835759317 ts:  1698835759317 bytes:  1500 total time:  448
[LOG] index:  21 startts:  1698835759331 ts:  1698835759331 bytes:  1500 total time:  448
[LOG] index:  22 startts:  1698835759346 ts:  1698835759346 bytes:  1500 total time:  448
[LOG] index:  23 startts:  1698835759360 ts:  1698835759360 bytes:  1493 total time:  448
[LOG] index:  24 startts:  1698835759375 ts:  1698835759375 bytes:  1493 total time:  448
[LOG] index:  25 startts:  1698835759390 ts:  1698835759390 bytes:  1493 total time:  448
[LOG] index:  26 startts:  1698835759404 ts:  1698835759404 bytes:  1493 total time:  448
[LOG] index:  27 startts:  1698835759418 ts:  1698835759418 bytes:  1493 total time:  448
[LOG] index:  28 startts:  1698835759433 ts:  1698835759433 bytes:  1493 total time:  448
[LOG] index:  29 startts:  1698835759448 ts:  1698835759448 bytes:  1493 total time:  448
[LOG] index:  30 startts:  1698835759462 ts:  1698835759462 bytes:  1486 total time:  448
[LOG] index:  31 startts:  1698835759463 ts:  1698835759463 bytes:  1353 total time:  448
[LOG] index:  0 start ts/size:  1698835759015 / 1494 id  1 end ts/size:  1698835759302 / 29133 id  20 chunk time:  287 idle time: 0
[LOG] index:  1 start ts/size:  1698835759302 / 1500 id  20 end ts/size:  1698835759317 / 916 id  21 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835759317 / 1500 id  21 end ts/size:  1698835759317 / 964 id  21 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835759317 / 1500 id  21 end ts/size:  1698835759331 / 1237 id  22 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835759331 / 1500 id  22 end ts/size:  1698835759346 / 1384 id  23 chunk time:  15 idle time:  0
[LOG] index:  5 start ts/size:  1698835759346 / 1500 id  23 end ts/size:  1698835759360 / 1761 id  24 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835759360 / 1493 id  24 end ts/size:  1698835759375 / 1296 id  25 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835759375 / 1493 id  25 end ts/size:  1698835759390 / 1488 id  26 chunk time:  15 idle time:  0
[LOG] index:  8 start ts/size:  1698835759390 / 1493 id  26 end ts/size:  1698835759404 / 1362 id  27 chunk time:  14 idle time:  0
[LOG] index:  9 start ts/size:  1698835759404 / 1493 id  27 end ts/size:  1698835759418 / 1374 id  28 chunk time:  14 idle time:  0
[LOG] index:  10 start ts/size:  1698835759418 / 1493 id  28 end ts/size:  1698835759433 / 1419 id  29 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835759433 / 1493 id  29 end ts/size:  1698835759448 / 1342 id  30 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835759448 / 1493 id  30 end ts/size:  1698835759462 / 1396 id  31 chunk time:  14 idle time:  0
[LOG] index:  13 start ts/size:  1698835759462 / 1486 id  31 end ts/size:  1698835759462 / 1352 id  31 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835759463 / 1353 id  32 end ts/size:  1698835759463 / 1360 id  32 chunk time:  0 idle time:  1
[LOG] cur bw/size 0 797.583081570997 33000
[LOG] real bw  797.5830815709729
[LOG] downbytes  47784 time:  479.28799999941356 true bw:  798 downloadtimeinms:  452 latency:  29
'pushing'
798
'now'
'chunk-stream2-00053'
[LOG] update buffer 1698835759468 1.2274630000000002
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00053.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 479.28799999941356,
  trace: [ { s: {}, d: 479.28799999941356, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 6\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835759302, bytes: 29133, id: 20, idle: 0 },
    {
      ts: 1698835759317,
      bytes: 916,
      id: 21,
      idle: -15.045454545436135
    },
    {
      ts: 1698835759317,
      bytes: 964,
      id: 21,
      idle: -15.045454545436135
    },
    {
      ts: 1698835759331,
      bytes: 1237,
      id: 22,
      idle: -15.045454545436135
    },
    {
      ts: 1698835759346,
      bytes: 1384,
      id: 23,
      idle: -15.045454545436135
    },
    {
      ts: 1698835759360,
      bytes: 1761,
      id: 24,
      idle: -15.045454545436135
    },
    {
      ts: 1698835759375,
      bytes: 1296,
      id: 25,
      idle: -14.975242424224101
    },
    {
      ts: 1698835759390,
      bytes: 1488,
      id: 26,
      idle: -14.975242424224101
    },
    {
      ts: 1698835759404,
      bytes: 1362,
      id: 27,
      idle: -14.975242424224101
    },
    {
      ts: 1698835759418,
      bytes: 1374,
      id: 28,
      idle: -14.975242424224101
    },
    {
      ts: 1698835759433,
      bytes: 1419,
      id: 29,
      idle: -14.975242424224101
    },
    {
      ts: 1698835759448,
      bytes: 1342,
      id: 30,
      idle: -14.975242424224101
    },
    {
      ts: 1698835759462,
      bytes: 1396,
      id: 31,
      idle: -14.975242424224101
    },
    {
      ts: 1698835759462,
      bytes: 1352,
      id: 31,
      idle: -14.905030303012065
    },
    {
      ts: 1698835759463,
      bytes: 1360,
      id: 32,
      idle: -12.570999999983394
    }
  ]
}
[LOG] update buffer 1698835759469 1.260307000000001
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6321102362204725,
  averageBufferLength: 0.8555590551181098,
  currentLatency: 1.525,
  currentBufferLength: 1.203,
  throughputKbps: 818,
  throughputTimestampMs: 1698835759468,
  throughputhis: 798,
  currentTimeAbsolute: 1698835759.468,
  currentTimeRelative: 25.205417,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00053.m4s',
    startTime: 26,
    requestStartDate: 1698835758986,
    firstByteDate: 1698835759015,
    requestEndDate: 1698835759467,
    availabilityStartTime: 1698835758637,
    wallStartTime: 1698835784637,
    bytesLoaded: 47784,
    bytesTotal: 47784,
    delayLoadingTime: 1698835758986
  }
}
[LOG] update buffer 1698835759469 1.2931329999999974
[LOG] update buffer 1698835759469 1.2931329999999974
[LOG] update buffer 1698835759469 1.2931329999999974
[LOG] cal jiange, in rmpc, sum:  13.435566691745356 1.1192781225413768 1.293 2 1000 810.9999995945
1
0
200
-599.9999999999977
1
1
600
400.0000000000023
1
2
1000
1400.0000000000023
1
3
2500
-6985.494315243998
'running time/ms: '
2
'in abr rule coll, get all'
{
  next_buf: 1.6096954376695454,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.3630863130086328,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1504771883477198,
  next_latency: 1.525,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.2709397275814856,
  next_latency: 1.6042467567121887,
  rebuf: 0,
  next_play: 0.8490268889548676
}
{
  bit: 2,
  qoe: 1400.0000000000023,
  state: [ 1.1504771883477198, 1.525, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 810.9999995945, latency: 1.525 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 810.9999995945, latency: 1.525 },
  priority: 0.5,
  getClassName: {}
}
[LOG] update buffer 1698835759475 1.2875589999999981
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00054.m4s  time:  1698835759477  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00054.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 26.5,
    mediaStartTime: 26.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00054.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 53,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835759472,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00054.m4s',
    responseHeaders: 'flag: 5\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835759725 1.037513999999998
[LOG] get chunk:  1  time:  1698835759821  cur buffer:  1698835759725 1.038
[LOG] update buffer 1698835759822 0.974104999999998
[LOG] update buffer 1698835759834 0.9614309999999975
[LOG] get chunk:  2  time:  1698835759836  cur buffer:  1698835759834 0.961
[LOG] update buffer 1698835759836 0.9929610000000011
[LOG] get chunk:  3  time:  1698835759850  cur buffer:  1698835759836 0.993
[LOG] get chunk:  4  time:  1698835759850  cur buffer:  1698835759836 0.993
[LOG] update buffer 1698835759851 1.0117919999999998
[LOG] update buffer 1698835759851 1.0449620000000017
[LOG] get chunk:  5  time:  1698835759864  cur buffer:  1698835759851 1.045
[LOG] update buffer 1698835759865 1.0642809999999976
[LOG] get chunk:  6  time:  1698835759880  cur buffer:  1698835759865 1.064
[LOG] update buffer 1698835759880 1.082265999999997
[LOG] get chunk:  7  time:  1698835759894  cur buffer:  1698835759880 1.082
[LOG] update buffer 1698835759894 1.101271999999998
[LOG] get chunk:  8  time:  1698835759908  cur buffer:  1698835759894 1.101
[LOG] get chunk:  9  time:  1698835759909  cur buffer:  1698835759894 1.101
[LOG] update buffer 1698835759909 1.1201550000000005
[LOG] update buffer 1698835759909 1.1533200000000008
[LOG] get chunk:  10  time:  1698835759923  cur buffer:  1698835759909 1.153
[LOG] update buffer 1698835759923 1.1726129999999984
[LOG] get chunk:  11  time:  1698835759952  cur buffer:  1698835759923 1.173
[LOG] get chunk:  12  time:  1698835759953  cur buffer:  1698835759923 1.173
[LOG] update buffer 1698835759953 1.1761729999999986
[LOG] update buffer 1698835759953 1.209348000000002
[LOG] get chunk:  13  time:  1698835759967  cur buffer:  1698835759953 1.209
[LOG] update buffer 1698835759967 1.2286460000000012
[LOG] get chunk:  14  time:  1698835759981  cur buffer:  1698835759967 1.229
[LOG] get chunk:  15  time:  1698835759982  cur buffer:  1698835759967 1.229
[LOG] index:  0 startts:  1698835759472 ts:  1698835759491 bytes:  1494 total time:  491
[LOG] index:  1 startts:  1698835759506 ts:  1698835759506 bytes:  1500 total time:  491
[LOG] index:  2 startts:  1698835759521 ts:  1698835759521 bytes:  1500 total time:  491
[LOG] index:  3 startts:  1698835759535 ts:  1698835759535 bytes:  1500 total time:  491
[LOG] index:  4 startts:  1698835759549 ts:  1698835759549 bytes:  1500 total time:  491
[LOG] index:  5 startts:  1698835759565 ts:  1698835759565 bytes:  1500 total time:  491
[LOG] index:  6 startts:  1698835759579 ts:  1698835759579 bytes:  1500 total time:  491
[LOG] index:  7 startts:  1698835759594 ts:  1698835759594 bytes:  1500 total time:  491
[LOG] index:  8 startts:  1698835759608 ts:  1698835759608 bytes:  1500 total time:  491
[LOG] index:  9 startts:  1698835759623 ts:  1698835759623 bytes:  1500 total time:  491
[LOG] index:  10 startts:  1698835759637 ts:  1698835759637 bytes:  1500 total time:  491
[LOG] index:  11 startts:  1698835759652 ts:  1698835759652 bytes:  1500 total time:  491
[LOG] index:  12 startts:  1698835759667 ts:  1698835759667 bytes:  1500 total time:  491
[LOG] index:  13 startts:  1698835759681 ts:  1698835759681 bytes:  1500 total time:  491
[LOG] index:  14 startts:  1698835759704 ts:  1698835759704 bytes:  1500 total time:  491
[LOG] index:  15 startts:  1698835759719 ts:  1698835759719 bytes:  1500 total time:  491
[LOG] index:  16 startts:  1698835759734 ts:  1698835759734 bytes:  1500 total time:  491
[LOG] index:  17 startts:  1698835759748 ts:  1698835759748 bytes:  1500 total time:  491
[LOG] index:  18 startts:  1698835759763 ts:  1698835759763 bytes:  1500 total time:  491
[LOG] index:  19 startts:  1698835759777 ts:  1698835759777 bytes:  1500 total time:  491
[LOG] index:  20 startts:  1698835759792 ts:  1698835759792 bytes:  1500 total time:  491
[LOG] index:  21 startts:  1698835759807 ts:  1698835759807 bytes:  1500 total time:  491
[LOG] index:  22 startts:  1698835759821 ts:  1698835759821 bytes:  1500 total time:  491
[LOG] index:  23 startts:  1698835759836 ts:  1698835759836 bytes:  1500 total time:  491
[LOG] index:  24 startts:  1698835759850 ts:  1698835759850 bytes:  1500 total time:  491
[LOG] index:  25 startts:  1698835759864 ts:  1698835759864 bytes:  1493 total time:  491
[LOG] index:  26 startts:  1698835759880 ts:  1698835759880 bytes:  1493 total time:  491
[LOG] index:  27 startts:  1698835759894 ts:  1698835759894 bytes:  1493 total time:  491
[LOG] index:  28 startts:  1698835759908 ts:  1698835759908 bytes:  1486 total time:  491
[LOG] index:  29 startts:  1698835759923 ts:  1698835759923 bytes:  1493 total time:  491
[LOG] index:  30 startts:  1698835759938 ts:  1698835759938 bytes:  1500 total time:  491
[LOG] index:  31 startts:  1698835759952 ts:  1698835759952 bytes:  1486 total time:  491
[LOG] index:  32 startts:  1698835759967 ts:  1698835759967 bytes:  1493 total time:  491
[LOG] index:  33 startts:  1698835759981 ts:  1698835759981 bytes:  1493 total time:  491
[LOG] index:  34 startts:  1698835759982 ts:  1698835759982 bytes:  1051 total time:  491
[LOG] index:  0 start ts/size:  1698835759491 / 1494 id  1 end ts/size:  1698835759821 / 34170 id  23 chunk time:  330 idle time: 0
[LOG] index:  1 start ts/size:  1698835759821 / 1500 id  23 end ts/size:  1698835759836 / 1030 id  24 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835759836 / 1500 id  24 end ts/size:  1698835759850 / 897 id  25 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835759850 / 1500 id  25 end ts/size:  1698835759850 / 1051 id  25 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835759850 / 1500 id  25 end ts/size:  1698835759864 / 1063 id  26 chunk time:  14 idle time:  0
[LOG] index:  5 start ts/size:  1698835759864 / 1493 id  26 end ts/size:  1698835759880 / 1391 id  27 chunk time:  16 idle time:  0
[LOG] index:  6 start ts/size:  1698835759880 / 1493 id  27 end ts/size:  1698835759894 / 1327 id  28 chunk time:  14 idle time:  0
[LOG] index:  7 start ts/size:  1698835759894 / 1493 id  28 end ts/size:  1698835759908 / 1246 id  29 chunk time:  14 idle time:  0
[LOG] index:  8 start ts/size:  1698835759908 / 1486 id  29 end ts/size:  1698835759908 / 1260 id  29 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835759923 / 1493 id  30 end ts/size:  1698835759923 / 1401 id  30 chunk time:  0 idle time:  15
[LOG] index:  10 start ts/size:  1698835759923 / 1493 id  30 end ts/size:  1698835759952 / 1795 id  32 chunk time:  29 idle time:  0
[LOG] index:  11 start ts/size:  1698835759952 / 1486 id  32 end ts/size:  1698835759952 / 1210 id  32 chunk time:  0 idle time:  0
[LOG] index:  12 start ts/size:  1698835759967 / 1493 id  33 end ts/size:  1698835759967 / 1411 id  33 chunk time:  0 idle time:  15
[LOG] index:  13 start ts/size:  1698835759967 / 1493 id  33 end ts/size:  1698835759981 / 1503 id  34 chunk time:  14 idle time:  0
[LOG] index:  14 start ts/size:  1698835759981 / 1493 id  34 end ts/size:  1698835759982 / 1220 id  35 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 802.2284122562675 36000
[LOG] real bw  802.2284122562452
[LOG] downbytes  51975 time:  518.3062499993683 true bw:  802 downloadtimeinms:  495 latency:  19
'pushing'
802
'now'
'chunk-stream2-00054'
[LOG] update buffer 1698835759986 1.242635
[LOG] update buffer 1698835759986 1.2758259999999986
[LOG] update buffer 1698835759987 1.2758259999999986
[LOG] update buffer 1698835759987 1.2758259999999986
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00054.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 518.3062499993683,
  trace: [ { s: {}, d: 518.3062499993683, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 5\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835759821, bytes: 34170, id: 23, idle: 0 },
    {
      ts: 1698835759836,
      bytes: 1030,
      id: 24,
      idle: -14.958333333315105
    },
    {
      ts: 1698835759850,
      bytes: 897,
      id: 25,
      idle: -14.958333333315105
    },
    {
      ts: 1698835759850,
      bytes: 1051,
      id: 25,
      idle: -14.958333333315105
    },
    {
      ts: 1698835759864,
      bytes: 1063,
      id: 26,
      idle: -14.958333333315105
    },
    {
      ts: 1698835759880,
      bytes: 1391,
      id: 27,
      idle: -14.888527777759634
    },
    {
      ts: 1698835759894,
      bytes: 1327,
      id: 28,
      idle: -14.888527777759634
    },
    {
      ts: 1698835759908,
      bytes: 1246,
      id: 29,
      idle: -14.888527777759634
    },
    {
      ts: 1698835759908,
      bytes: 1260,
      id: 29,
      idle: -14.818722222204164
    },
    {
      ts: 1698835759923,
      bytes: 1401,
      id: 30,
      idle: 0.11147222224036568
    },
    {
      ts: 1698835759952,
      bytes: 1795,
      id: 32,
      idle: -14.888527777759634
    },
    {
      ts: 1698835759952,
      bytes: 1210,
      id: 32,
      idle: -14.818722222204164
    },
    {
      ts: 1698835759967,
      bytes: 1411,
      id: 33,
      idle: 0.11147222224036568
    },
    {
      ts: 1698835759981,
      bytes: 1503,
      id: 34,
      idle: -14.888527777759634
    },
    {
      ts: 1698835759982,
      bytes: 1220,
      id: 35,
      idle: -14.888527777759634
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  9.83721093682665 1.1504771883477198 1.276 2 1000 799.9999996
1
0
200
-576.0000000000005
1
1
600
423.99999999999955
1
2
1000
823.9999999999995
1
3
2500
-7498.878559815173
'running time/ms: '
1
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6296153846153845,
  averageBufferLength: 0.8631615384615381,
  currentLatency: 1.524,
  currentBufferLength: 1.229,
  throughputKbps: 808,
  throughputTimestampMs: 1698835759986,
  throughputhis: 802,
  currentTimeAbsolute: 1698835759.986,
  currentTimeRelative: 25.723562,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00054.m4s',
    startTime: 26.5,
    requestStartDate: 1698835759472,
    firstByteDate: 1698835759491,
    requestEndDate: 1698835759986,
    availabilityStartTime: 1698835759137,
    wallStartTime: 1698835785637,
    bytesLoaded: 51975,
    bytesTotal: 51975,
    delayLoadingTime: 1698835759472
  }
}
{
  next_buf: 1.5907770554930207,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.340777055368021,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.12477705524302,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.24391580394518167,
  next_latency: 1.6146387491709122,
  rebuf: 0,
  next_play: 0.8329528416392792
}
{
  bit: 2,
  qoe: 823.9999999999995,
  state: [ 1.12477705524302, 1.524, 1 ]
}
[LOG] update buffer 1698835759991 1.2718919999999976
[
  {
    quality: 2,
    reason: { throughput: 799.9999996, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 799.9999996, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00055.m4s  time:  1698835759996  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00055.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 27,
    mediaStartTime: 27,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00055.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 54,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835759988,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00055.m4s',
    responseHeaders: 'flag: 6\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835760194 1.068726999999999
[LOG] update buffer 1698835760256 1.0063010000000006
[LOG] get chunk:  1  time:  1698835760370  cur buffer:  1698835760256 1.006
[LOG] update buffer 1698835760370 0.9254709999999982
[LOG] get chunk:  2  time:  1698835760384  cur buffer:  1698835760370 0.925
[LOG] get chunk:  3  time:  1698835760384  cur buffer:  1698835760370 0.925
[LOG] update buffer 1698835760385 0.944466000000002
[LOG] update buffer 1698835760385 0.9773110000000003
[LOG] get chunk:  4  time:  1698835760399  cur buffer:  1698835760385 0.977
[LOG] update buffer 1698835760400 0.9960869999999993
[LOG] get chunk:  5  time:  1698835760414  cur buffer:  1698835760400 0.996
[LOG] update buffer 1698835760414 1.0148209999999978
[LOG] get chunk:  6  time:  1698835760428  cur buffer:  1698835760414 1.015
[LOG] get chunk:  7  time:  1698835760428  cur buffer:  1698835760414 1.015
[LOG] update buffer 1698835760429 1.0336429999999979
[LOG] update buffer 1698835760429 1.0668059999999997
[LOG] get chunk:  8  time:  1698835760442  cur buffer:  1698835760429 1.067
[LOG] update buffer 1698835760443 1.08615
[LOG] get chunk:  9  time:  1698835760457  cur buffer:  1698835760443 1.086
[LOG] update buffer 1698835760457 1.105162
[LOG] get chunk:  10  time:  1698835760472  cur buffer:  1698835760457 1.105
[LOG] get chunk:  11  time:  1698835760472  cur buffer:  1698835760457 1.105
[LOG] update buffer 1698835760473 1.1230329999999995
[LOG] update buffer 1698835760473 1.1561919999999972
[LOG] get chunk:  12  time:  1698835760487  cur buffer:  1698835760473 1.156
[LOG] update buffer 1698835760487 1.1752430000000018
[LOG] update buffer 1698835760522 1.1404069999999997
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 0,
  newQuality: 2,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] update buffer 1698835760553 1.1091010000000026
[LOG] update buffer 1698835760787 0.8749840000000013
[LOG] update buffer 1698835761053 0.6094010000000019
[LOG] get chunk:  13  time:  1698835761137  cur buffer:  1698835761053 0.609
[LOG] get chunk:  14  time:  1698835761138  cur buffer:  1698835761053 0.609
[LOG] get chunk:  15  time:  1698835761139  cur buffer:  1698835761053 0.609
[LOG] index:  0 startts:  1698835759988 ts:  1698835760011 bytes:  1494 total time:  1128
[LOG] index:  1 startts:  1698835760025 ts:  1698835760025 bytes:  1500 total time:  1128
[LOG] index:  2 startts:  1698835760040 ts:  1698835760040 bytes:  1500 total time:  1128
[LOG] index:  3 startts:  1698835760054 ts:  1698835760054 bytes:  1500 total time:  1128
[LOG] index:  4 startts:  1698835760069 ts:  1698835760069 bytes:  1500 total time:  1128
[LOG] index:  5 startts:  1698835760083 ts:  1698835760083 bytes:  1500 total time:  1128
[LOG] index:  6 startts:  1698835760098 ts:  1698835760098 bytes:  1500 total time:  1128
[LOG] index:  7 startts:  1698835760113 ts:  1698835760113 bytes:  1500 total time:  1128
[LOG] index:  8 startts:  1698835760127 ts:  1698835760127 bytes:  1500 total time:  1128
[LOG] index:  9 startts:  1698835760141 ts:  1698835760141 bytes:  1500 total time:  1128
[LOG] index:  10 startts:  1698835760157 ts:  1698835760157 bytes:  1500 total time:  1128
[LOG] index:  11 startts:  1698835760171 ts:  1698835760171 bytes:  1500 total time:  1128
[LOG] index:  12 startts:  1698835760185 ts:  1698835760185 bytes:  1500 total time:  1128
[LOG] index:  13 startts:  1698835760200 ts:  1698835760200 bytes:  1500 total time:  1128
[LOG] index:  14 startts:  1698835760215 ts:  1698835760215 bytes:  1500 total time:  1128
[LOG] index:  15 startts:  1698835760238 ts:  1698835760238 bytes:  1500 total time:  1128
[LOG] index:  16 startts:  1698835760253 ts:  1698835760253 bytes:  1500 total time:  1128
[LOG] index:  17 startts:  1698835760268 ts:  1698835760268 bytes:  1500 total time:  1128
[LOG] index:  18 startts:  1698835760282 ts:  1698835760282 bytes:  1500 total time:  1128
[LOG] index:  19 startts:  1698835760297 ts:  1698835760297 bytes:  1500 total time:  1128
[LOG] index:  20 startts:  1698835760311 ts:  1698835760311 bytes:  1500 total time:  1128
[LOG] index:  21 startts:  1698835760327 ts:  1698835760327 bytes:  1500 total time:  1128
[LOG] index:  22 startts:  1698835760340 ts:  1698835760340 bytes:  1500 total time:  1128
[LOG] index:  23 startts:  1698835760355 ts:  1698835760355 bytes:  1500 total time:  1128
[LOG] index:  24 startts:  1698835760370 ts:  1698835760370 bytes:  1500 total time:  1128
[LOG] index:  25 startts:  1698835760384 ts:  1698835760384 bytes:  1500 total time:  1128
[LOG] index:  26 startts:  1698835760399 ts:  1698835760399 bytes:  1500 total time:  1128
[LOG] index:  27 startts:  1698835760414 ts:  1698835760414 bytes:  1500 total time:  1128
[LOG] index:  28 startts:  1698835760428 ts:  1698835760428 bytes:  1486 total time:  1128
[LOG] index:  29 startts:  1698835760442 ts:  1698835760442 bytes:  1493 total time:  1128
[LOG] index:  30 startts:  1698835760457 ts:  1698835760457 bytes:  1493 total time:  1128
[LOG] index:  31 startts:  1698835760472 ts:  1698835760472 bytes:  1486 total time:  1128
[LOG] index:  32 startts:  1698835760487 ts:  1698835760487 bytes:  1492 total time:  1128
[LOG] index:  33 startts:  1698835760501 ts:  1698835760501 bytes:  1500 total time:  1128
[LOG] index:  34 startts:  1698835760516 ts:  1698835760516 bytes:  1500 total time:  1128
[LOG] index:  35 startts:  1698835760530 ts:  1698835760530 bytes:  1500 total time:  1128
[LOG] index:  36 startts:  1698835760545 ts:  1698835760545 bytes:  1500 total time:  1128
[LOG] index:  37 startts:  1698835760559 ts:  1698835760559 bytes:  1500 total time:  1128
[LOG] index:  38 startts:  1698835760574 ts:  1698835760574 bytes:  1500 total time:  1128
[LOG] index:  39 startts:  1698835760588 ts:  1698835760588 bytes:  1500 total time:  1128
[LOG] index:  40 startts:  1698835760603 ts:  1698835760603 bytes:  1500 total time:  1128
[LOG] index:  41 startts:  1698835760617 ts:  1698835760617 bytes:  1500 total time:  1128
[LOG] index:  42 startts:  1698835760632 ts:  1698835760632 bytes:  1500 total time:  1128
[LOG] index:  43 startts:  1698835760647 ts:  1698835760647 bytes:  1500 total time:  1128
[LOG] index:  44 startts:  1698835760661 ts:  1698835760661 bytes:  1500 total time:  1128
[LOG] index:  45 startts:  1698835760676 ts:  1698835760676 bytes:  1500 total time:  1128
[LOG] index:  46 startts:  1698835760690 ts:  1698835760690 bytes:  1500 total time:  1128
[LOG] index:  47 startts:  1698835760704 ts:  1698835760704 bytes:  1500 total time:  1128
[LOG] index:  48 startts:  1698835760720 ts:  1698835760720 bytes:  1500 total time:  1128
[LOG] index:  49 startts:  1698835760734 ts:  1698835760734 bytes:  1500 total time:  1128
[LOG] index:  50 startts:  1698835760748 ts:  1698835760748 bytes:  1500 total time:  1128
[LOG] index:  51 startts:  1698835760773 ts:  1698835760773 bytes:  1500 total time:  1128
[LOG] index:  52 startts:  1698835760788 ts:  1698835760788 bytes:  1500 total time:  1128
[LOG] index:  53 startts:  1698835760802 ts:  1698835760802 bytes:  1500 total time:  1128
[LOG] index:  54 startts:  1698835760817 ts:  1698835760817 bytes:  1500 total time:  1128
[LOG] index:  55 startts:  1698835760831 ts:  1698835760831 bytes:  1500 total time:  1128
[LOG] index:  56 startts:  1698835760846 ts:  1698835760846 bytes:  1500 total time:  1128
[LOG] index:  57 startts:  1698835760860 ts:  1698835760860 bytes:  1500 total time:  1128
[LOG] index:  58 startts:  1698835760875 ts:  1698835760875 bytes:  1500 total time:  1128
[LOG] index:  59 startts:  1698835760890 ts:  1698835760890 bytes:  1500 total time:  1128
[LOG] index:  60 startts:  1698835760904 ts:  1698835760904 bytes:  1500 total time:  1128
[LOG] index:  61 startts:  1698835760919 ts:  1698835760919 bytes:  1500 total time:  1128
[LOG] index:  62 startts:  1698835760933 ts:  1698835760933 bytes:  1500 total time:  1128
[LOG] index:  63 startts:  1698835760948 ts:  1698835760948 bytes:  1500 total time:  1128
[LOG] index:  64 startts:  1698835760962 ts:  1698835760962 bytes:  1500 total time:  1128
[LOG] index:  65 startts:  1698835760977 ts:  1698835760977 bytes:  1500 total time:  1128
[LOG] index:  66 startts:  1698835760992 ts:  1698835760992 bytes:  1500 total time:  1128
[LOG] index:  67 startts:  1698835761006 ts:  1698835761006 bytes:  1500 total time:  1128
[LOG] index:  68 startts:  1698835761020 ts:  1698835761020 bytes:  1500 total time:  1128
[LOG] index:  69 startts:  1698835761036 ts:  1698835761036 bytes:  1500 total time:  1128
[LOG] index:  70 startts:  1698835761050 ts:  1698835761050 bytes:  1500 total time:  1128
[LOG] index:  71 startts:  1698835761065 ts:  1698835761065 bytes:  1500 total time:  1128
[LOG] index:  72 startts:  1698835761080 ts:  1698835761080 bytes:  1500 total time:  1128
[LOG] index:  73 startts:  1698835761093 ts:  1698835761093 bytes:  1500 total time:  1128
[LOG] index:  74 startts:  1698835761108 ts:  1698835761108 bytes:  1500 total time:  1128
[LOG] index:  75 startts:  1698835761123 ts:  1698835761123 bytes:  1500 total time:  1128
[LOG] index:  76 startts:  1698835761137 ts:  1698835761137 bytes:  1486 total time:  1128
[LOG] index:  77 startts:  1698835761139 ts:  1698835761139 bytes:  952 total time:  1128
[LOG] index:  0 start ts/size:  1698835760011 / 1494 id  1 end ts/size:  1698835760370 / 37369 id  25 chunk time:  359 idle time: 0
[LOG] index:  1 start ts/size:  1698835760370 / 1500 id  25 end ts/size:  1698835760384 / 834 id  26 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835760384 / 1500 id  26 end ts/size:  1698835760384 / 755 id  26 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835760399 / 1500 id  27 end ts/size:  1698835760399 / 800 id  27 chunk time:  0 idle time:  15
[LOG] index:  4 start ts/size:  1698835760399 / 1500 id  27 end ts/size:  1698835760414 / 992 id  28 chunk time:  15 idle time:  0
[LOG] index:  5 start ts/size:  1698835760414 / 1500 id  28 end ts/size:  1698835760428 / 1550 id  29 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835760428 / 1486 id  29 end ts/size:  1698835760428 / 925 id  29 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835760428 / 1486 id  29 end ts/size:  1698835760442 / 1030 id  30 chunk time:  14 idle time:  0
[LOG] index:  8 start ts/size:  1698835760442 / 1493 id  30 end ts/size:  1698835760457 / 1182 id  31 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835760457 / 1493 id  31 end ts/size:  1698835760472 / 1209 id  32 chunk time:  15 idle time:  0
[LOG] index:  10 start ts/size:  1698835760472 / 1486 id  32 end ts/size:  1698835760472 / 1284 id  32 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835760487 / 1492 id  33 end ts/size:  1698835760487 / 1170 id  33 chunk time:  0 idle time:  15
[LOG] index:  12 start ts/size:  1698835760487 / 1492 id  33 end ts/size:  1698835761137 / 64848 id  77 chunk time:  650 idle time:  0
[LOG] index:  13 start ts/size:  1698835761137 / 1486 id  77 end ts/size:  1698835761137 / 495 id  77 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835761137 / 1486 id  77 end ts/size:  1698835761139 / 1939 id  78 chunk time:  2 idle time:  0
[LOG] cur bw/size 0 803.9702233250621 40500
[LOG] real bw  803.9702233250423
[LOG] downbytes  116382 time:  1158.0727407393288 true bw:  804 downloadtimeinms:  1138 latency:  23
'pushing'
804
'now'
'chunk-stream2-00055'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00055.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 1158.0727407393288,
  trace: [ { s: {}, d: 1158.0727407393288, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 6\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835760370, bytes: 37369, id: 25, idle: 0 },
    {
      ts: 1698835760384,
      bytes: 834,
      id: 26,
      idle: -14.925925925907727
    },
    {
      ts: 1698835760384,
      bytes: 755,
      id: 26,
      idle: -14.925925925907727
    },
    {
      ts: 1698835760399,
      bytes: 800,
      id: 27,
      idle: 0.07407407409227318
    },
    {
      ts: 1698835760414,
      bytes: 992,
      id: 28,
      idle: -14.925925925907727
    },
    {
      ts: 1698835760428,
      bytes: 1550,
      id: 29,
      idle: -14.925925925907727
    },
    { ts: 1698835760428, bytes: 925, id: 29, idle: -14.78661728393259 },
    {
      ts: 1698835760442,
      bytes: 1030,
      id: 30,
      idle: -14.78661728393259
    },
    {
      ts: 1698835760457,
      bytes: 1182,
      id: 31,
      idle: -14.856271604920158
    },
    {
      ts: 1698835760472,
      bytes: 1209,
      id: 32,
      idle: -14.856271604920158
    },
    {
      ts: 1698835760472,
      bytes: 1284,
      id: 32,
      idle: -14.78661728393259
    },
    {
      ts: 1698835760487,
      bytes: 1170,
      id: 33,
      idle: 0.15367901236378145
    },
    {
      ts: 1698835761137,
      bytes: 64848,
      id: 77,
      idle: -14.846320987636219
    },
    { ts: 1698835761137, bytes: 495, id: 77, idle: -14.78661728393259 },
    {
      ts: 1698835761139,
      bytes: 1939,
      id: 78,
      idle: -14.78661728393259
    }
  ]
}
[LOG] update buffer 1698835761150 0.5459820000000022
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6242408759124085,
  averageBufferLength: 0.8700729927007295,
  currentLatency: 1.524,
  currentBufferLength: 0.609,
  throughputKbps: 801,
  throughputTimestampMs: 1698835761149,
  throughputhis: 804,
  currentTimeAbsolute: 1698835761.149,
  currentTimeRelative: 26.886847,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00055.m4s',
    startTime: 27,
    requestStartDate: 1698835759988,
    firstByteDate: 1698835760011,
    requestEndDate: 1698835761149,
    availabilityStartTime: 1698835759637,
    wallStartTime: 1698835786637,
    bytesLoaded: 116382,
    bytesTotal: 116382,
    delayLoadingTime: 1698835759988
  }
}
[LOG] update buffer 1698835761150 0.5790259999999989
[LOG] update buffer 1698835761150 0.6122680000000003
[LOG] update buffer 1698835761150 0.6122680000000003
[LOG] update buffer 1698835761150 0.6122680000000003
[LOG] cal jiange, in rmpc, sum:  83.78710039299821 1.12477705524302 0.612 2 1000 802.9999995984999
1
0
200
-776.0000000000005
1
1
600
-883.1547158776567
'running time/ms: '
1
[LOG] [RmpcRule][video] requesting switch to index:  0 Average throughput 803 kbps
'in abr rule coll, get all'
'Quality changed requested'
{
  next_buf: 0.9272392456059473,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.6789772687571302,
  next_latency: 1.5248040257663757,
  rebuf: 0,
  next_play: 0.9970752366876869
}
{
  bit: 0,
  qoe: -776.0000000000005,
  state: [ 0.9272392456059473, 1.524, 1 ]
}
[
  {
    quality: 0,
    reason: { throughput: 802.9999995984999, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 802.9999995984999, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 2,
  newQuality: 0,
  reason: { throughput: 802.9999995984999, latency: 1.524 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 200000,
    width: 320,
    height: 180,
    scanType: null,
    qualityIndex: 0
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream0'
[LOG] update buffer 1698835761168 0.5945529999999977
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.623514492753623,
  averageBufferLength: 0.8682028985507242,
  currentLatency: 1.524,
  currentBufferLength: 0.612,
  throughputKbps: 801,
  throughputTimestampMs: 1698835761167,
  throughputhis: -1,
  currentTimeAbsolute: 1698835761.167,
  currentTimeRelative: 26.905001,
  segmentBitrateKbps: 200,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream0.m4s',
    startTime: null,
    requestStartDate: 1698835761151,
    firstByteDate: 1698835761151,
    requestEndDate: 1698835761167,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00056.m4s  time:  1698835761182  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00056.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 27.5,
    mediaStartTime: 27.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00056.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 55,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835761168,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00056.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835761272 0.4906480000000002
[LOG] get chunk:  1  time:  1698835761284  cur buffer:  1698835761272 0.491
[LOG] get chunk:  2  time:  1698835761284  cur buffer:  1698835761272 0.491
[LOG] get chunk:  3  time:  1698835761284  cur buffer:  1698835761272 0.491
[LOG] update buffer 1698835761284 0.5112539999999974
[LOG] update buffer 1698835761285 0.5443630000000006
[LOG] update buffer 1698835761285 0.5773070000000011
[LOG] get chunk:  4  time:  1698835761306  cur buffer:  1698835761285 0.577
[LOG] get chunk:  5  time:  1698835761306  cur buffer:  1698835761285 0.577
[LOG] get chunk:  6  time:  1698835761307  cur buffer:  1698835761285 0.577
[LOG] update buffer 1698835761307 0.5887160000000016
[LOG] update buffer 1698835761307 0.6218350000000008
[LOG] update buffer 1698835761307 0.6549749999999968
[LOG] update buffer 1698835761319 0.6438019999999973
[LOG] get chunk:  7  time:  1698835761321  cur buffer:  1698835761319 0.644
[LOG] get chunk:  8  time:  1698835761321  cur buffer:  1698835761319 0.644
[LOG] update buffer 1698835761321 0.674593999999999
[LOG] update buffer 1698835761321 0.7077379999999991
[LOG] get chunk:  9  time:  1698835761336  cur buffer:  1698835761321 0.708
[LOG] get chunk:  10  time:  1698835761336  cur buffer:  1698835761321 0.708
[LOG] get chunk:  11  time:  1698835761336  cur buffer:  1698835761321 0.708
[LOG] update buffer 1698835761337 0.7257670000000012
[LOG] update buffer 1698835761337 0.7588790000000003
[LOG] update buffer 1698835761337 0.7920039999999986
[LOG] get chunk:  12  time:  1698835761350  cur buffer:  1698835761337 0.792
[LOG] get chunk:  13  time:  1698835761351  cur buffer:  1698835761337 0.792
[LOG] get chunk:  14  time:  1698835761351  cur buffer:  1698835761337 0.792
[LOG] get chunk:  15  time:  1698835761351  cur buffer:  1698835761337 0.792
[LOG] index:  0 startts:  1698835761168 ts:  1698835761196 bytes:  1494 total time:  155
[LOG] index:  1 startts:  1698835761210 ts:  1698835761210 bytes:  1500 total time:  155
[LOG] index:  2 startts:  1698835761224 ts:  1698835761224 bytes:  1500 total time:  155
[LOG] index:  3 startts:  1698835761240 ts:  1698835761240 bytes:  1500 total time:  155
[LOG] index:  4 startts:  1698835761254 ts:  1698835761254 bytes:  1500 total time:  155
[LOG] index:  5 startts:  1698835761268 ts:  1698835761268 bytes:  1500 total time:  155
[LOG] index:  6 startts:  1698835761283 ts:  1698835761283 bytes:  1500 total time:  155
[LOG] index:  7 startts:  1698835761306 ts:  1698835761306 bytes:  1500 total time:  155
[LOG] index:  8 startts:  1698835761320 ts:  1698835761320 bytes:  1500 total time:  155
[LOG] index:  9 startts:  1698835761336 ts:  1698835761336 bytes:  1500 total time:  155
[LOG] index:  10 startts:  1698835761350 ts:  1698835761350 bytes:  1500 total time:  155
[LOG] index:  11 startts:  1698835761351 ts:  1698835761351 bytes:  962 total time:  155
[LOG] index:  0 start ts/size:  1698835761196 / 1494 id  1 end ts/size:  1698835761283 / 9886 id  7 chunk time:  87 idle time: 0
[LOG] index:  1 start ts/size:  1698835761283 / 1500 id  7 end ts/size:  1698835761283 / 200 id  7 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835761283 / 1500 id  7 end ts/size:  1698835761283 / 339 id  7 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835761306 / 1500 id  8 end ts/size:  1698835761306 / 541 id  8 chunk time:  0 idle time:  23
[LOG] index:  4 start ts/size:  1698835761306 / 1500 id  8 end ts/size:  1698835761306 / 633 id  8 chunk time:  0 idle time:  0
[LOG] index:  5 start ts/size:  1698835761306 / 1500 id  8 end ts/size:  1698835761306 / 337 id  8 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835761320 / 1500 id  9 end ts/size:  1698835761320 / 954 id  9 chunk time:  0 idle time:  14
[LOG] index:  7 start ts/size:  1698835761320 / 1500 id  9 end ts/size:  1698835761320 / 287 id  9 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835761320 / 1500 id  9 end ts/size:  1698835761336 / 652 id  10 chunk time:  16 idle time:  0
[LOG] index:  9 start ts/size:  1698835761336 / 1500 id  10 end ts/size:  1698835761336 / 417 id  10 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835761336 / 1500 id  10 end ts/size:  1698835761336 / 735 id  10 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835761350 / 1500 id  11 end ts/size:  1698835761350 / 343 id  11 chunk time:  0 idle time:  14
[LOG] index:  12 start ts/size:  1698835761350 / 1500 id  11 end ts/size:  1698835761350 / 880 id  11 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835761350 / 1500 id  11 end ts/size:  1698835761350 / 274 id  11 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835761351 / 962 id  12 end ts/size:  1698835761351 / 978 id  12 chunk time:  0 idle time:  1
[LOG] cur bw/size 0 779.2207792207793 15000
[LOG] real bw  779.2207792207273
[LOG] downbytes  17456 time:  179.21493333311528 true bw:  779 downloadtimeinms:  159 latency:  28
'pushing'
779
'now'
'chunk-stream0-00056'
[LOG] update buffer 1698835761356 0.8062439999999995
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00056.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 179.21493333311528,
  trace: [ { s: {}, d: 179.21493333311528, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835761283, bytes: 9886, id: 7, idle: 0 },
    { ts: 1698835761283, bytes: 200, id: 7, idle: -15.399999999981263 },
    { ts: 1698835761283, bytes: 339, id: 7, idle: -15.399999999981263 },
    { ts: 1698835761306, bytes: 541, id: 8, idle: 7.600000000018737 },
    { ts: 1698835761306, bytes: 633, id: 8, idle: -15.399999999981263 },
    { ts: 1698835761306, bytes: 337, id: 8, idle: -15.399999999981263 },
    { ts: 1698835761320, bytes: 954, id: 9, idle: -1.3999999999812633 },
    { ts: 1698835761320, bytes: 287, id: 9, idle: -15.399999999981263 },
    {
      ts: 1698835761336,
      bytes: 652,
      id: 10,
      idle: -15.399999999981263
    },
    {
      ts: 1698835761336,
      bytes: 417,
      id: 10,
      idle: -15.399999999981263
    },
    {
      ts: 1698835761336,
      bytes: 735,
      id: 10,
      idle: -15.399999999981263
    },
    {
      ts: 1698835761350,
      bytes: 343,
      id: 11,
      idle: -1.3999999999812633
    },
    {
      ts: 1698835761350,
      bytes: 880,
      id: 11,
      idle: -15.399999999981263
    },
    {
      ts: 1698835761350,
      bytes: 274,
      id: 11,
      idle: -15.399999999981263
    },
    { ts: 1698835761351, bytes: 978, id: 12, idle: -8.876533333321317 }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6220999999999997,
  averageBufferLength: 0.8657071428571425,
  currentLatency: 1.525,
  currentBufferLength: 0.792,
  throughputKbps: 795,
  throughputTimestampMs: 1698835761356,
  throughputhis: 779,
  currentTimeAbsolute: 1698835761.356,
  currentTimeRelative: 27.09325,
  segmentBitrateKbps: 200,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00056.m4s',
    startTime: 27.5,
    requestStartDate: 1698835761168,
    firstByteDate: 1698835761196,
    requestEndDate: 1698835761355,
    availabilityStartTime: 1698835760137,
    wallStartTime: 1698835787637,
    bytesLoaded: 17456,
    bytesTotal: 17456,
    delayLoadingTime: 1698835761168
  }
}
[LOG] update buffer 1698835761357 0.8387020000000014
[LOG] update buffer 1698835761357 0.8717989999999993
[LOG] update buffer 1698835761357 0.9049370000000003
[LOG] update buffer 1698835761358 0.9049370000000003
[LOG] update buffer 1698835761358 0.9049370000000003
[LOG] cal jiange, in rmpc, sum:  2.457375202361713 0.9272392456059473 0.905 0 200 791.49999960425
1
0
200
223.99999999999955
1
1
600
223.99999999999955
1
2
1000
-1376.0000000000005
1
3
2500
-17256.702791288117
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.24505761206568,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9583728361970754,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.7056880603284713,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.8171827022801657,
  rebuf: 0.12216936010839881,
  next_play: 0.753039806324235
}
{
  bit: 0,
  qoe: 223.99999999999955,
  state: [ 1.24505761206568, 1.524, 1 ]
}
[
  {
    quality: 0,
    reason: { throughput: 791.49999960425, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 791.49999960425, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00057.m4s  time:  1698835761365  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00057.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 28,
    mediaStartTime: 28,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00057.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 56,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835761360,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00057.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835761423  cur buffer:  1698835761358 0.905
[LOG] update buffer 1698835761423 0.872284999999998
[LOG] get chunk:  2  time:  1698835761437  cur buffer:  1698835761423 0.872
[LOG] get chunk:  3  time:  1698835761438  cur buffer:  1698835761423 0.872
[LOG] get chunk:  4  time:  1698835761438  cur buffer:  1698835761423 0.872
[LOG] update buffer 1698835761438 0.8909890000000011
[LOG] update buffer 1698835761438 0.9241489999999999
[LOG] update buffer 1698835761438 0.9573450000000001
[LOG] get chunk:  5  time:  1698835761453  cur buffer:  1698835761438 0.957
[LOG] get chunk:  6  time:  1698835761453  cur buffer:  1698835761438 0.957
[LOG] update buffer 1698835761453 0.9757940000000005
[LOG] update buffer 1698835761453 1.0089039999999976
[LOG] get chunk:  7  time:  1698835761467  cur buffer:  1698835761453 1.009
[LOG] get chunk:  8  time:  1698835761467  cur buffer:  1698835761453 1.009
[LOG] get chunk:  9  time:  1698835761467  cur buffer:  1698835761453 1.009
[LOG] update buffer 1698835761468 1.0280109999999993
[LOG] update buffer 1698835761468 1.0611010000000007
[LOG] update buffer 1698835761468 1.0942070000000008
[LOG] get chunk:  10  time:  1698835761481  cur buffer:  1698835761468 1.094
[LOG] get chunk:  11  time:  1698835761482  cur buffer:  1698835761468 1.094
[LOG] update buffer 1698835761482 1.1138030000000008
[LOG] update buffer 1698835761482 1.1469050000000003
[LOG] get chunk:  12  time:  1698835761496  cur buffer:  1698835761482 1.147
[LOG] get chunk:  13  time:  1698835761496  cur buffer:  1698835761482 1.147
[LOG] get chunk:  14  time:  1698835761496  cur buffer:  1698835761482 1.147
[LOG] get chunk:  15  time:  1698835761497  cur buffer:  1698835761482 1.147
[LOG] index:  0 startts:  1698835761360 ts:  1698835761380 bytes:  1494 total time:  117
[LOG] index:  1 startts:  1698835761393 ts:  1698835761393 bytes:  1500 total time:  117
[LOG] index:  2 startts:  1698835761409 ts:  1698835761409 bytes:  1500 total time:  117
[LOG] index:  3 startts:  1698835761423 ts:  1698835761423 bytes:  1500 total time:  117
[LOG] index:  4 startts:  1698835761437 ts:  1698835761437 bytes:  1500 total time:  117
[LOG] index:  5 startts:  1698835761453 ts:  1698835761453 bytes:  1500 total time:  117
[LOG] index:  6 startts:  1698835761467 ts:  1698835761467 bytes:  1500 total time:  117
[LOG] index:  7 startts:  1698835761481 ts:  1698835761481 bytes:  1500 total time:  117
[LOG] index:  8 startts:  1698835761496 ts:  1698835761496 bytes:  1500 total time:  117
[LOG] index:  9 startts:  1698835761497 ts:  1698835761497 bytes:  436 total time:  117
[LOG] index:  0 start ts/size:  1698835761380 / 1494 id  1 end ts/size:  1698835761423 / 5687 id  4 chunk time:  43 idle time: 0
[LOG] index:  1 start ts/size:  1698835761423 / 1500 id  4 end ts/size:  1698835761437 / 479 id  5 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835761437 / 1500 id  5 end ts/size:  1698835761437 / 580 id  5 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835761437 / 1500 id  5 end ts/size:  1698835761437 / 314 id  5 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835761437 / 1500 id  5 end ts/size:  1698835761453 / 1656 id  6 chunk time:  16 idle time:  0
[LOG] index:  5 start ts/size:  1698835761453 / 1500 id  6 end ts/size:  1698835761453 / 221 id  6 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835761467 / 1500 id  7 end ts/size:  1698835761467 / 321 id  7 chunk time:  0 idle time:  14
[LOG] index:  7 start ts/size:  1698835761467 / 1500 id  7 end ts/size:  1698835761467 / 939 id  7 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835761467 / 1500 id  7 end ts/size:  1698835761467 / 229 id  7 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835761481 / 1500 id  8 end ts/size:  1698835761481 / 1248 id  8 chunk time:  0 idle time:  14
[LOG] index:  10 start ts/size:  1698835761481 / 1500 id  8 end ts/size:  1698835761481 / 244 id  8 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835761496 / 1500 id  9 end ts/size:  1698835761496 / 472 id  9 chunk time:  0 idle time:  15
[LOG] index:  12 start ts/size:  1698835761496 / 1500 id  9 end ts/size:  1698835761496 / 548 id  9 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835761496 / 1500 id  9 end ts/size:  1698835761496 / 494 id  9 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835761497 / 436 id  10 end ts/size:  1698835761497 / 498 id  10 chunk time:  0 idle time:  1
[LOG] cur bw/size 0 827.5862068965517 12000
[LOG] real bw  827.5862068964827
[LOG] downbytes  13930 time:  134.65666666651518 true bw:  828 downloadtimeinms:  120 latency:  20
'pushing'
828
'now'
'chunk-stream0-00057'
[LOG] update buffer 1698835761501 1.1612089999999995
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00057.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 134.65666666651518,
  trace: [ { s: {}, d: 134.65666666651518, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835761423, bytes: 5687, id: 4, idle: 0 },
    { ts: 1698835761437, bytes: 479, id: 5, idle: -14.499999999983688 },
    { ts: 1698835761437, bytes: 580, id: 5, idle: -14.499999999983688 },
    { ts: 1698835761437, bytes: 314, id: 5, idle: -14.499999999983688 },
    {
      ts: 1698835761453,
      bytes: 1656,
      id: 6,
      idle: -14.499999999983688
    },
    { ts: 1698835761453, bytes: 221, id: 6, idle: -14.499999999983688 },
    { ts: 1698835761467, bytes: 321, id: 7, idle: -0.4999999999836877 },
    { ts: 1698835761467, bytes: 939, id: 7, idle: -14.499999999983688 },
    { ts: 1698835761467, bytes: 229, id: 7, idle: -14.499999999983688 },
    {
      ts: 1698835761481,
      bytes: 1248,
      id: 8,
      idle: -0.4999999999836877
    },
    { ts: 1698835761481, bytes: 244, id: 8, idle: -14.499999999983688 },
    { ts: 1698835761496, bytes: 472, id: 9, idle: 0.5000000000163123 },
    { ts: 1698835761496, bytes: 548, id: 9, idle: -14.499999999983688 },
    { ts: 1698835761496, bytes: 494, id: 9, idle: -14.499999999983688 },
    { ts: 1698835761497, bytes: 498, id: 10, idle: -3.214666666661925 }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6207253521126757,
  averageBufferLength: 0.867964788732394,
  currentLatency: 1.525,
  currentBufferLength: 1.147,
  throughputKbps: 804,
  throughputTimestampMs: 1698835761501,
  throughputhis: 828,
  currentTimeAbsolute: 1698835761.501,
  currentTimeRelative: 27.238298,
  segmentBitrateKbps: 200,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00057.m4s',
    startTime: 28,
    requestStartDate: 1698835761360,
    firstByteDate: 1698835761380,
    requestEndDate: 1698835761500,
    availabilityStartTime: 1698835760637,
    wallStartTime: 1698835788637,
    bytesLoaded: 13930,
    bytesTotal: 13930,
    delayLoadingTime: 1698835761360
  }
}
[LOG] update buffer 1698835761502 1.1936420000000005
[LOG] update buffer 1698835761502 1.2267459999999986
[LOG] update buffer 1698835761502 1.2599090000000004
[LOG] update buffer 1698835761503 1.2599090000000004
[LOG] update buffer 1698835761503 1.2599090000000004
[LOG] cal jiange, in rmpc, sum:  1.1859038033699185 1.24505761206568 1.26 0 200 803.4999995982499
1
0
200
223.99999999999955
1
1
600
423.99999999999955
1
2
1000
623.9999999999994
1
3
2500
-7955.9229610223965
[LOG] [RmpcRule][video] requesting switch to index:  2 Average throughput 803 kbps
'running time/ms: '
1
'in abr rule coll, get all'
'Quality changed requested'
{
  next_buf: 1.6090444927815657,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.326133478344727,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0772224639078873,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.21687259662938213,
  next_latency: 1.5970664368596412,
  rebuf: 0,
  next_play: 0.8231900579732434
}
{
  bit: 2,
  qoe: 623.9999999999994,
  state: [ 1.0772224639078873, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 803.4999995982499, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 803.4999995982499, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 0,
  newQuality: 2,
  reason: { throughput: 803.4999995982499, latency: 1.524 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 1000000,
    width: 640,
    height: 360,
    scanType: null,
    qualityIndex: 2
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream2'
[LOG] update buffer 1698835761511 1.2514419999999973
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6200559440559437,
  averageBufferLength: 0.8707062937062934,
  currentLatency: 1.525,
  currentBufferLength: 1.26,
  throughputKbps: 804,
  throughputTimestampMs: 1698835761511,
  throughputhis: -1,
  currentTimeAbsolute: 1698835761.511,
  currentTimeRelative: 27.248294,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream2.m4s',
    startTime: null,
    requestStartDate: 1698835761505,
    firstByteDate: 1698835761505,
    requestEndDate: 1698835761511,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 834,
    bytesTotal: 834,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00058.m4s  time:  1698835761525  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00058.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 28.5,
    mediaStartTime: 28.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00058.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 57,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835761511,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00058.m4s',
    responseHeaders: 'flag: 6\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835761584 1.1781949999999988
[LOG] update buffer 1698835761631 1.130991999999999
[LOG] get chunk:  1  time:  1698835761840  cur buffer:  1698835761631 1.131
[LOG] update buffer 1698835761840 0.9553709999999995
[LOG] update buffer 1698835761850 0.9458529999999996
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 2,
  newQuality: 0,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  2  time:  1698835761854  cur buffer:  1698835761850 0.946
[LOG] update buffer 1698835761855 0.9744600000000005
[LOG] get chunk:  3  time:  1698835761883  cur buffer:  1698835761855 0.974
[LOG] update buffer 1698835761884 0.9786159999999988
[LOG] get chunk:  4  time:  1698835761898  cur buffer:  1698835761884 0.979
[LOG] update buffer 1698835761898 0.997358000000002
[LOG] get chunk:  5  time:  1698835761928  cur buffer:  1698835761898 0.997
[LOG] update buffer 1698835761928 1.0006160000000008
[LOG] get chunk:  6  time:  1698835761943  cur buffer:  1698835761928 1.001
[LOG] update buffer 1698835761943 1.0193829999999977
[LOG] get chunk:  7  time:  1698835761972  cur buffer:  1698835761943 1.019
[LOG] update buffer 1698835761972 1.0235139999999987
[LOG] get chunk:  8  time:  1698835761986  cur buffer:  1698835761972 1.024
[LOG] update buffer 1698835761986 1.042541
[LOG] update buffer 1698835761991 1.0385220000000004
[LOG] get chunk:  9  time:  1698835762015  cur buffer:  1698835761991 1.039
[LOG] update buffer 1698835762015 1.0470289999999984
[LOG] get chunk:  10  time:  1698835762029  cur buffer:  1698835762015 1.047
[LOG] update buffer 1698835762030 1.0660160000000012
[LOG] get chunk:  11  time:  1698835762058  cur buffer:  1698835762030 1.066
[LOG] update buffer 1698835762059 1.0701629999999973
[LOG] get chunk:  12  time:  1698835762073  cur buffer:  1698835762059 1.07
[LOG] update buffer 1698835762073 1.0889140000000026
[LOG] get chunk:  13  time:  1698835762102  cur buffer:  1698835762073 1.089
[LOG] update buffer 1698835762103 1.0930140000000002
[LOG] update buffer 1698835762116 1.0799769999999995
[LOG] get chunk:  14  time:  1698835762117  cur buffer:  1698835762116 1.08
[LOG] update buffer 1698835762117 1.112017999999999
[LOG] get chunk:  15  time:  1698835762147  cur buffer:  1698835762117 1.112
[LOG] index:  0 startts:  1698835761511 ts:  1698835761539 bytes:  1494 total time:  608
[LOG] index:  1 startts:  1698835761554 ts:  1698835761554 bytes:  1500 total time:  608
[LOG] index:  2 startts:  1698835761569 ts:  1698835761569 bytes:  1500 total time:  608
[LOG] index:  3 startts:  1698835761583 ts:  1698835761583 bytes:  1500 total time:  608
[LOG] index:  4 startts:  1698835761598 ts:  1698835761598 bytes:  1500 total time:  608
[LOG] index:  5 startts:  1698835761612 ts:  1698835761612 bytes:  1500 total time:  608
[LOG] index:  6 startts:  1698835761628 ts:  1698835761628 bytes:  1500 total time:  608
[LOG] index:  7 startts:  1698835761642 ts:  1698835761642 bytes:  1500 total time:  608
[LOG] index:  8 startts:  1698835761657 ts:  1698835761657 bytes:  1500 total time:  608
[LOG] index:  9 startts:  1698835761671 ts:  1698835761671 bytes:  1500 total time:  608
[LOG] index:  10 startts:  1698835761685 ts:  1698835761685 bytes:  1500 total time:  608
[LOG] index:  11 startts:  1698835761700 ts:  1698835761700 bytes:  1500 total time:  608
[LOG] index:  12 startts:  1698835761715 ts:  1698835761715 bytes:  1500 total time:  608
[LOG] index:  13 startts:  1698835761729 ts:  1698835761729 bytes:  1500 total time:  608
[LOG] index:  14 startts:  1698835761744 ts:  1698835761744 bytes:  1500 total time:  608
[LOG] index:  15 startts:  1698835761758 ts:  1698835761758 bytes:  1500 total time:  608
[LOG] index:  16 startts:  1698835761773 ts:  1698835761773 bytes:  1500 total time:  608
[LOG] index:  17 startts:  1698835761788 ts:  1698835761788 bytes:  1500 total time:  608
[LOG] index:  18 startts:  1698835761802 ts:  1698835761802 bytes:  1500 total time:  608
[LOG] index:  19 startts:  1698835761816 ts:  1698835761816 bytes:  1500 total time:  608
[LOG] index:  20 startts:  1698835761840 ts:  1698835761840 bytes:  1500 total time:  608
[LOG] index:  21 startts:  1698835761854 ts:  1698835761854 bytes:  1500 total time:  608
[LOG] index:  22 startts:  1698835761869 ts:  1698835761869 bytes:  1500 total time:  608
[LOG] index:  23 startts:  1698835761883 ts:  1698835761883 bytes:  1500 total time:  608
[LOG] index:  24 startts:  1698835761898 ts:  1698835761898 bytes:  1500 total time:  608
[LOG] index:  25 startts:  1698835761912 ts:  1698835761912 bytes:  1500 total time:  608
[LOG] index:  26 startts:  1698835761928 ts:  1698835761928 bytes:  1500 total time:  608
[LOG] index:  27 startts:  1698835761943 ts:  1698835761943 bytes:  1492 total time:  608
[LOG] index:  28 startts:  1698835761957 ts:  1698835761957 bytes:  1500 total time:  608
[LOG] index:  29 startts:  1698835761972 ts:  1698835761972 bytes:  1493 total time:  608
[LOG] index:  30 startts:  1698835761986 ts:  1698835761986 bytes:  1493 total time:  608
[LOG] index:  31 startts:  1698835762000 ts:  1698835762000 bytes:  1500 total time:  608
[LOG] index:  32 startts:  1698835762015 ts:  1698835762015 bytes:  1493 total time:  608
[LOG] index:  33 startts:  1698835762029 ts:  1698835762029 bytes:  1492 total time:  608
[LOG] index:  34 startts:  1698835762044 ts:  1698835762044 bytes:  1500 total time:  608
[LOG] index:  35 startts:  1698835762058 ts:  1698835762058 bytes:  1493 total time:  608
[LOG] index:  36 startts:  1698835762073 ts:  1698835762073 bytes:  1493 total time:  608
[LOG] index:  37 startts:  1698835762087 ts:  1698835762087 bytes:  1500 total time:  608
[LOG] index:  38 startts:  1698835762102 ts:  1698835762102 bytes:  1493 total time:  608
[LOG] index:  39 startts:  1698835762117 ts:  1698835762117 bytes:  1492 total time:  608
[LOG] index:  40 startts:  1698835762131 ts:  1698835762131 bytes:  1500 total time:  608
[LOG] index:  41 startts:  1698835762146 ts:  1698835762146 bytes:  1500 total time:  608
[LOG] index:  42 startts:  1698835762147 ts:  1698835762147 bytes:  1093 total time:  608
[LOG] index:  0 start ts/size:  1698835761539 / 1494 id  1 end ts/size:  1698835761840 / 30116 id  21 chunk time:  301 idle time: 0
[LOG] index:  1 start ts/size:  1698835761840 / 1500 id  21 end ts/size:  1698835761854 / 1437 id  22 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835761854 / 1500 id  22 end ts/size:  1698835761883 / 3970 id  24 chunk time:  29 idle time:  0
[LOG] index:  3 start ts/size:  1698835761883 / 1500 id  24 end ts/size:  1698835761898 / 763 id  25 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835761898 / 1500 id  25 end ts/size:  1698835761928 / 3457 id  27 chunk time:  30 idle time:  0
[LOG] index:  5 start ts/size:  1698835761928 / 1500 id  27 end ts/size:  1698835761943 / 799 id  28 chunk time:  15 idle time:  0
[LOG] index:  6 start ts/size:  1698835761943 / 1492 id  28 end ts/size:  1698835761972 / 4403 id  30 chunk time:  29 idle time:  0
[LOG] index:  7 start ts/size:  1698835761986 / 1493 id  31 end ts/size:  1698835761986 / 829 id  31 chunk time:  0 idle time:  14
[LOG] index:  8 start ts/size:  1698835761986 / 1493 id  31 end ts/size:  1698835762015 / 3007 id  33 chunk time:  29 idle time:  0
[LOG] index:  9 start ts/size:  1698835762015 / 1493 id  33 end ts/size:  1698835762029 / 969 id  34 chunk time:  14 idle time:  0
[LOG] index:  10 start ts/size:  1698835762029 / 1492 id  34 end ts/size:  1698835762058 / 4183 id  36 chunk time:  29 idle time:  0
[LOG] index:  11 start ts/size:  1698835762073 / 1493 id  37 end ts/size:  1698835762073 / 774 id  37 chunk time:  0 idle time:  15
[LOG] index:  12 start ts/size:  1698835762073 / 1493 id  37 end ts/size:  1698835762102 / 2915 id  39 chunk time:  29 idle time:  0
[LOG] index:  13 start ts/size:  1698835762102 / 1493 id  39 end ts/size:  1698835762117 / 1461 id  40 chunk time:  15 idle time:  0
[LOG] index:  14 start ts/size:  1698835762117 / 1492 id  40 end ts/size:  1698835762147 / 4938 id  43 chunk time:  30 idle time:  0
[LOG] cur bw/size 0 802.0565552699229 39000
[LOG] real bw  802.0565552699023
[LOG] downbytes  64021 time:  638.5684358966561 true bw:  802 downloadtimeinms:  614 latency:  28
'pushing'
802
'now'
'chunk-stream2-00058'
[LOG] update buffer 1698835762154 1.1086029999999987
[LOG] update buffer 1698835762154 1.1086029999999987
[LOG] update buffer 1698835762154 1.1086029999999987
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00058.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 638.5684358966561,
  trace: [ { s: {}, d: 638.5684358966561, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 6\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835761840, bytes: 30116, id: 21, idle: 0 },
    {
      ts: 1698835761854,
      bytes: 1437,
      id: 22,
      idle: -14.961538461520192
    },
    {
      ts: 1698835761883,
      bytes: 3970,
      id: 24,
      idle: -14.961538461520192
    },
    {
      ts: 1698835761898,
      bytes: 763,
      id: 25,
      idle: -14.961538461520192
    },
    {
      ts: 1698835761928,
      bytes: 3457,
      id: 27,
      idle: -14.961538461520192
    },
    {
      ts: 1698835761943,
      bytes: 799,
      id: 28,
      idle: -14.961538461520192
    },
    {
      ts: 1698835761972,
      bytes: 4403,
      id: 30,
      idle: -14.881743589725417
    },
    { ts: 1698835761986, bytes: 829, id: 31, idle: -0.891717948699764 },
    {
      ts: 1698835762015,
      bytes: 3007,
      id: 33,
      idle: -14.891717948699764
    },
    {
      ts: 1698835762029,
      bytes: 969,
      id: 34,
      idle: -14.891717948699764
    },
    {
      ts: 1698835762058,
      bytes: 4183,
      id: 36,
      idle: -14.881743589725417
    },
    {
      ts: 1698835762073,
      bytes: 774,
      id: 37,
      idle: 0.10828205130023605
    },
    {
      ts: 1698835762102,
      bytes: 2915,
      id: 39,
      idle: -14.891717948699764
    },
    {
      ts: 1698835762117,
      bytes: 1461,
      id: 40,
      idle: -14.891717948699764
    },
    {
      ts: 1698835762147,
      bytes: 4938,
      id: 43,
      idle: -14.881743589725417
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  2.8654225485535094 1.0772224639078873 1.109 2 1000 814.9999995925
1
0
200
-576.0000000000005
1
1
600
423.99999999999955
1
2
1000
823.9999999999995
1
3
2500
-8933.664611781805
'running time/ms: '
0
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6174897959183672,
  averageBufferLength: 0.8773537414965983,
  currentLatency: 1.531,
  currentBufferLength: 1.112,
  throughputKbps: 803,
  throughputTimestampMs: 1698835762153,
  throughputhis: 802,
  currentTimeAbsolute: 1698835762.153,
  currentTimeRelative: 27.884451,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00058.m4s',
    startTime: 28.5,
    requestStartDate: 1698835761511,
    firstByteDate: 1698835761539,
    requestEndDate: 1698835762153,
    availabilityStartTime: 1698835761137,
    wallStartTime: 1698835789637,
    bytesLoaded: 64021,
    bytesTotal: 64021,
    delayLoadingTime: 1698835761511
  }
}
{
  next_buf: 1.4261923313842841,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1807935582554492,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9693947851266139,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.14100029174114875,
  next_latency: 1.6498509058476638,
  rebuf: 0,
  next_play: 0.7854765882516528
}
{
  bit: 2,
  qoe: 823.9999999999995,
  state: [ 0.9693947851266139, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 814.9999995925, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 814.9999995925, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00059.m4s  time:  1698835762161  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00059.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 29,
    mediaStartTime: 29,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00059.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 58,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835762156,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00059.m4s',
    responseHeaders: 'flag: 11\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835762350 0.912468999999998
[LOG] update buffer 1698835762381 0.8813059999999986
[LOG] get chunk:  1  time:  1698835762447  cur buffer:  1698835762381 0.881
[LOG] update buffer 1698835762447 0.8482479999999981
[LOG] get chunk:  2  time:  1698835762462  cur buffer:  1698835762447 0.848
[LOG] update buffer 1698835762463 0.8663249999999998
[LOG] get chunk:  3  time:  1698835762491  cur buffer:  1698835762463 0.866
[LOG] get chunk:  4  time:  1698835762491  cur buffer:  1698835762463 0.866
[LOG] update buffer 1698835762492 0.8707840000000004
[LOG] update buffer 1698835762492 0.903926000000002
[LOG] get chunk:  5  time:  1698835762564  cur buffer:  1698835762492 0.904
[LOG] get chunk:  6  time:  1698835762564  cur buffer:  1698835762492 0.904
[LOG] update buffer 1698835762564 0.8647220000000004
[LOG] update buffer 1698835762564 0.8978519999999968
[LOG] get chunk:  7  time:  1698835762578  cur buffer:  1698835762564 0.898
[LOG] update buffer 1698835762578 0.9172489999999982
[LOG] get chunk:  8  time:  1698835762622  cur buffer:  1698835762578 0.917
[LOG] update buffer 1698835762623 0.9063140000000018
[LOG] get chunk:  9  time:  1698835762637  cur buffer:  1698835762623 0.906
[LOG] update buffer 1698835762637 0.9253169999999997
[LOG] update buffer 1698835762647 0.9156459999999988
[LOG] get chunk:  10  time:  1698835762651  cur buffer:  1698835762647 0.916
[LOG] update buffer 1698835762651 0.9443190000000001
[LOG] get chunk:  11  time:  1698835762666  cur buffer:  1698835762651 0.944
[LOG] update buffer 1698835762667 0.9622899999999994
[LOG] update buffer 1698835762709 0.9197670000000002
[LOG] get chunk:  12  time:  1698835762710  cur buffer:  1698835762709 0.92
[LOG] update buffer 1698835762710 0.9519580000000012
[LOG] get chunk:  13  time:  1698835762724  cur buffer:  1698835762710 0.952
[LOG] update buffer 1698835762725 0.971033000000002
[LOG] get chunk:  14  time:  1698835762739  cur buffer:  1698835762725 0.971
[LOG] update buffer 1698835762740 0.9889629999999983
[LOG] get chunk:  15  time:  1698835762754  cur buffer:  1698835762740 0.989
[LOG] index:  0 startts:  1698835762156 ts:  1698835762175 bytes:  1494 total time:  579
[LOG] index:  1 startts:  1698835762190 ts:  1698835762190 bytes:  1500 total time:  579
[LOG] index:  2 startts:  1698835762204 ts:  1698835762204 bytes:  1500 total time:  579
[LOG] index:  3 startts:  1698835762219 ts:  1698835762219 bytes:  1500 total time:  579
[LOG] index:  4 startts:  1698835762233 ts:  1698835762233 bytes:  1500 total time:  579
[LOG] index:  5 startts:  1698835762248 ts:  1698835762248 bytes:  1500 total time:  579
[LOG] index:  6 startts:  1698835762262 ts:  1698835762262 bytes:  1500 total time:  579
[LOG] index:  7 startts:  1698835762277 ts:  1698835762277 bytes:  1500 total time:  579
[LOG] index:  8 startts:  1698835762292 ts:  1698835762292 bytes:  1500 total time:  579
[LOG] index:  9 startts:  1698835762306 ts:  1698835762306 bytes:  1500 total time:  579
[LOG] index:  10 startts:  1698835762321 ts:  1698835762321 bytes:  1500 total time:  579
[LOG] index:  11 startts:  1698835762335 ts:  1698835762335 bytes:  1500 total time:  579
[LOG] index:  12 startts:  1698835762350 ts:  1698835762350 bytes:  1500 total time:  579
[LOG] index:  13 startts:  1698835762374 ts:  1698835762374 bytes:  1500 total time:  579
[LOG] index:  14 startts:  1698835762389 ts:  1698835762389 bytes:  1500 total time:  579
[LOG] index:  15 startts:  1698835762404 ts:  1698835762404 bytes:  1500 total time:  579
[LOG] index:  16 startts:  1698835762418 ts:  1698835762418 bytes:  1500 total time:  579
[LOG] index:  17 startts:  1698835762433 ts:  1698835762433 bytes:  1500 total time:  579
[LOG] index:  18 startts:  1698835762447 ts:  1698835762447 bytes:  1500 total time:  579
[LOG] index:  19 startts:  1698835762462 ts:  1698835762462 bytes:  1500 total time:  579
[LOG] index:  20 startts:  1698835762477 ts:  1698835762477 bytes:  1500 total time:  579
[LOG] index:  21 startts:  1698835762491 ts:  1698835762491 bytes:  1500 total time:  579
[LOG] index:  22 startts:  1698835762505 ts:  1698835762505 bytes:  1500 total time:  579
[LOG] index:  23 startts:  1698835762520 ts:  1698835762520 bytes:  1500 total time:  579
[LOG] index:  24 startts:  1698835762535 ts:  1698835762535 bytes:  1500 total time:  579
[LOG] index:  25 startts:  1698835762549 ts:  1698835762549 bytes:  1500 total time:  579
[LOG] index:  26 startts:  1698835762564 ts:  1698835762564 bytes:  1500 total time:  579
[LOG] index:  27 startts:  1698835762578 ts:  1698835762578 bytes:  1500 total time:  579
[LOG] index:  28 startts:  1698835762593 ts:  1698835762593 bytes:  1500 total time:  579
[LOG] index:  29 startts:  1698835762608 ts:  1698835762608 bytes:  1500 total time:  579
[LOG] index:  30 startts:  1698835762622 ts:  1698835762622 bytes:  1500 total time:  579
[LOG] index:  31 startts:  1698835762637 ts:  1698835762637 bytes:  1500 total time:  579
[LOG] index:  32 startts:  1698835762651 ts:  1698835762651 bytes:  1500 total time:  579
[LOG] index:  33 startts:  1698835762666 ts:  1698835762666 bytes:  1492 total time:  579
[LOG] index:  34 startts:  1698835762681 ts:  1698835762681 bytes:  1500 total time:  579
[LOG] index:  35 startts:  1698835762695 ts:  1698835762695 bytes:  1500 total time:  579
[LOG] index:  36 startts:  1698835762709 ts:  1698835762709 bytes:  1493 total time:  579
[LOG] index:  37 startts:  1698835762724 ts:  1698835762724 bytes:  1493 total time:  579
[LOG] index:  38 startts:  1698835762739 ts:  1698835762739 bytes:  1493 total time:  579
[LOG] index:  39 startts:  1698835762754 ts:  1698835762754 bytes:  1500 total time:  579
[LOG] index:  40 startts:  1698835762754 ts:  1698835762754 bytes:  113 total time:  579
[LOG] index:  0 start ts/size:  1698835762175 / 1494 id  1 end ts/size:  1698835762447 / 27899 id  19 chunk time:  272 idle time: 0
[LOG] index:  1 start ts/size:  1698835762447 / 1500 id  19 end ts/size:  1698835762462 / 655 id  20 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835762462 / 1500 id  20 end ts/size:  1698835762491 / 2968 id  22 chunk time:  29 idle time:  0
[LOG] index:  3 start ts/size:  1698835762491 / 1500 id  22 end ts/size:  1698835762491 / 1011 id  22 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835762491 / 1500 id  22 end ts/size:  1698835762564 / 6916 id  27 chunk time:  73 idle time:  0
[LOG] index:  5 start ts/size:  1698835762564 / 1500 id  27 end ts/size:  1698835762564 / 693 id  27 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835762564 / 1500 id  27 end ts/size:  1698835762578 / 958 id  28 chunk time:  14 idle time:  0
[LOG] index:  7 start ts/size:  1698835762578 / 1500 id  28 end ts/size:  1698835762622 / 4728 id  31 chunk time:  44 idle time:  0
[LOG] index:  8 start ts/size:  1698835762622 / 1500 id  31 end ts/size:  1698835762637 / 750 id  32 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835762637 / 1500 id  32 end ts/size:  1698835762651 / 2564 id  33 chunk time:  14 idle time:  0
[LOG] index:  10 start ts/size:  1698835762651 / 1500 id  33 end ts/size:  1698835762666 / 1409 id  34 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835762666 / 1492 id  34 end ts/size:  1698835762709 / 4681 id  37 chunk time:  43 idle time:  0
[LOG] index:  12 start ts/size:  1698835762709 / 1493 id  37 end ts/size:  1698835762724 / 824 id  38 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835762724 / 1493 id  38 end ts/size:  1698835762739 / 2349 id  39 chunk time:  15 idle time:  0
[LOG] index:  14 start ts/size:  1698835762754 / 1500 id  40 end ts/size:  1698835762754 / 1673 id  41 chunk time:  0 idle time:  15
[LOG] cur bw/size 0 806.7226890756302 48000
[LOG] real bw  806.7226890756134
[LOG] downbytes  60078 time:  595.7734999992739 true bw:  807 downloadtimeinms:  584 latency:  19
'pushing'
807
'now'
'chunk-stream2-00059'
[LOG] update buffer 1698835762760 1.0027449999999973
[LOG] update buffer 1698835762760 1.0027449999999973
[LOG] update buffer 1698835762760 1.0027449999999973
[LOG] cal jiange, in rmpc, sum:  3.3504700737668265 0.9693947851266139 1.003 2 1000 804.4999995977499
1
0
200
-576.0000000000005
1
1
600
223.99999999999955
1
2
1000
623.9999999999995
1
3
2500
-11952.007541976673
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00059.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 595.7734999992739,
  trace: [ { s: {}, d: 595.7734999992739, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 11\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835762447, bytes: 27899, id: 19, idle: 0 },
    { ts: 1698835762462, bytes: 655, id: 20, idle: -14.87499999998187 },
    {
      ts: 1698835762491,
      bytes: 2968,
      id: 22,
      idle: -14.87499999998187
    },
    {
      ts: 1698835762491,
      bytes: 1011,
      id: 22,
      idle: -14.87499999998187
    },
    {
      ts: 1698835762564,
      bytes: 6916,
      id: 27,
      idle: -14.87499999998187
    },
    { ts: 1698835762564, bytes: 693, id: 27, idle: -14.87499999998187 },
    { ts: 1698835762578, bytes: 958, id: 28, idle: -14.87499999998187 },
    {
      ts: 1698835762622,
      bytes: 4728,
      id: 31,
      idle: -14.87499999998187
    },
    { ts: 1698835762637, bytes: 750, id: 32, idle: -14.87499999998187 },
    {
      ts: 1698835762651,
      bytes: 2564,
      id: 33,
      idle: -14.87499999998187
    },
    {
      ts: 1698835762666,
      bytes: 1409,
      id: 34,
      idle: -14.87499999998187
    },
    {
      ts: 1698835762709,
      bytes: 4681,
      id: 37,
      idle: -14.795666666648634
    },
    {
      ts: 1698835762724,
      bytes: 824,
      id: 38,
      idle: -14.805583333315289
    },
    {
      ts: 1698835762739,
      bytes: 2349,
      id: 39,
      idle: -14.805583333315289
    },
    {
      ts: 1698835762754,
      bytes: 1673,
      id: 41,
      idle: 0.1250000000181295
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6150529801324502,
  averageBufferLength: 0.8799139072847679,
  currentLatency: 1.529,
  currentBufferLength: 0.989,
  throughputKbps: 812,
  throughputTimestampMs: 1698835762759,
  throughputhis: 807,
  currentTimeAbsolute: 1698835762.759,
  currentTimeRelative: 28.492384,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00059.m4s',
    startTime: 29,
    requestStartDate: 1698835762156,
    firstByteDate: 1698835762175,
    requestEndDate: 1698835762759,
    availabilityStartTime: 1698835761637,
    wallStartTime: 1698835790637,
    bytesLoaded: 60078,
    bytesTotal: 60078,
    delayLoadingTime: 1698835762156
  }
}
{
  next_buf: 1.3185741919825809,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0699725759477754,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.855370959912971,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.05742444853425058,
  next_latency: 1.6923095487517954,
  rebuf: 0,
  next_play: 0.757860184903836
}
{
  bit: 2,
  qoe: 623.9999999999995,
  state: [ 0.855370959912971, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 804.4999995977499, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 804.4999995977499, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00060.m4s  time:  1698835762769  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00060.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 29.5,
    mediaStartTime: 29.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00060.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 59,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835762761,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00060.m4s',
    responseHeaders: 'flag: 14\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835762912 0.8500230000000002
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 0,
  newQuality: 2,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] update buffer 1698835762986 0.7765629999999994
[LOG] update buffer 1698835762986 0.7765629999999994
[LOG] update buffer 1698835763069 0.6937420000000003
[LOG] get chunk:  1  time:  1698835763080  cur buffer:  1698835763069 0.694
[LOG] update buffer 1698835763081 0.7150399999999983
[LOG] get chunk:  2  time:  1698835763113  cur buffer:  1698835763081 0.715
[LOG] update buffer 1698835763114 0.7154980000000002
[LOG] get chunk:  3  time:  1698835763128  cur buffer:  1698835763113 0.715
[LOG] update buffer 1698835763129 0.7334889999999987
[LOG] get chunk:  4  time:  1698835763177  cur buffer:  1698835763129 0.733
[LOG] get chunk:  5  time:  1698835763177  cur buffer:  1698835763129 0.733
[LOG] update buffer 1698835763177 0.7184670000000004
[LOG] update buffer 1698835763177 0.7516219999999976
[LOG] update buffer 1698835763178 0.7511149999999986
[LOG] get chunk:  6  time:  1698835763209  cur buffer:  1698835763178 0.751
[LOG] update buffer 1698835763210 0.752718999999999
[LOG] get chunk:  7  time:  1698835763226  cur buffer:  1698835763210 0.753
[LOG] update buffer 1698835763226 0.7694909999999986
[LOG] get chunk:  8  time:  1698835763289  cur buffer:  1698835763226 0.769
[LOG] get chunk:  9  time:  1698835763289  cur buffer:  1698835763226 0.769
[LOG] update buffer 1698835763289 0.7395980000000009
[LOG] update buffer 1698835763290 0.7727660000000007
[LOG] get chunk:  10  time:  1698835763305  cur buffer:  1698835763290 0.773
[LOG] update buffer 1698835763306 0.789949
[LOG] get chunk:  11  time:  1698835763353  cur buffer:  1698835763306 0.79
[LOG] get chunk:  12  time:  1698835763354  cur buffer:  1698835763306 0.79
[LOG] update buffer 1698835763354 0.7750239999999984
[LOG] update buffer 1698835763354 0.8081950000000013
[LOG] get chunk:  13  time:  1698835763386  cur buffer:  1698835763354 0.808
[LOG] update buffer 1698835763386 0.8091919999999995
[LOG] get chunk:  14  time:  1698835763401  cur buffer:  1698835763386 0.809
[LOG] update buffer 1698835763402 0.8272149999999989
[LOG] update buffer 1698835763428 0.8010240000000017
[LOG] update buffer 1698835763444 0.7854489999999998
[LOG] get chunk:  15  time:  1698835763454  cur buffer:  1698835763444 0.785
[LOG] index:  0 startts:  1698835762761 ts:  1698835762783 bytes:  1494 total time:  671
[LOG] index:  1 startts:  1698835762797 ts:  1698835762797 bytes:  1500 total time:  671
[LOG] index:  2 startts:  1698835762811 ts:  1698835762811 bytes:  1500 total time:  671
[LOG] index:  3 startts:  1698835762826 ts:  1698835762826 bytes:  1500 total time:  671
[LOG] index:  4 startts:  1698835762841 ts:  1698835762841 bytes:  1500 total time:  671
[LOG] index:  5 startts:  1698835762855 ts:  1698835762855 bytes:  1500 total time:  671
[LOG] index:  6 startts:  1698835762870 ts:  1698835762870 bytes:  1500 total time:  671
[LOG] index:  7 startts:  1698835762884 ts:  1698835762884 bytes:  1500 total time:  671
[LOG] index:  8 startts:  1698835762904 ts:  1698835762904 bytes:  1500 total time:  671
[LOG] index:  9 startts:  1698835762920 ts:  1698835762920 bytes:  1500 total time:  671
[LOG] index:  10 startts:  1698835762936 ts:  1698835762936 bytes:  1500 total time:  671
[LOG] index:  11 startts:  1698835762952 ts:  1698835762952 bytes:  1500 total time:  671
[LOG] index:  12 startts:  1698835762968 ts:  1698835762968 bytes:  1500 total time:  671
[LOG] index:  13 startts:  1698835762984 ts:  1698835762984 bytes:  1500 total time:  671
[LOG] index:  14 startts:  1698835763000 ts:  1698835763000 bytes:  1500 total time:  671
[LOG] index:  15 startts:  1698835763017 ts:  1698835763017 bytes:  1500 total time:  671
[LOG] index:  16 startts:  1698835763032 ts:  1698835763032 bytes:  1500 total time:  671
[LOG] index:  17 startts:  1698835763048 ts:  1698835763048 bytes:  1500 total time:  671
[LOG] index:  18 startts:  1698835763065 ts:  1698835763065 bytes:  1500 total time:  671
[LOG] index:  19 startts:  1698835763080 ts:  1698835763080 bytes:  1500 total time:  671
[LOG] index:  20 startts:  1698835763097 ts:  1698835763097 bytes:  1500 total time:  671
[LOG] index:  21 startts:  1698835763113 ts:  1698835763113 bytes:  1500 total time:  671
[LOG] index:  22 startts:  1698835763128 ts:  1698835763128 bytes:  1500 total time:  671
[LOG] index:  23 startts:  1698835763145 ts:  1698835763145 bytes:  1500 total time:  671
[LOG] index:  24 startts:  1698835763161 ts:  1698835763161 bytes:  1500 total time:  671
[LOG] index:  25 startts:  1698835763177 ts:  1698835763177 bytes:  1500 total time:  671
[LOG] index:  26 startts:  1698835763193 ts:  1698835763193 bytes:  1500 total time:  671
[LOG] index:  27 startts:  1698835763209 ts:  1698835763209 bytes:  1500 total time:  671
[LOG] index:  28 startts:  1698835763226 ts:  1698835763226 bytes:  1500 total time:  671
[LOG] index:  29 startts:  1698835763241 ts:  1698835763241 bytes:  1500 total time:  671
[LOG] index:  30 startts:  1698835763258 ts:  1698835763258 bytes:  1500 total time:  671
[LOG] index:  31 startts:  1698835763273 ts:  1698835763273 bytes:  1500 total time:  671
[LOG] index:  32 startts:  1698835763289 ts:  1698835763289 bytes:  1500 total time:  671
[LOG] index:  33 startts:  1698835763305 ts:  1698835763305 bytes:  1500 total time:  671
[LOG] index:  34 startts:  1698835763322 ts:  1698835763322 bytes:  1500 total time:  671
[LOG] index:  35 startts:  1698835763338 ts:  1698835763338 bytes:  1500 total time:  671
[LOG] index:  36 startts:  1698835763353 ts:  1698835763353 bytes:  1500 total time:  671
[LOG] index:  37 startts:  1698835763370 ts:  1698835763370 bytes:  1500 total time:  671
[LOG] index:  38 startts:  1698835763386 ts:  1698835763386 bytes:  1500 total time:  671
[LOG] index:  39 startts:  1698835763401 ts:  1698835763401 bytes:  1492 total time:  671
[LOG] index:  40 startts:  1698835763425 ts:  1698835763425 bytes:  1500 total time:  671
[LOG] index:  41 startts:  1698835763439 ts:  1698835763439 bytes:  1500 total time:  671
[LOG] index:  42 startts:  1698835763453 ts:  1698835763453 bytes:  1500 total time:  671
[LOG] index:  43 startts:  1698835763454 ts:  1698835763454 bytes:  1062 total time:  671
[LOG] index:  0 start ts/size:  1698835762783 / 1494 id  1 end ts/size:  1698835763080 / 29295 id  20 chunk time:  297 idle time: 0
[LOG] index:  1 start ts/size:  1698835763080 / 1500 id  20 end ts/size:  1698835763113 / 3524 id  22 chunk time:  33 idle time:  0
[LOG] index:  2 start ts/size:  1698835763113 / 1500 id  22 end ts/size:  1698835763128 / 1072 id  23 chunk time:  15 idle time:  0
[LOG] index:  3 start ts/size:  1698835763128 / 1500 id  23 end ts/size:  1698835763177 / 4250 id  26 chunk time:  49 idle time:  0
[LOG] index:  4 start ts/size:  1698835763177 / 1500 id  26 end ts/size:  1698835763177 / 643 id  26 chunk time:  0 idle time:  0
[LOG] index:  5 start ts/size:  1698835763177 / 1500 id  26 end ts/size:  1698835763209 / 2602 id  28 chunk time:  32 idle time:  0
[LOG] index:  6 start ts/size:  1698835763209 / 1500 id  28 end ts/size:  1698835763226 / 1519 id  29 chunk time:  17 idle time:  0
[LOG] index:  7 start ts/size:  1698835763226 / 1500 id  29 end ts/size:  1698835763289 / 5871 id  33 chunk time:  63 idle time:  0
[LOG] index:  8 start ts/size:  1698835763289 / 1500 id  33 end ts/size:  1698835763289 / 598 id  33 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835763289 / 1500 id  33 end ts/size:  1698835763305 / 1418 id  34 chunk time:  16 idle time:  0
[LOG] index:  10 start ts/size:  1698835763305 / 1500 id  34 end ts/size:  1698835763353 / 3868 id  37 chunk time:  48 idle time:  0
[LOG] index:  11 start ts/size:  1698835763353 / 1500 id  37 end ts/size:  1698835763353 / 696 id  37 chunk time:  0 idle time:  0
[LOG] index:  12 start ts/size:  1698835763353 / 1500 id  37 end ts/size:  1698835763386 / 3131 id  39 chunk time:  33 idle time:  0
[LOG] index:  13 start ts/size:  1698835763401 / 1492 id  40 end ts/size:  1698835763401 / 1209 id  40 chunk time:  0 idle time:  15
[LOG] index:  14 start ts/size:  1698835763401 / 1492 id  40 end ts/size:  1698835763454 / 5852 id  44 chunk time:  53 idle time:  0
[LOG] cur bw/size 0 756.2189054726368 57000
[LOG] real bw  756.2189054726236
[LOG] downbytes  65548 time:  693.4288421043583 true bw:  756 downloadtimeinms:  675 latency:  22
'pushing'
756
'now'
'chunk-stream2-00060'
[LOG] update buffer 1698835763459 0.8036059999999985
[LOG] update buffer 1698835763459 0.8036059999999985
[LOG] update buffer 1698835763459 0.8036059999999985
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00060.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 693.4288421043583,
  trace: [ { s: {}, d: 693.4288421043583, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 14\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835763080, bytes: 29295, id: 20, idle: 0 },
    {
      ts: 1698835763113,
      bytes: 3524,
      id: 22,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763128,
      bytes: 1072,
      id: 23,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763177,
      bytes: 4250,
      id: 26,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763177,
      bytes: 643,
      id: 26,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763209,
      bytes: 2602,
      id: 28,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763226,
      bytes: 1519,
      id: 29,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763289,
      bytes: 5871,
      id: 33,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763289,
      bytes: 598,
      id: 33,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763305,
      bytes: 1418,
      id: 34,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763353,
      bytes: 3868,
      id: 37,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763353,
      bytes: 696,
      id: 37,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763386,
      bytes: 3131,
      id: 39,
      idle: -15.868421052610872
    },
    {
      ts: 1698835763401,
      bytes: 1209,
      id: 40,
      idle: -0.7837894736636137
    },
    {
      ts: 1698835763454,
      bytes: 5852,
      id: 44,
      idle: -15.783789473663614
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  6.389422866800582 0.855370959912971 0.804 2 1000 781.4999996092499
1
0
200
-776.0000000000005
1
1
600
223.99999999999955
1
2
1000
-576.0000000000005
[LOG] [RmpcRule][video] requesting switch to index:  1 Average throughput 781 kbps
1
3
2500
-20476.981537994678
'running time/ms: '
0
'in abr rule coll, get all'
'Quality changed requested'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6121666666666667,
  averageBufferLength: 0.878153846153846,
  currentLatency: 1.529,
  currentBufferLength: 0.785,
  throughputKbps: 788,
  throughputTimestampMs: 1698835763458,
  throughputhis: 756,
  currentTimeAbsolute: 1698835763.458,
  currentTimeRelative: 29.191465,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00060.m4s',
    startTime: 29.5,
    requestStartDate: 1698835762761,
    firstByteDate: 1698835762783,
    requestEndDate: 1698835763458,
    availabilityStartTime: 1698835762137,
    wallStartTime: 1698835791637,
    bytesLoaded: 65548,
    bytesTotal: 65548,
    delayLoadingTime: 1698835762761
  }
}
{
  next_buf: 1.116040946833014,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.8601228404990403,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.6382047341650671,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.9685469789229273,
  rebuf: 0.2326961652115919,
  next_play: 0.7605225640414403
}
{
  bit: 1,
  qoe: 223.99999999999955,
  state: [ 0.8601228404990403, 1.524, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 781.4999996092499, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 781.4999996092499, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 2,
  newQuality: 1,
  reason: { throughput: 781.4999996092499, latency: 1.524 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 600000,
    width: 480,
    height: 270,
    scanType: null,
    qualityIndex: 1
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream1'
[LOG] update buffer 1698835763468 0.7946019999999976
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6116050955414014,
  averageBufferLength: 0.8776815286624202,
  currentLatency: 1.524,
  currentBufferLength: 0.804,
  throughputKbps: 788,
  throughputTimestampMs: 1698835763467,
  throughputhis: -1,
  currentTimeAbsolute: 1698835763.467,
  currentTimeRelative: 29.205153,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream1.m4s',
    startTime: null,
    requestStartDate: 1698835763462,
    firstByteDate: 1698835763462,
    requestEndDate: 1698835763467,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00061.m4s  time:  1698835763481  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00061.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 30,
    mediaStartTime: 30,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00061.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 60,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835763468,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00061.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835763623  cur buffer:  1698835763468 0.795
[LOG] update buffer 1698835763624 0.6718229999999998
[LOG] get chunk:  2  time:  1698835763638  cur buffer:  1698835763624 0.672
[LOG] update buffer 1698835763638 0.6909050000000008
[LOG] get chunk:  3  time:  1698835763651  cur buffer:  1698835763638 0.691
[LOG] get chunk:  4  time:  1698835763651  cur buffer:  1698835763638 0.691
[LOG] update buffer 1698835763652 0.7108150000000002
[LOG] update buffer 1698835763652 0.7439590000000003
[LOG] get chunk:  5  time:  1698835763694  cur buffer:  1698835763652 0.744
[LOG] get chunk:  6  time:  1698835763694  cur buffer:  1698835763652 0.744
[LOG] update buffer 1698835763695 0.7344650000000001
[LOG] update buffer 1698835763695 0.767630999999998
[LOG] get chunk:  7  time:  1698835763708  cur buffer:  1698835763695 0.768
[LOG] update buffer 1698835763709 0.7869699999999966
[LOG] update buffer 1698835763709 0.7865249999999975
[LOG] get chunk:  8  time:  1698835763750  cur buffer:  1698835763709 0.787
[LOG] get chunk:  9  time:  1698835763751  cur buffer:  1698835763709 0.787
[LOG] get chunk:  10  time:  1698835763751  cur buffer:  1698835763709 0.787
[LOG] update buffer 1698835763751 0.7780389999999997
[LOG] update buffer 1698835763751 0.811197
[LOG] update buffer 1698835763751 0.8443919999999991
[LOG] get chunk:  11  time:  1698835763779  cur buffer:  1698835763751 0.844
[LOG] update buffer 1698835763779 0.8495699999999999
[LOG] update buffer 1698835763787 0.8416579999999989
[LOG] get chunk:  12  time:  1698835763793  cur buffer:  1698835763787 0.842
[LOG] update buffer 1698835763794 0.8685779999999994
[LOG] get chunk:  13  time:  1698835763808  cur buffer:  1698835763794 0.869
[LOG] update buffer 1698835763808 0.8875519999999995
[LOG] get chunk:  14  time:  1698835763821  cur buffer:  1698835763808 0.888
[LOG] get chunk:  15  time:  1698835763822  cur buffer:  1698835763808 0.888
[LOG] index:  0 startts:  1698835763468 ts:  1698835763496 bytes:  1494 total time:  326
[LOG] index:  1 startts:  1698835763510 ts:  1698835763510 bytes:  1500 total time:  326
[LOG] index:  2 startts:  1698835763524 ts:  1698835763524 bytes:  1500 total time:  326
[LOG] index:  3 startts:  1698835763538 ts:  1698835763538 bytes:  1500 total time:  326
[LOG] index:  4 startts:  1698835763552 ts:  1698835763552 bytes:  1500 total time:  326
[LOG] index:  5 startts:  1698835763567 ts:  1698835763567 bytes:  1500 total time:  326
[LOG] index:  6 startts:  1698835763580 ts:  1698835763580 bytes:  1500 total time:  326
[LOG] index:  7 startts:  1698835763594 ts:  1698835763594 bytes:  1500 total time:  326
[LOG] index:  8 startts:  1698835763609 ts:  1698835763609 bytes:  1500 total time:  326
[LOG] index:  9 startts:  1698835763623 ts:  1698835763623 bytes:  1500 total time:  326
[LOG] index:  10 startts:  1698835763638 ts:  1698835763638 bytes:  1500 total time:  326
[LOG] index:  11 startts:  1698835763651 ts:  1698835763651 bytes:  1500 total time:  326
[LOG] index:  12 startts:  1698835763665 ts:  1698835763665 bytes:  1500 total time:  326
[LOG] index:  13 startts:  1698835763680 ts:  1698835763680 bytes:  1500 total time:  326
[LOG] index:  14 startts:  1698835763694 ts:  1698835763694 bytes:  1500 total time:  326
[LOG] index:  15 startts:  1698835763708 ts:  1698835763708 bytes:  1500 total time:  326
[LOG] index:  16 startts:  1698835763723 ts:  1698835763723 bytes:  1500 total time:  326
[LOG] index:  17 startts:  1698835763736 ts:  1698835763736 bytes:  1500 total time:  326
[LOG] index:  18 startts:  1698835763750 ts:  1698835763750 bytes:  1500 total time:  326
[LOG] index:  19 startts:  1698835763765 ts:  1698835763765 bytes:  1500 total time:  326
[LOG] index:  20 startts:  1698835763779 ts:  1698835763779 bytes:  1500 total time:  326
[LOG] index:  21 startts:  1698835763793 ts:  1698835763793 bytes:  1500 total time:  326
[LOG] index:  22 startts:  1698835763808 ts:  1698835763808 bytes:  1500 total time:  326
[LOG] index:  23 startts:  1698835763821 ts:  1698835763821 bytes:  1500 total time:  326
[LOG] index:  24 startts:  1698835763822 ts:  1698835763822 bytes:  175 total time:  326
[LOG] index:  0 start ts/size:  1698835763496 / 1494 id  1 end ts/size:  1698835763623 / 14751 id  10 chunk time:  127 idle time: 0
[LOG] index:  1 start ts/size:  1698835763623 / 1500 id  10 end ts/size:  1698835763638 / 318 id  11 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835763638 / 1500 id  11 end ts/size:  1698835763651 / 1990 id  12 chunk time:  13 idle time:  0
[LOG] index:  3 start ts/size:  1698835763651 / 1500 id  12 end ts/size:  1698835763651 / 583 id  12 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835763651 / 1500 id  12 end ts/size:  1698835763694 / 4424 id  15 chunk time:  43 idle time:  0
[LOG] index:  5 start ts/size:  1698835763694 / 1500 id  15 end ts/size:  1698835763694 / 413 id  15 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835763708 / 1500 id  16 end ts/size:  1698835763708 / 558 id  16 chunk time:  0 idle time:  14
[LOG] index:  7 start ts/size:  1698835763708 / 1500 id  16 end ts/size:  1698835763750 / 4123 id  19 chunk time:  42 idle time:  0
[LOG] index:  8 start ts/size:  1698835763750 / 1500 id  19 end ts/size:  1698835763750 / 370 id  19 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835763750 / 1500 id  19 end ts/size:  1698835763750 / 742 id  19 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835763750 / 1500 id  19 end ts/size:  1698835763779 / 3218 id  21 chunk time:  29 idle time:  0
[LOG] index:  11 start ts/size:  1698835763793 / 1500 id  22 end ts/size:  1698835763793 / 425 id  22 chunk time:  0 idle time:  14
[LOG] index:  12 start ts/size:  1698835763793 / 1500 id  22 end ts/size:  1698835763808 / 1412 id  23 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835763808 / 1500 id  23 end ts/size:  1698835763821 / 1274 id  24 chunk time:  13 idle time:  0
[LOG] index:  14 start ts/size:  1698835763821 / 1500 id  24 end ts/size:  1698835763822 / 1568 id  25 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 849.2307692307693 34500
[LOG] real bw  849.2307692307447
[LOG] downbytes  36169 time:  340.72246376772455 true bw:  849 downloadtimeinms:  329 latency:  28
'pushing'
849
'now'
'chunk-stream1-00061'
[LOG] update buffer 1698835763826 0.9031969999999987
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00061.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 340.72246376772455,
  trace: [ { s: {}, d: 340.72246376772455, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835763623, bytes: 14751, id: 10, idle: 0 },
    {
      ts: 1698835763638,
      bytes: 318,
      id: 11,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763651,
      bytes: 1990,
      id: 12,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763651,
      bytes: 583,
      id: 12,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763694,
      bytes: 4424,
      id: 15,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763694,
      bytes: 413,
      id: 15,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763708,
      bytes: 558,
      id: 16,
      idle: -0.13043478259246477
    },
    {
      ts: 1698835763750,
      bytes: 4123,
      id: 19,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763750,
      bytes: 370,
      id: 19,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763750,
      bytes: 742,
      id: 19,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763779,
      bytes: 3218,
      id: 21,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763793,
      bytes: 425,
      id: 22,
      idle: -0.13043478259246477
    },
    {
      ts: 1698835763808,
      bytes: 1412,
      id: 23,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763821,
      bytes: 1274,
      id: 24,
      idle: -14.130434782592465
    },
    {
      ts: 1698835763822,
      bytes: 1568,
      id: 25,
      idle: -14.130434782592465
    }
  ]
}
[LOG] update buffer 1698835763826 0.9360859999999995
[LOG] update buffer 1698835763826 0.9360859999999995
[LOG] update buffer 1698835763826 0.9360859999999995
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6099625,
  averageBufferLength: 0.8770062499999999,
  currentLatency: 1.524,
  currentBufferLength: 0.888,
  throughputKbps: 804,
  throughputTimestampMs: 1698835763825,
  throughputhis: 849,
  currentTimeAbsolute: 1698835763.825,
  currentTimeRelative: 29.563061,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00061.m4s',
    startTime: 30,
    requestStartDate: 1698835763468,
    firstByteDate: 1698835763496,
    requestEndDate: 1698835763825,
    availabilityStartTime: 1698835762637,
    wallStartTime: 1698835792637,
    bytesLoaded: 36169,
    bytesTotal: 36169,
    delayLoadingTime: 1698835763468
  }
}
[LOG] cal jiange, in rmpc, sum:  8.106534126057094 0.8601228404990403 0.936 1 600 802.4999995987499
1
0
200
-176.00000000000045
1
1
600
623.9999999999995
1
2
1000
23.999999999999545
1
3
2500
-14801.025855684156
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.2513894080373844,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0361682241121495,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.7529470401869155,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.747862074395542,
  rebuf: 0.037346983144042556,
  next_play: 0.7617922311104471
}
{
  bit: 1,
  qoe: 623.9999999999995,
  state: [ 1.0361682241121495, 1.524, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 802.4999995987499, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 802.4999995987499, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00062.m4s  time:  1698835763836  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00062.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 30.5,
    mediaStartTime: 30.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00062.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 61,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835763828,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00062.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835763975 0.7871120000000005
[LOG] get chunk:  1  time:  1698835764006  cur buffer:  1698835763975 0.787
[LOG] update buffer 1698835764007 0.7890890000000006
[LOG] get chunk:  2  time:  1698835764035  cur buffer:  1698835764007 0.789
[LOG] get chunk:  3  time:  1698835764035  cur buffer:  1698835764007 0.789
[LOG] update buffer 1698835764035 0.7937440000000002
[LOG] update buffer 1698835764035 0.8269009999999994
[LOG] get chunk:  4  time:  1698835764063  cur buffer:  1698835764035 0.827
[LOG] update buffer 1698835764064 0.8318480000000008
[LOG] get chunk:  5  time:  1698835764078  cur buffer:  1698835764064 0.832
[LOG] get chunk:  6  time:  1698835764078  cur buffer:  1698835764064 0.832
[LOG] update buffer 1698835764078 0.8507069999999999
[LOG] update buffer 1698835764078 0.8838669999999986
[LOG] get chunk:  7  time:  1698835764092  cur buffer:  1698835764078 0.884
[LOG] update buffer 1698835764092 0.9031769999999995
[LOG] get chunk:  8  time:  1698835764120  cur buffer:  1698835764092 0.903
[LOG] get chunk:  9  time:  1698835764120  cur buffer:  1698835764092 0.903
[LOG] update buffer 1698835764121 0.9083530000000017
[LOG] update buffer 1698835764121 0.941517000000001
[LOG] update buffer 1698835764147 0.9155990000000003
[LOG] get chunk:  10  time:  1698835764163  cur buffer:  1698835764147 0.916
[LOG] get chunk:  11  time:  1698835764163  cur buffer:  1698835764147 0.916
[LOG] update buffer 1698835764164 0.9320060000000012
[LOG] update buffer 1698835764164 0.9651730000000001
[LOG] get chunk:  12  time:  1698835764178  cur buffer:  1698835764164 0.965
[LOG] update buffer 1698835764178 0.9844650000000001
[LOG] get chunk:  13  time:  1698835764206  cur buffer:  1698835764178 0.984
[LOG] get chunk:  14  time:  1698835764206  cur buffer:  1698835764178 0.984
[LOG] get chunk:  15  time:  1698835764207  cur buffer:  1698835764178 0.984
[LOG] index:  0 startts:  1698835763828 ts:  1698835763850 bytes:  1494 total time:  357
[LOG] index:  1 startts:  1698835763864 ts:  1698835763864 bytes:  1500 total time:  357
[LOG] index:  2 startts:  1698835763878 ts:  1698835763878 bytes:  1500 total time:  357
[LOG] index:  3 startts:  1698835763892 ts:  1698835763892 bytes:  1500 total time:  357
[LOG] index:  4 startts:  1698835763907 ts:  1698835763907 bytes:  1500 total time:  357
[LOG] index:  5 startts:  1698835763920 ts:  1698835763920 bytes:  1500 total time:  357
[LOG] index:  6 startts:  1698835763949 ts:  1698835763949 bytes:  1500 total time:  357
[LOG] index:  7 startts:  1698835763964 ts:  1698835763964 bytes:  1500 total time:  357
[LOG] index:  8 startts:  1698835763978 ts:  1698835763978 bytes:  1500 total time:  357
[LOG] index:  9 startts:  1698835763992 ts:  1698835763992 bytes:  1500 total time:  357
[LOG] index:  10 startts:  1698835764006 ts:  1698835764006 bytes:  1500 total time:  357
[LOG] index:  11 startts:  1698835764020 ts:  1698835764020 bytes:  1500 total time:  357
[LOG] index:  12 startts:  1698835764035 ts:  1698835764035 bytes:  1500 total time:  357
[LOG] index:  13 startts:  1698835764049 ts:  1698835764049 bytes:  1500 total time:  357
[LOG] index:  14 startts:  1698835764063 ts:  1698835764063 bytes:  1500 total time:  357
[LOG] index:  15 startts:  1698835764078 ts:  1698835764078 bytes:  1500 total time:  357
[LOG] index:  16 startts:  1698835764092 ts:  1698835764092 bytes:  1500 total time:  357
[LOG] index:  17 startts:  1698835764106 ts:  1698835764106 bytes:  1500 total time:  357
[LOG] index:  18 startts:  1698835764120 ts:  1698835764120 bytes:  1500 total time:  357
[LOG] index:  19 startts:  1698835764134 ts:  1698835764134 bytes:  1500 total time:  357
[LOG] index:  20 startts:  1698835764149 ts:  1698835764149 bytes:  1500 total time:  357
[LOG] index:  21 startts:  1698835764163 ts:  1698835764163 bytes:  1500 total time:  357
[LOG] index:  22 startts:  1698835764177 ts:  1698835764177 bytes:  1500 total time:  357
[LOG] index:  23 startts:  1698835764192 ts:  1698835764192 bytes:  1500 total time:  357
[LOG] index:  24 startts:  1698835764206 ts:  1698835764206 bytes:  1500 total time:  357
[LOG] index:  25 startts:  1698835764207 ts:  1698835764207 bytes:  582 total time:  357
[LOG] index:  0 start ts/size:  1698835763850 / 1494 id  1 end ts/size:  1698835764006 / 16369 id  11 chunk time:  156 idle time: 0
[LOG] index:  1 start ts/size:  1698835764006 / 1500 id  11 end ts/size:  1698835764035 / 1764 id  13 chunk time:  29 idle time:  0
[LOG] index:  2 start ts/size:  1698835764035 / 1500 id  13 end ts/size:  1698835764035 / 745 id  13 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835764035 / 1500 id  13 end ts/size:  1698835764063 / 3540 id  15 chunk time:  28 idle time:  0
[LOG] index:  4 start ts/size:  1698835764078 / 1500 id  16 end ts/size:  1698835764078 / 357 id  16 chunk time:  0 idle time:  15
[LOG] index:  5 start ts/size:  1698835764078 / 1500 id  16 end ts/size:  1698835764078 / 1219 id  16 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835764092 / 1500 id  17 end ts/size:  1698835764092 / 1294 id  17 chunk time:  0 idle time:  14
[LOG] index:  7 start ts/size:  1698835764092 / 1500 id  17 end ts/size:  1698835764120 / 1914 id  19 chunk time:  28 idle time:  0
[LOG] index:  8 start ts/size:  1698835764120 / 1500 id  19 end ts/size:  1698835764120 / 499 id  19 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835764120 / 1500 id  19 end ts/size:  1698835764163 / 4203 id  22 chunk time:  43 idle time:  0
[LOG] index:  10 start ts/size:  1698835764163 / 1500 id  22 end ts/size:  1698835764163 / 445 id  22 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835764163 / 1500 id  22 end ts/size:  1698835764177 / 709 id  23 chunk time:  14 idle time:  0
[LOG] index:  12 start ts/size:  1698835764177 / 1500 id  23 end ts/size:  1698835764206 / 3330 id  25 chunk time:  29 idle time:  0
[LOG] index:  13 start ts/size:  1698835764206 / 1500 id  25 end ts/size:  1698835764206 / 384 id  25 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835764206 / 1500 id  25 end ts/size:  1698835764207 / 1304 id  26 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 808.9887640449438 36000
[LOG] real bw  808.9887640449214
[LOG] downbytes  38076 time:  376.52933333287837 true bw:  809 downloadtimeinms:  363 latency:  22
'pushing'
809
'now'
'chunk-stream1-00062'
[LOG] update buffer 1698835764214 0.9818960000000025
[LOG] update buffer 1698835764214 1.0147720000000007
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00062.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 376.52933333287837,
  trace: [ { s: {}, d: 376.52933333287837, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835764006, bytes: 16369, id: 11, idle: 0 },
    {
      ts: 1698835764035,
      bytes: 1764,
      id: 13,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764035,
      bytes: 745,
      id: 13,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764063,
      bytes: 3540,
      id: 15,
      idle: -14.833333333315409
    },
    { ts: 1698835764078, bytes: 357, id: 16, idle: 0.1666666666845913 },
    {
      ts: 1698835764078,
      bytes: 1219,
      id: 16,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764092,
      bytes: 1294,
      id: 17,
      idle: -0.8333333333154087
    },
    {
      ts: 1698835764120,
      bytes: 1914,
      id: 19,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764120,
      bytes: 499,
      id: 19,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764163,
      bytes: 4203,
      id: 22,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764163,
      bytes: 445,
      id: 22,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764177,
      bytes: 709,
      id: 23,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764206,
      bytes: 3330,
      id: 25,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764206,
      bytes: 384,
      id: 25,
      idle: -14.833333333315409
    },
    {
      ts: 1698835764207,
      bytes: 1304,
      id: 26,
      idle: -14.833333333315409
    }
  ]
}
[LOG] update buffer 1698835764215 1.0475770000000004
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6083865030674847,
  averageBufferLength: 0.8777668711656441,
  currentLatency: 1.524,
  currentBufferLength: 0.984,
  throughputKbps: 805,
  throughputTimestampMs: 1698835764213,
  throughputhis: 809,
  currentTimeAbsolute: 1698835764.213,
  currentTimeRelative: 29.951015,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00062.m4s',
    startTime: 30.5,
    requestStartDate: 1698835763828,
    firstByteDate: 1698835763850,
    requestEndDate: 1698835764213,
    availabilityStartTime: 1698835763137,
    wallStartTime: 1698835793637,
    bytesLoaded: 38076,
    bytesTotal: 38076,
    delayLoadingTime: 1698835763828
  }
}
[LOG] update buffer 1698835764215 1.0475770000000004
[LOG] update buffer 1698835764215 1.0475770000000004
[LOG] cal jiange, in rmpc, sum:  1.1289862477634252 1.0361682241121495 1.048 1 600 828.9999995855
1
0
200
-176.00000000000045
1
1
600
823.9999999999995
1
2
1000
223.99999999999955
1
3
2500
-9966.704356562519
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.3672060715118453,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.159951547868901,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.8846970242259571,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.11995114786564481,
  next_latency: 1.6639585873007254,
  rebuf: 0,
  next_play: 0.7730999168720054
}
{
  bit: 1,
  qoe: 823.9999999999995,
  state: [ 1.159951547868901, 1.524, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 828.9999995855, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 828.9999995855, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00063.m4s  time:  1698835764221  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00063.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 31,
    mediaStartTime: 31,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00063.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 62,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835764217,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00063.m4s',
    responseHeaders: 'flag: 13\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835764240 1.0219409999999982
[LOG] get chunk:  1  time:  1698835764392  cur buffer:  1698835764240 1.022
[LOG] update buffer 1698835764393 0.9030389999999997
[LOG] get chunk:  2  time:  1698835764407  cur buffer:  1698835764393 0.903
[LOG] update buffer 1698835764407 0.9221210000000006
[LOG] get chunk:  3  time:  1698835764421  cur buffer:  1698835764407 0.922
[LOG] update buffer 1698835764421 0.9411130000000014
[LOG] get chunk:  4  time:  1698835764435  cur buffer:  1698835764421 0.941
[LOG] get chunk:  5  time:  1698835764435  cur buffer:  1698835764421 0.941
[LOG] update buffer 1698835764436 0.9599569999999993
[LOG] update buffer 1698835764436 0.9931249999999991
[LOG] get chunk:  6  time:  1698835764485  cur buffer:  1698835764436 0.993
[LOG] get chunk:  7  time:  1698835764485  cur buffer:  1698835764436 0.993
[LOG] update buffer 1698835764486 0.9766379999999977
[LOG] update buffer 1698835764486 1.0098049999999965
[LOG] get chunk:  8  time:  1698835764499  cur buffer:  1698835764486 1.01
[LOG] update buffer 1698835764500 1.029164999999999
[LOG] update buffer 1698835764506 1.0228870000000008
[LOG] update buffer 1698835764506 1.0226620000000004
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 2,
  newQuality: 1,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  9  time:  1698835764528  cur buffer:  1698835764506 1.023
[LOG] get chunk:  10  time:  1698835764528  cur buffer:  1698835764506 1.023
[LOG] update buffer 1698835764529 1.0336800000000004
[LOG] update buffer 1698835764529 1.0668420000000012
[LOG] get chunk:  11  time:  1698835764543  cur buffer:  1698835764529 1.067
[LOG] update buffer 1698835764543 1.0859079999999999
[LOG] get chunk:  12  time:  1698835764556  cur buffer:  1698835764543 1.086
[LOG] update buffer 1698835764556 1.1059149999999995
[LOG] get chunk:  13  time:  1698835764585  cur buffer:  1698835764556 1.106
[LOG] get chunk:  14  time:  1698835764586  cur buffer:  1698835764556 1.106
[LOG] get chunk:  15  time:  1698835764586  cur buffer:  1698835764556 1.106
[LOG] index:  0 startts:  1698835764217 ts:  1698835764235 bytes:  1494 total time:  351
[LOG] index:  1 startts:  1698835764249 ts:  1698835764249 bytes:  1500 total time:  351
[LOG] index:  2 startts:  1698835764264 ts:  1698835764264 bytes:  1500 total time:  351
[LOG] index:  3 startts:  1698835764278 ts:  1698835764278 bytes:  1500 total time:  351
[LOG] index:  4 startts:  1698835764292 ts:  1698835764292 bytes:  1500 total time:  351
[LOG] index:  5 startts:  1698835764307 ts:  1698835764307 bytes:  1500 total time:  351
[LOG] index:  6 startts:  1698835764321 ts:  1698835764321 bytes:  1500 total time:  351
[LOG] index:  7 startts:  1698835764336 ts:  1698835764336 bytes:  1500 total time:  351
[LOG] index:  8 startts:  1698835764350 ts:  1698835764350 bytes:  1500 total time:  351
[LOG] index:  9 startts:  1698835764364 ts:  1698835764364 bytes:  1500 total time:  351
[LOG] index:  10 startts:  1698835764378 ts:  1698835764378 bytes:  1500 total time:  351
[LOG] index:  11 startts:  1698835764392 ts:  1698835764392 bytes:  1500 total time:  351
[LOG] index:  12 startts:  1698835764407 ts:  1698835764407 bytes:  1500 total time:  351
[LOG] index:  13 startts:  1698835764421 ts:  1698835764421 bytes:  1500 total time:  351
[LOG] index:  14 startts:  1698835764435 ts:  1698835764435 bytes:  1500 total time:  351
[LOG] index:  15 startts:  1698835764450 ts:  1698835764450 bytes:  1500 total time:  351
[LOG] index:  16 startts:  1698835764471 ts:  1698835764471 bytes:  1500 total time:  351
[LOG] index:  17 startts:  1698835764485 ts:  1698835764485 bytes:  1500 total time:  351
[LOG] index:  18 startts:  1698835764499 ts:  1698835764499 bytes:  1500 total time:  351
[LOG] index:  19 startts:  1698835764514 ts:  1698835764514 bytes:  1500 total time:  351
[LOG] index:  20 startts:  1698835764528 ts:  1698835764528 bytes:  1500 total time:  351
[LOG] index:  21 startts:  1698835764543 ts:  1698835764543 bytes:  1500 total time:  351
[LOG] index:  22 startts:  1698835764556 ts:  1698835764556 bytes:  1500 total time:  351
[LOG] index:  23 startts:  1698835764570 ts:  1698835764570 bytes:  1500 total time:  351
[LOG] index:  24 startts:  1698835764585 ts:  1698835764585 bytes:  1493 total time:  351
[LOG] index:  25 startts:  1698835764586 ts:  1698835764586 bytes:  1027 total time:  351
[LOG] index:  0 start ts/size:  1698835764235 / 1494 id  1 end ts/size:  1698835764392 / 16952 id  12 chunk time:  157 idle time: 0
[LOG] index:  1 start ts/size:  1698835764392 / 1500 id  12 end ts/size:  1698835764407 / 1616 id  13 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835764407 / 1500 id  13 end ts/size:  1698835764421 / 1088 id  14 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835764421 / 1500 id  14 end ts/size:  1698835764435 / 1940 id  15 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835764435 / 1500 id  15 end ts/size:  1698835764435 / 615 id  15 chunk time:  0 idle time:  0
[LOG] index:  5 start ts/size:  1698835764435 / 1500 id  15 end ts/size:  1698835764485 / 4155 id  18 chunk time:  50 idle time:  0
[LOG] index:  6 start ts/size:  1698835764485 / 1500 id  18 end ts/size:  1698835764485 / 430 id  18 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835764485 / 1500 id  18 end ts/size:  1698835764499 / 816 id  19 chunk time:  14 idle time:  0
[LOG] index:  8 start ts/size:  1698835764499 / 1500 id  19 end ts/size:  1698835764528 / 2918 id  21 chunk time:  29 idle time:  0
[LOG] index:  9 start ts/size:  1698835764528 / 1500 id  21 end ts/size:  1698835764528 / 418 id  21 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835764528 / 1500 id  21 end ts/size:  1698835764543 / 1977 id  22 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835764556 / 1500 id  23 end ts/size:  1698835764556 / 565 id  23 chunk time:  0 idle time:  13
[LOG] index:  12 start ts/size:  1698835764556 / 1500 id  23 end ts/size:  1698835764585 / 3814 id  25 chunk time:  29 idle time:  0
[LOG] index:  13 start ts/size:  1698835764585 / 1493 id  25 end ts/size:  1698835764586 / 375 id  26 chunk time:  1 idle time:  0
[LOG] index:  14 start ts/size:  1698835764586 / 1027 id  26 end ts/size:  1698835764586 / 835 id  26 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 823.8805970149253 34500
[LOG] real bw  823.8805970149015
[LOG] downbytes  38514 time:  373.9765217386874 true bw:  824 downloadtimeinms:  354 latency:  18
'pushing'
824
'now'
'chunk-stream1-00063'
[LOG] update buffer 1698835764590 1.1056179999999998
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00063.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 373.9765217386874,
  trace: [ { s: {}, d: 373.9765217386874, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 13\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835764392, bytes: 16952, id: 12, idle: 0 },
    {
      ts: 1698835764407,
      bytes: 1616,
      id: 13,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764421,
      bytes: 1088,
      id: 14,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764435,
      bytes: 1940,
      id: 15,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764435,
      bytes: 615,
      id: 15,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764485,
      bytes: 4155,
      id: 18,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764485,
      bytes: 430,
      id: 18,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764499,
      bytes: 816,
      id: 19,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764528,
      bytes: 2918,
      id: 21,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764528,
      bytes: 418,
      id: 21,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764543,
      bytes: 1977,
      id: 22,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764556,
      bytes: 565,
      id: 23,
      idle: -1.5652173912870921
    },
    {
      ts: 1698835764585,
      bytes: 3814,
      id: 25,
      idle: -14.565217391287092
    },
    {
      ts: 1698835764586,
      bytes: 375,
      id: 26,
      idle: -14.497246376794418
    },
    { ts: 1698835764586, bytes: 835, id: 26, idle: -9.972318840567896 }
  ]
}
[LOG] update buffer 1698835764590 1.1385059999999996
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.607369696969697,
  averageBufferLength: 0.8800242424242424,
  currentLatency: 1.525,
  currentBufferLength: 1.106,
  throughputKbps: 827,
  throughputTimestampMs: 1698835764590,
  throughputhis: 824,
  currentTimeAbsolute: 1698835764.59,
  currentTimeRelative: 30.327315,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00063.m4s',
    startTime: 31,
    requestStartDate: 1698835764217,
    firstByteDate: 1698835764235,
    requestEndDate: 1698835764589,
    availabilityStartTime: 1698835763637,
    wallStartTime: 1698835794637,
    bytesLoaded: 38514,
    bytesTotal: 38514,
    delayLoadingTime: 1698835764217
  }
}
[LOG] update buffer 1698835764591 1.1712859999999985
[LOG] update buffer 1698835764591 1.1712859999999985
[LOG] update buffer 1698835764591 1.1712859999999985
[LOG] cal jiange, in rmpc, sum:  0.9435057319952086 1.159951547868901 1.171 1 600 816.49999959175
1
0
200
-176.00000000000045
1
1
600
823.9999999999995
1
2
1000
423.99999999999955
1
3
2500
-8898.054329116576
'running time/ms: '
0
'in abr rule coll, get all'
{
  next_buf: 1.488526025658299,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.2775780769748946,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9986301282914879,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.18051615431325096,
  next_latency: 1.6244408335845315,
  rebuf: 0,
  next_play: 0.7895204405939735
}
{
  bit: 1,
  qoe: 823.9999999999995,
  state: [ 1.2775780769748946, 1.524, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 816.49999959175, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 816.49999959175, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00064.m4s  time:  1698835764599  cur buffer:  JSHandle@array
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00064.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 31.5,
    mediaStartTime: 31.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00064.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 63,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835764593,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00064.m4s',
    responseHeaders: 'flag: 9\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835764771  cur buffer:  1698835764591 1.171
[LOG] update buffer 1698835764771 1.0244159999999987
[LOG] update buffer 1698835764772 1.0240270000000002
[LOG] get chunk:  2  time:  1698835764785  cur buffer:  1698835764772 1.024
[LOG] update buffer 1698835764786 1.043495
[LOG] get chunk:  3  time:  1698835764799  cur buffer:  1698835764785 1.043
[LOG] update buffer 1698835764800 1.0624749999999992
[LOG] get chunk:  4  time:  1698835764814  cur buffer:  1698835764800 1.062
[LOG] update buffer 1698835764814 1.0814710000000005
[LOG] get chunk:  5  time:  1698835764857  cur buffer:  1698835764814 1.081
[LOG] get chunk:  6  time:  1698835764857  cur buffer:  1698835764814 1.081
[LOG] get chunk:  7  time:  1698835764857  cur buffer:  1698835764814 1.081
[LOG] update buffer 1698835764858 1.0712270000000004
[LOG] update buffer 1698835764858 1.1043869999999991
[LOG] update buffer 1698835764858 1.1042299999999976
[LOG] update buffer 1698835764866 1.0968429999999998
[LOG] get chunk:  8  time:  1698835764900  cur buffer:  1698835764866 1.097
[LOG] get chunk:  9  time:  1698835764900  cur buffer:  1698835764866 1.097
[LOG] update buffer 1698835764901 1.0617369999999973
[LOG] update buffer 1698835764901 1.0615699999999997
[LOG] get chunk:  10  time:  1698835764915  cur buffer:  1698835764901 1.062
[LOG] update buffer 1698835764915 1.0472959999999993
[LOG] get chunk:  11  time:  1698835764928  cur buffer:  1698835764915 1.047
[LOG] update buffer 1698835764928 1.0339169999999989
[LOG] get chunk:  12  time:  1698835764943  cur buffer:  1698835764928 1.034
[LOG] get chunk:  13  time:  1698835764943  cur buffer:  1698835764928 1.034
[LOG] update buffer 1698835764943 1.019213999999998
[LOG] update buffer 1698835764943 1.019047999999998
[LOG] get chunk:  14  time:  1698835764972  cur buffer:  1698835764943 1.019
[LOG] get chunk:  15  time:  1698835764973  cur buffer:  1698835764943 1.019
[LOG] index:  0 startts:  1698835764593 ts:  1698835764614 bytes:  1494 total time:  359
[LOG] index:  1 startts:  1698835764628 ts:  1698835764628 bytes:  1500 total time:  359
[LOG] index:  2 startts:  1698835764642 ts:  1698835764642 bytes:  1500 total time:  359
[LOG] index:  3 startts:  1698835764656 ts:  1698835764656 bytes:  1500 total time:  359
[LOG] index:  4 startts:  1698835764671 ts:  1698835764671 bytes:  1500 total time:  359
[LOG] index:  5 startts:  1698835764685 ts:  1698835764685 bytes:  1500 total time:  359
[LOG] index:  6 startts:  1698835764700 ts:  1698835764700 bytes:  1500 total time:  359
[LOG] index:  7 startts:  1698835764714 ts:  1698835764714 bytes:  1500 total time:  359
[LOG] index:  8 startts:  1698835764729 ts:  1698835764729 bytes:  1500 total time:  359
[LOG] index:  9 startts:  1698835764743 ts:  1698835764743 bytes:  1500 total time:  359
[LOG] index:  10 startts:  1698835764756 ts:  1698835764756 bytes:  1500 total time:  359
[LOG] index:  11 startts:  1698835764771 ts:  1698835764771 bytes:  1500 total time:  359
[LOG] index:  12 startts:  1698835764785 ts:  1698835764785 bytes:  1500 total time:  359
[LOG] index:  13 startts:  1698835764799 ts:  1698835764799 bytes:  1500 total time:  359
[LOG] index:  14 startts:  1698835764814 ts:  1698835764814 bytes:  1500 total time:  359
[LOG] index:  15 startts:  1698835764828 ts:  1698835764828 bytes:  1500 total time:  359
[LOG] index:  16 startts:  1698835764842 ts:  1698835764842 bytes:  1500 total time:  359
[LOG] index:  17 startts:  1698835764857 ts:  1698835764857 bytes:  1500 total time:  359
[LOG] index:  18 startts:  1698835764871 ts:  1698835764871 bytes:  1500 total time:  359
[LOG] index:  19 startts:  1698835764886 ts:  1698835764886 bytes:  1500 total time:  359
[LOG] index:  20 startts:  1698835764900 ts:  1698835764900 bytes:  1493 total time:  359
[LOG] index:  21 startts:  1698835764915 ts:  1698835764915 bytes:  1493 total time:  359
[LOG] index:  22 startts:  1698835764928 ts:  1698835764928 bytes:  1493 total time:  359
[LOG] index:  23 startts:  1698835764943 ts:  1698835764943 bytes:  1486 total time:  359
[LOG] index:  24 startts:  1698835764957 ts:  1698835764957 bytes:  1500 total time:  359
[LOG] index:  25 startts:  1698835764972 ts:  1698835764972 bytes:  1493 total time:  359
[LOG] index:  26 startts:  1698835764973 ts:  1698835764973 bytes:  236 total time:  359
[LOG] index:  0 start ts/size:  1698835764614 / 1494 id  1 end ts/size:  1698835764771 / 17161 id  12 chunk time:  157 idle time: 0
[LOG] index:  1 start ts/size:  1698835764771 / 1500 id  12 end ts/size:  1698835764785 / 1330 id  13 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835764785 / 1500 id  13 end ts/size:  1698835764799 / 2318 id  14 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835764799 / 1500 id  14 end ts/size:  1698835764814 / 464 id  15 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835764814 / 1500 id  15 end ts/size:  1698835764857 / 4652 id  18 chunk time:  43 idle time:  0
[LOG] index:  5 start ts/size:  1698835764857 / 1500 id  18 end ts/size:  1698835764857 / 391 id  18 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835764857 / 1500 id  18 end ts/size:  1698835764857 / 678 id  18 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835764871 / 1500 id  19 end ts/size:  1698835764900 / 3061 id  21 chunk time:  29 idle time:  14
[LOG] index:  8 start ts/size:  1698835764900 / 1493 id  21 end ts/size:  1698835764900 / 428 id  21 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835764900 / 1493 id  21 end ts/size:  1698835764915 / 1629 id  22 chunk time:  15 idle time:  0
[LOG] index:  10 start ts/size:  1698835764915 / 1493 id  22 end ts/size:  1698835764928 / 891 id  23 chunk time:  13 idle time:  0
[LOG] index:  11 start ts/size:  1698835764928 / 1493 id  23 end ts/size:  1698835764943 / 2472 id  24 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835764943 / 1486 id  24 end ts/size:  1698835764943 / 465 id  24 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835764957 / 1500 id  25 end ts/size:  1698835764972 / 2896 id  26 chunk time:  15 idle time:  14
[LOG] index:  14 start ts/size:  1698835764972 / 1493 id  26 end ts/size:  1698835764973 / 352 id  27 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 838.2352941176471 28500
[LOG] real bw  838.2352941176176
[LOG] downbytes  39188 time:  374.0047719293915 true bw:  838 downloadtimeinms:  362 latency:  21
'pushing'
838
'now'
'chunk-stream1-00064'
[LOG] update buffer 1698835764977 0.9851439999999982
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00064.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 374.0047719293915,
  trace: [ { s: {}, d: 374.0047719293915, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 9\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835764771, bytes: 17161, id: 12, idle: 0 },
    {
      ts: 1698835764785,
      bytes: 1330,
      id: 13,
      idle: -14.315789473667635
    },
    {
      ts: 1698835764799,
      bytes: 2318,
      id: 14,
      idle: -14.315789473667635
    },
    {
      ts: 1698835764814,
      bytes: 464,
      id: 15,
      idle: -14.315789473667635
    },
    {
      ts: 1698835764857,
      bytes: 4652,
      id: 18,
      idle: -14.315789473667635
    },
    {
      ts: 1698835764857,
      bytes: 391,
      id: 18,
      idle: -14.315789473667635
    },
    {
      ts: 1698835764857,
      bytes: 678,
      id: 18,
      idle: -14.315789473667635
    },
    {
      ts: 1698835764900,
      bytes: 3061,
      id: 21,
      idle: -0.31578947366763543
    },
    {
      ts: 1698835764900,
      bytes: 428,
      id: 21,
      idle: -14.248982456123853
    },
    {
      ts: 1698835764915,
      bytes: 1629,
      id: 22,
      idle: -14.248982456123853
    },
    {
      ts: 1698835764928,
      bytes: 891,
      id: 23,
      idle: -14.248982456123853
    },
    {
      ts: 1698835764943,
      bytes: 2472,
      id: 24,
      idle: -14.248982456123853
    },
    {
      ts: 1698835764943,
      bytes: 465,
      id: 24,
      idle: -14.182175438580071
    },
    {
      ts: 1698835764972,
      bytes: 2896,
      id: 26,
      idle: -0.31578947366763543
    },
    {
      ts: 1698835764973,
      bytes: 352,
      id: 27,
      idle: -14.248982456123853
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.605892857142857,
  averageBufferLength: 0.8835535714285714,
  currentLatency: 1.525,
  currentBufferLength: 1.019,
  throughputKbps: 824,
  throughputTimestampMs: 1698835764977,
  throughputhis: 838,
  currentTimeAbsolute: 1698835764.977,
  currentTimeRelative: 30.71423,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00064.m4s',
    startTime: 31.5,
    requestStartDate: 1698835764593,
    firstByteDate: 1698835764614,
    requestEndDate: 1698835764976,
    availabilityStartTime: 1698835764137,
    wallStartTime: 1698835795637,
    bytesLoaded: 39188,
    bytesTotal: 39188,
    delayLoadingTime: 1698835764593
  }
}
[LOG] update buffer 1698835764979 0.9833079999999974
[LOG] update buffer 1698835764979 0.9833079999999974
[LOG] update buffer 1698835764979 0.9833079999999974
[LOG] cal jiange, in rmpc, sum:  29.967250933389835 1.2775780769748946 0.983 1 600 830.9999995845
1
0
200
-176.00000000000045
1
1
600
823.9999999999995
1
2
1000
223.99999999999955
1
3
2500
-11146.649535593773
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.302663056498196,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0959891694945854,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.8213152824909746,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.0816582263620723,
  next_latency: 1.6868700201346354,
  rebuf: 0,
  next_play: 0.7594705335918291
}
{
  bit: 1,
  qoe: 823.9999999999995,
  state: [ 1.0959891694945854, 1.524, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 830.9999995845, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 830.9999995845, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00065.m4s  time:  1698835764993  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00065.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 32,
    mediaStartTime: 32,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00065.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 64,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835764980,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00065.m4s',
    responseHeaders: 'flag: 5\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835765037 0.9250699999999981
[LOG] get chunk:  1  time:  1698835765164  cur buffer:  1698835765037 0.925
[LOG] update buffer 1698835765165 1.1308359999999986
[LOG] get chunk:  2  time:  1698835765179  cur buffer:  1698835765165 1.131
[LOG] update buffer 1698835765179 1.1496249999999968
[LOG] get chunk:  3  time:  1698835765207  cur buffer:  1698835765179 1.15
[LOG] get chunk:  4  time:  1698835765207  cur buffer:  1698835765179 1.15
[LOG] update buffer 1698835765207 1.1551129999999965
[LOG] update buffer 1698835765207 1.1882739999999998
[LOG] get chunk:  5  time:  1698835765221  cur buffer:  1698835765207 1.188
[LOG] update buffer 1698835765221 1.207609999999999
[LOG] update buffer 1698835765225 1.2041699999999977
[LOG] get chunk:  6  time:  1698835765235  cur buffer:  1698835765225 1.204
[LOG] update buffer 1698835765236 1.2265699999999988
[LOG] get chunk:  7  time:  1698835765264  cur buffer:  1698835765236 1.227
[LOG] get chunk:  8  time:  1698835765264  cur buffer:  1698835765236 1.227
[LOG] update buffer 1698835765265 1.2309480000000015
[LOG] update buffer 1698835765265 1.2641080000000002
[LOG] get chunk:  9  time:  1698835765279  cur buffer:  1698835765265 1.264
[LOG] update buffer 1698835765279 1.2833949999999987
[LOG] update buffer 1698835765303 1.2593899999999998
[LOG] get chunk:  10  time:  1698835765307  cur buffer:  1698835765303 1.259
[LOG] get chunk:  11  time:  1698835765307  cur buffer:  1698835765303 1.259
[LOG] update buffer 1698835765308 1.2878800000000048
[LOG] update buffer 1698835765308 1.3210150000000027
[LOG] get chunk:  12  time:  1698835765336  cur buffer:  1698835765308 1.321
[LOG] get chunk:  13  time:  1698835765336  cur buffer:  1698835765308 1.321
[LOG] get chunk:  14  time:  1698835765336  cur buffer:  1698835765308 1.321
[LOG] update buffer 1698835765337 1.3255820000000007
[LOG] update buffer 1698835765337 1.358743999999998
[LOG] update buffer 1698835765337 1.3919279999999965
[LOG] get chunk:  15  time:  1698835765350  cur buffer:  1698835765337 1.392
[LOG] index:  0 startts:  1698835764980 ts:  1698835765007 bytes:  1494 total time:  343
[LOG] index:  1 startts:  1698835765021 ts:  1698835765021 bytes:  1500 total time:  343
[LOG] index:  2 startts:  1698835765035 ts:  1698835765035 bytes:  1500 total time:  343
[LOG] index:  3 startts:  1698835765050 ts:  1698835765050 bytes:  1500 total time:  343
[LOG] index:  4 startts:  1698835765064 ts:  1698835765064 bytes:  1500 total time:  343
[LOG] index:  5 startts:  1698835765078 ts:  1698835765078 bytes:  1500 total time:  343
[LOG] index:  6 startts:  1698835765092 ts:  1698835765092 bytes:  1500 total time:  343
[LOG] index:  7 startts:  1698835765107 ts:  1698835765107 bytes:  1500 total time:  343
[LOG] index:  8 startts:  1698835765122 ts:  1698835765122 bytes:  1500 total time:  343
[LOG] index:  9 startts:  1698835765135 ts:  1698835765135 bytes:  1500 total time:  343
[LOG] index:  10 startts:  1698835765150 ts:  1698835765150 bytes:  1500 total time:  343
[LOG] index:  11 startts:  1698835765164 ts:  1698835765164 bytes:  1500 total time:  343
[LOG] index:  12 startts:  1698835765179 ts:  1698835765179 bytes:  1500 total time:  343
[LOG] index:  13 startts:  1698835765192 ts:  1698835765192 bytes:  1500 total time:  343
[LOG] index:  14 startts:  1698835765207 ts:  1698835765207 bytes:  1500 total time:  343
[LOG] index:  15 startts:  1698835765221 ts:  1698835765221 bytes:  1493 total time:  343
[LOG] index:  16 startts:  1698835765235 ts:  1698835765235 bytes:  1493 total time:  343
[LOG] index:  17 startts:  1698835765250 ts:  1698835765250 bytes:  1500 total time:  343
[LOG] index:  18 startts:  1698835765264 ts:  1698835765264 bytes:  1486 total time:  343
[LOG] index:  19 startts:  1698835765279 ts:  1698835765279 bytes:  1493 total time:  343
[LOG] index:  20 startts:  1698835765293 ts:  1698835765293 bytes:  1500 total time:  343
[LOG] index:  21 startts:  1698835765307 ts:  1698835765307 bytes:  1486 total time:  343
[LOG] index:  22 startts:  1698835765322 ts:  1698835765322 bytes:  1500 total time:  343
[LOG] index:  23 startts:  1698835765336 ts:  1698835765336 bytes:  1486 total time:  343
[LOG] index:  24 startts:  1698835765336 ts:  1698835765336 bytes:  1116 total time:  343
[LOG] index:  25 startts:  1698835765350 ts:  1698835765350 bytes:  997 total time:  343
[LOG] index:  0 start ts/size:  1698835765007 / 1494 id  1 end ts/size:  1698835765164 / 17331 id  12 chunk time:  157 idle time: 0
[LOG] index:  1 start ts/size:  1698835765164 / 1500 id  12 end ts/size:  1698835765179 / 1165 id  13 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835765179 / 1500 id  13 end ts/size:  1698835765207 / 2670 id  15 chunk time:  28 idle time:  0
[LOG] index:  3 start ts/size:  1698835765207 / 1500 id  15 end ts/size:  1698835765207 / 563 id  15 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835765207 / 1500 id  15 end ts/size:  1698835765221 / 2233 id  16 chunk time:  14 idle time:  0
[LOG] index:  5 start ts/size:  1698835765235 / 1493 id  17 end ts/size:  1698835765235 / 443 id  17 chunk time:  0 idle time:  14
[LOG] index:  6 start ts/size:  1698835765235 / 1493 id  17 end ts/size:  1698835765264 / 3359 id  19 chunk time:  29 idle time:  0
[LOG] index:  7 start ts/size:  1698835765264 / 1486 id  19 end ts/size:  1698835765264 / 403 id  19 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835765264 / 1486 id  19 end ts/size:  1698835765279 / 1076 id  20 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835765279 / 1493 id  20 end ts/size:  1698835765307 / 2437 id  22 chunk time:  28 idle time:  0
[LOG] index:  10 start ts/size:  1698835765307 / 1486 id  22 end ts/size:  1698835765307 / 479 id  22 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835765307 / 1486 id  22 end ts/size:  1698835765336 / 2858 id  24 chunk time:  29 idle time:  0
[LOG] index:  12 start ts/size:  1698835765336 / 1486 id  24 end ts/size:  1698835765336 / 435 id  24 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835765336 / 1486 id  24 end ts/size:  1698835765336 / 1595 id  25 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835765350 / 997 id  26 end ts/size:  1698835765350 / 997 id  26 chunk time:  0 idle time:  14
[LOG] cur bw/size 0 840 21000
[LOG] real bw  839.99999999996
[LOG] downbytes  38044 time:  362.3238095233954 true bw:  840 downloadtimeinms:  347 latency:  27
'pushing'
840
'now'
'chunk-stream1-00065'
[LOG] update buffer 1698835765355 1.407581000000004
[LOG] update buffer 1698835765355 1.407581000000004
[LOG] update buffer 1698835765355 1.407581000000004
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00065.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 362.3238095233954,
  trace: [ { s: {}, d: 362.3238095233954, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 5\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835765164, bytes: 17331, id: 12, idle: 0 },
    {
      ts: 1698835765179,
      bytes: 1165,
      id: 13,
      idle: -14.285714285697958
    },
    {
      ts: 1698835765207,
      bytes: 2670,
      id: 15,
      idle: -14.285714285697958
    },
    {
      ts: 1698835765207,
      bytes: 563,
      id: 15,
      idle: -14.285714285697958
    },
    {
      ts: 1698835765221,
      bytes: 2233,
      id: 16,
      idle: -14.285714285697958
    },
    {
      ts: 1698835765235,
      bytes: 443,
      id: 17,
      idle: -0.21904761903136638
    },
    {
      ts: 1698835765264,
      bytes: 3359,
      id: 19,
      idle: -14.219047619031366
    },
    {
      ts: 1698835765264,
      bytes: 403,
      id: 19,
      idle: -14.152380952364776
    },
    {
      ts: 1698835765279,
      bytes: 1076,
      id: 20,
      idle: -14.152380952364776
    },
    {
      ts: 1698835765307,
      bytes: 2437,
      id: 22,
      idle: -14.219047619031366
    },
    {
      ts: 1698835765307,
      bytes: 479,
      id: 22,
      idle: -14.152380952364776
    },
    {
      ts: 1698835765336,
      bytes: 2858,
      id: 24,
      idle: -14.152380952364776
    },
    {
      ts: 1698835765336,
      bytes: 435,
      id: 24,
      idle: -14.152380952364776
    },
    {
      ts: 1698835765336,
      bytes: 1595,
      id: 25,
      idle: -14.152380952364776
    },
    { ts: 1698835765350, bytes: 997, id: 26, idle: 4.504761904772758 }
  ]
}
[LOG] cal jiange, in rmpc, sum:  22.159860105384656 1.0959891694945854 1.408 1 600 838.9999995805
1
0
200
-176.00000000000045
1
1
600
823.9999999999995
[LOG] [RmpcRule][video] requesting switch to index:  2 Average throughput 839 kbps
1
2
1000
1023.9999999999994
1
3
2500
-4565.403783672955
'running time/ms: '
0
'in abr rule coll, get all'
'Quality changed requested'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6044795321637426,
  averageBufferLength: 0.8886666666666666,
  currentLatency: 1.528,
  currentBufferLength: 1.392,
  throughputKbps: 834,
  throughputTimestampMs: 1698835765354,
  throughputhis: 840,
  currentTimeAbsolute: 1698835765.354,
  currentTimeRelative: 31.088337,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00065.m4s',
    startTime: 32,
    requestStartDate: 1698835764980,
    firstByteDate: 1698835765007,
    requestEndDate: 1698835765354,
    availabilityStartTime: 1698835764637,
    wallStartTime: 1698835796637,
    bytesLoaded: 38044,
    bytesTotal: 38044,
    delayLoadingTime: 1698835764980
  }
}
{
  next_buf: 1.7243057267126303,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.5199267039474338,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.247547681182237,
  next_latency: 1.524,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.3693733755582467,
  next_latency: 1.539747029745499,
  rebuf: 0,
  next_play: 0.909632609658409
}
{
  bit: 2,
  qoe: 1023.9999999999994,
  state: [ 1.247547681182237, 1.524, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 838.9999995805, latency: 1.524 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 838.9999995805, latency: 1.524 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 1,
  newQuality: 2,
  reason: { throughput: 838.9999995805, latency: 1.524 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 1000000,
    width: 640,
    height: 360,
    scanType: null,
    qualityIndex: 2
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream2'
[LOG] update buffer 1698835765402 1.3601990000000015
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 3,
  averageLatency: 1.6035549132947977,
  averageBufferLength: 0.8946705202312139,
  currentLatency: 1.525,
  currentBufferLength: 1.408,
  throughputKbps: 834,
  throughputTimestampMs: 1698835765402,
  throughputhis: -1,
  currentTimeAbsolute: 1698835765.402,
  currentTimeRelative: 31.139242,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream2.m4s',
    startTime: null,
    requestStartDate: 1698835765358,
    firstByteDate: 1698835765358,
    requestEndDate: 1698835765401,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 834,
    bytesTotal: 834,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00066.m4s  time:  1698835765408  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00066.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 32.5,
    mediaStartTime: 32.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00066.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 65,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835765402,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00066.m4s',
    responseHeaders: 'flag: 3\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835765569 1.1937630000000041
[LOG] update buffer 1698835765584 1.1781270000000035
[LOG] get chunk:  1  time:  1698835765727  cur buffer:  1698835765584 1.178
[LOG] update buffer 1698835765728 1.0681309999999975
[LOG] get chunk:  2  time:  1698835765741  cur buffer:  1698835765728 1.068
[LOG] update buffer 1698835765742 1.0872819999999983
[LOG] get chunk:  3  time:  1698835765769  cur buffer:  1698835765742 1.087
[LOG] update buffer 1698835765769 1.0929189999999984
[LOG] get chunk:  4  time:  1698835765783  cur buffer:  1698835765769 1.093
[LOG] update buffer 1698835765784 1.111941999999999
[LOG] get chunk:  5  time:  1698835765826  cur buffer:  1698835765784 1.112
[LOG] update buffer 1698835765827 1.1022549999999995
[LOG] update buffer 1698835765834 1.094816999999999
[LOG] get chunk:  6  time:  1698835765840  cur buffer:  1698835765834 1.095
[LOG] update buffer 1698835765840 1.1222439999999985
[LOG] get chunk:  7  time:  1698835765854  cur buffer:  1698835765840 1.122
[LOG] update buffer 1698835765854 1.1412640000000032
[LOG] get chunk:  8  time:  1698835765883  cur buffer:  1698835765854 1.141
[LOG] update buffer 1698835765883 1.1455990000000007
[LOG] get chunk:  9  time:  1698835765897  cur buffer:  1698835765883 1.146
[LOG] update buffer 1698835765898 1.1645949999999985
[LOG] update buffer 1698835765934 1.1289879999999997
[LOG] Stall now with currentBuffer=1.129
[LOG] get chunk:  10  time:  1698835765939  cur buffer:  1698835765934 1.129
[LOG] update buffer 1698835765940 1.1623220000000032
[LOG] update buffer 1698835765944 1.1623220000000032
[LOG] get chunk:  11  time:  1698835765954  cur buffer:  1698835765944 1.162
[LOG] update buffer 1698835765954 1.1956550000000021
[LOG] get chunk:  12  time:  1698835765968  cur buffer:  1698835765954 1.196
[LOG] update buffer 1698835765968 1.228988000000001
[LOG] get chunk:  13  time:  1698835766010  cur buffer:  1698835765968 1.229
[LOG] update buffer 1698835766010 1.2623219999999975
[LOG] get chunk:  14  time:  1698835766039  cur buffer:  1698835766010 1.262
[LOG] get chunk:  15  time:  1698835766040  cur buffer:  1698835766010 1.262
[LOG] index:  0 startts:  1698835765402 ts:  1698835765422 bytes:  1494 total time:  618
[LOG] index:  1 startts:  1698835765436 ts:  1698835765436 bytes:  1500 total time:  618
[LOG] index:  2 startts:  1698835765450 ts:  1698835765450 bytes:  1500 total time:  618
[LOG] index:  3 startts:  1698835765465 ts:  1698835765465 bytes:  1500 total time:  618
[LOG] index:  4 startts:  1698835765479 ts:  1698835765479 bytes:  1500 total time:  618
[LOG] index:  5 startts:  1698835765493 ts:  1698835765493 bytes:  1500 total time:  618
[LOG] index:  6 startts:  1698835765515 ts:  1698835765515 bytes:  1500 total time:  618
[LOG] index:  7 startts:  1698835765529 ts:  1698835765529 bytes:  1500 total time:  618
[LOG] index:  8 startts:  1698835765542 ts:  1698835765542 bytes:  1500 total time:  618
[LOG] index:  9 startts:  1698835765557 ts:  1698835765557 bytes:  1500 total time:  618
[LOG] index:  10 startts:  1698835765571 ts:  1698835765571 bytes:  1500 total time:  618
[LOG] index:  11 startts:  1698835765585 ts:  1698835765585 bytes:  1500 total time:  618
[LOG] index:  12 startts:  1698835765600 ts:  1698835765600 bytes:  1500 total time:  618
[LOG] index:  13 startts:  1698835765613 ts:  1698835765613 bytes:  1500 total time:  618
[LOG] index:  14 startts:  1698835765628 ts:  1698835765628 bytes:  1500 total time:  618
[LOG] index:  15 startts:  1698835765642 ts:  1698835765642 bytes:  1500 total time:  618
[LOG] index:  16 startts:  1698835765656 ts:  1698835765656 bytes:  1500 total time:  618
[LOG] index:  17 startts:  1698835765671 ts:  1698835765671 bytes:  1500 total time:  618
[LOG] index:  18 startts:  1698835765684 ts:  1698835765684 bytes:  1500 total time:  618
[LOG] index:  19 startts:  1698835765698 ts:  1698835765698 bytes:  1500 total time:  618
[LOG] index:  20 startts:  1698835765713 ts:  1698835765713 bytes:  1500 total time:  618
[LOG] index:  21 startts:  1698835765727 ts:  1698835765727 bytes:  1500 total time:  618
[LOG] index:  22 startts:  1698835765741 ts:  1698835765741 bytes:  1500 total time:  618
[LOG] index:  23 startts:  1698835765756 ts:  1698835765756 bytes:  1500 total time:  618
[LOG] index:  24 startts:  1698835765769 ts:  1698835765769 bytes:  1493 total time:  618
[LOG] index:  25 startts:  1698835765783 ts:  1698835765783 bytes:  1492 total time:  618
[LOG] index:  26 startts:  1698835765798 ts:  1698835765798 bytes:  1500 total time:  618
[LOG] index:  27 startts:  1698835765812 ts:  1698835765812 bytes:  1500 total time:  618
[LOG] index:  28 startts:  1698835765826 ts:  1698835765826 bytes:  1493 total time:  618
[LOG] index:  29 startts:  1698835765840 ts:  1698835765840 bytes:  1493 total time:  618
[LOG] index:  30 startts:  1698835765854 ts:  1698835765854 bytes:  1493 total time:  618
[LOG] index:  31 startts:  1698835765869 ts:  1698835765869 bytes:  1500 total time:  618
[LOG] index:  32 startts:  1698835765883 ts:  1698835765883 bytes:  1493 total time:  618
[LOG] index:  33 startts:  1698835765897 ts:  1698835765897 bytes:  1492 total time:  618
[LOG] index:  34 startts:  1698835765911 ts:  1698835765911 bytes:  1500 total time:  618
[LOG] index:  35 startts:  1698835765925 ts:  1698835765925 bytes:  1500 total time:  618
[LOG] index:  36 startts:  1698835765939 ts:  1698835765939 bytes:  1493 total time:  618
[LOG] index:  37 startts:  1698835765954 ts:  1698835765954 bytes:  1493 total time:  618
[LOG] index:  38 startts:  1698835765968 ts:  1698835765968 bytes:  1492 total time:  618
[LOG] index:  39 startts:  1698835765982 ts:  1698835765982 bytes:  1500 total time:  618
[LOG] index:  40 startts:  1698835765996 ts:  1698835765996 bytes:  1500 total time:  618
[LOG] index:  41 startts:  1698835766010 ts:  1698835766010 bytes:  1493 total time:  618
[LOG] index:  42 startts:  1698835766039 ts:  1698835766039 bytes:  1493 total time:  618
[LOG] index:  43 startts:  1698835766040 ts:  1698835766040 bytes:  597 total time:  618
[LOG] index:  0 start ts/size:  1698835765422 / 1494 id  1 end ts/size:  1698835765727 / 32139 id  22 chunk time:  305 idle time: 0
[LOG] index:  1 start ts/size:  1698835765727 / 1500 id  22 end ts/size:  1698835765741 / 1744 id  23 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835765741 / 1500 id  23 end ts/size:  1698835765769 / 3525 id  25 chunk time:  28 idle time:  0
[LOG] index:  3 start ts/size:  1698835765783 / 1492 id  26 end ts/size:  1698835765783 / 905 id  26 chunk time:  0 idle time:  14
[LOG] index:  4 start ts/size:  1698835765783 / 1492 id  26 end ts/size:  1698835765826 / 4906 id  29 chunk time:  43 idle time:  0
[LOG] index:  5 start ts/size:  1698835765826 / 1493 id  29 end ts/size:  1698835765840 / 610 id  30 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835765840 / 1493 id  30 end ts/size:  1698835765854 / 1968 id  31 chunk time:  14 idle time:  0
[LOG] index:  7 start ts/size:  1698835765854 / 1493 id  31 end ts/size:  1698835765883 / 2697 id  33 chunk time:  29 idle time:  0
[LOG] index:  8 start ts/size:  1698835765883 / 1493 id  33 end ts/size:  1698835765897 / 1266 id  34 chunk time:  14 idle time:  0
[LOG] index:  9 start ts/size:  1698835765897 / 1492 id  34 end ts/size:  1698835765939 / 5562 id  37 chunk time:  42 idle time:  0
[LOG] index:  10 start ts/size:  1698835765939 / 1493 id  37 end ts/size:  1698835765954 / 640 id  38 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835765954 / 1493 id  38 end ts/size:  1698835765968 / 1263 id  39 chunk time:  14 idle time:  0
[LOG] index:  12 start ts/size:  1698835765968 / 1492 id  39 end ts/size:  1698835766010 / 5267 id  42 chunk time:  42 idle time:  0
[LOG] index:  13 start ts/size:  1698835766010 / 1493 id  42 end ts/size:  1698835766039 / 554 id  43 chunk time:  29 idle time:  0
[LOG] index:  14 start ts/size:  1698835766039 / 1493 id  43 end ts/size:  1698835766040 / 1958 id  44 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 826.3473053892216 34500
[LOG] real bw  826.3473053891977
[LOG] downbytes  65004 time:  629.3140869557784 true bw:  826 downloadtimeinms:  623 latency:  20
'pushing'
826
'now'
'chunk-stream2-00066'
[LOG] update buffer 1698835766045 1.2956549999999964
[LOG] update buffer 1698835766045 1.3289880000000025
[LOG] update buffer 1698835766046 1.3289880000000025
[LOG] update buffer 1698835766046 1.3289880000000025
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00066.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 629.3140869557784,
  trace: [ { s: {}, d: 629.3140869557784, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 3\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835765727, bytes: 32139, id: 22, idle: 0 },
    {
      ts: 1698835765741,
      bytes: 1744,
      id: 23,
      idle: -14.521739130417629
    },
    {
      ts: 1698835765769,
      bytes: 3525,
      id: 25,
      idle: -14.521739130417629
    },
    {
      ts: 1698835765783,
      bytes: 905,
      id: 26,
      idle: -0.44428985505540197
    },
    {
      ts: 1698835765826,
      bytes: 4906,
      id: 29,
      idle: -14.444289855055402
    },
    { ts: 1698835765840, bytes: 610, id: 30, idle: -14.45397101447568 },
    {
      ts: 1698835765854,
      bytes: 1968,
      id: 31,
      idle: -14.45397101447568
    },
    {
      ts: 1698835765883,
      bytes: 2697,
      id: 33,
      idle: -14.45397101447568
    },
    {
      ts: 1698835765897,
      bytes: 1266,
      id: 34,
      idle: -14.45397101447568
    },
    {
      ts: 1698835765939,
      bytes: 5562,
      id: 37,
      idle: -14.444289855055402
    },
    { ts: 1698835765954, bytes: 640, id: 38, idle: -14.45397101447568 },
    {
      ts: 1698835765968,
      bytes: 1263,
      id: 39,
      idle: -14.45397101447568
    },
    {
      ts: 1698835766010,
      bytes: 5267,
      id: 42,
      idle: -14.444289855055402
    },
    { ts: 1698835766039, bytes: 554, id: 43, idle: -14.45397101447568 },
    {
      ts: 1698835766040,
      bytes: 1958,
      id: 44,
      idle: -14.45397101447568
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  6.12884264533292 1.247547681182237 1.329 2 1000 832.9999995835
1
0
200
-2858.6154824424198
1
1
600
-1596.2320005306847
1
2
1000
-408.8254109457208
1
3
2500
-8334.85418925705
'running time/ms: '
1
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: null, quality: [Object] }
  ],
  stallDurationMs: 545.0999999977648,
  numStalls: 4,
  averageLatency: 1.602717514124294,
  averageBufferLength: 0.9014632768361581,
  currentLatency: 1.636,
  currentBufferLength: 1.262,
  throughputKbps: 835,
  throughputTimestampMs: 1698835766045,
  throughputhis: 826,
  currentTimeAbsolute: 1698835766.045,
  currentTimeRelative: 31.671011,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00066.m4s',
    startTime: 32.5,
    requestStartDate: 1698835765402,
    firstByteDate: 1698835765422,
    requestEndDate: 1698835766045,
    availabilityStartTime: 1698835765137,
    wallStartTime: 1698835797637,
    bytesLoaded: 65004,
    bytesTotal: 65004,
    delayLoadingTime: 1698835765402
  }
}
{
  next_buf: 1.6429485627295002,
  next_latency: 1.630996581997206,
  rebuf: 0,
  next_play: 1.098912238243584
}
{
  next_buf: 1.3908456881884976,
  next_latency: 1.6189897459916172,
  rebuf: 0,
  next_play: 1.0866998840867654
}
{
  next_buf: 1.1740294934432363,
  next_latency: 1.6082695897817705,
  rebuf: 0,
  next_play: 1.0845202604037447
}
{
  next_buf: 0.2910428811087218,
  next_latency: 1.65964312195506,
  rebuf: 0,
  next_play: 0.8593389821818426
}
{
  bit: 2,
  qoe: -408.8254109457208,
  state: [ 1.1740294934432363, 1.6082695897817705, 1.0845202604037447 ]
}
[
  {
    quality: 2,
    reason: { throughput: 832.9999995835, latency: 1.637 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 832.9999995835, latency: 1.637 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00067.m4s  time:  1698835766053  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00067.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 33,
    mediaStartTime: 33,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00067.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 66,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835766047,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00067.m4s',
    responseHeaders: 'flag: 7\r\n'
  },
  reader: {}
}
[WARNING] [23412][GapController] Jumping gap occuring in period 0 starting at 31.699999 and ending at 32. Jumping by: 0.30000100000000174 
[LOG] Stall now with currentBuffer=1.329
[LOG] update buffer 1698835766165 0.9998830000000041
[LOG] update buffer 1698835766303 0.8622630000000058
[LOG] get chunk:  1  time:  1698835766368  cur buffer:  1698835766303 0.862
[LOG] update buffer 1698835766368 0.8339110000000005
[LOG] get chunk:  2  time:  1698835766382  cur buffer:  1698835766368 0.834
[LOG] update buffer 1698835766382 0.8538190000000014
[LOG] get chunk:  3  time:  1698835766411  cur buffer:  1698835766382 0.854
[LOG] update buffer 1698835766411 0.8600449999999995
[LOG] get chunk:  4  time:  1698835766425  cur buffer:  1698835766411 0.86
[LOG] update buffer 1698835766425 0.8798069999999996
[LOG] update buffer 1698835766428 0.877406999999998
[LOG] get chunk:  5  time:  1698835766454  cur buffer:  1698835766428 0.877
[LOG] update buffer 1698835766454 0.8860299999999981
[LOG] get chunk:  6  time:  1698835766468  cur buffer:  1698835766454 0.886
[LOG] update buffer 1698835766468 0.9057999999999993
[LOG] get chunk:  7  time:  1698835766497  cur buffer:  1698835766468 0.906
[LOG] update buffer 1698835766497 0.9120220000000003
[LOG] get chunk:  8  time:  1698835766511  cur buffer:  1698835766497 0.912
[LOG] update buffer 1698835766511 0.9317920000000015
[LOG] get chunk:  9  time:  1698835766575  cur buffer:  1698835766511 0.932
[LOG] get chunk:  10  time:  1698835766576  cur buffer:  1698835766511 0.932
[LOG] update buffer 1698835766577 0.9030709999999971
[LOG] update buffer 1698835766577 0.9362080000000006
[LOG] get chunk:  11  time:  1698835766590  cur buffer:  1698835766577 0.936
[LOG] update buffer 1698835766590 0.9574250000000006
[LOG] get chunk:  12  time:  1698835766646  cur buffer:  1698835766590 0.957
[LOG] update buffer 1698835766647 0.9371750000000034
[LOG] get chunk:  13  time:  1698835766661  cur buffer:  1698835766647 0.937
[LOG] update buffer 1698835766661 0.956947999999997
[LOG] update buffer 1698835766663 0.9556729999999973
[LOG] get chunk:  14  time:  1698835766675  cur buffer:  1698835766662 0.956
[LOG] update buffer 1698835766675 0.9765349999999984
[LOG] get chunk:  15  time:  1698835766690  cur buffer:  1698835766675 0.977
[LOG] index:  0 startts:  1698835766047 ts:  1698835766067 bytes:  1494 total time:  623
[LOG] index:  1 startts:  1698835766082 ts:  1698835766082 bytes:  1500 total time:  623
[LOG] index:  2 startts:  1698835766096 ts:  1698835766096 bytes:  1500 total time:  623
[LOG] index:  3 startts:  1698835766111 ts:  1698835766111 bytes:  1500 total time:  623
[LOG] index:  4 startts:  1698835766124 ts:  1698835766124 bytes:  1500 total time:  623
[LOG] index:  5 startts:  1698835766138 ts:  1698835766138 bytes:  1500 total time:  623
[LOG] index:  6 startts:  1698835766153 ts:  1698835766153 bytes:  1500 total time:  623
[LOG] index:  7 startts:  1698835766170 ts:  1698835766170 bytes:  1500 total time:  623
[LOG] index:  8 startts:  1698835766182 ts:  1698835766182 bytes:  1500 total time:  623
[LOG] index:  9 startts:  1698835766196 ts:  1698835766196 bytes:  1500 total time:  623
[LOG] index:  10 startts:  1698835766211 ts:  1698835766211 bytes:  1500 total time:  623
[LOG] index:  11 startts:  1698835766225 ts:  1698835766225 bytes:  1500 total time:  623
[LOG] index:  12 startts:  1698835766239 ts:  1698835766239 bytes:  1500 total time:  623
[LOG] index:  13 startts:  1698835766254 ts:  1698835766254 bytes:  1500 total time:  623
[LOG] index:  14 startts:  1698835766268 ts:  1698835766268 bytes:  1500 total time:  623
[LOG] index:  15 startts:  1698835766281 ts:  1698835766281 bytes:  1500 total time:  623
[LOG] index:  16 startts:  1698835766296 ts:  1698835766296 bytes:  1500 total time:  623
[LOG] index:  17 startts:  1698835766310 ts:  1698835766310 bytes:  1500 total time:  623
[LOG] index:  18 startts:  1698835766324 ts:  1698835766324 bytes:  1500 total time:  623
[LOG] index:  19 startts:  1698835766339 ts:  1698835766339 bytes:  1500 total time:  623
[LOG] index:  20 startts:  1698835766353 ts:  1698835766353 bytes:  1500 total time:  623
[LOG] index:  21 startts:  1698835766368 ts:  1698835766368 bytes:  1500 total time:  623
[LOG] index:  22 startts:  1698835766382 ts:  1698835766382 bytes:  1500 total time:  623
[LOG] index:  23 startts:  1698835766396 ts:  1698835766396 bytes:  1500 total time:  623
[LOG] index:  24 startts:  1698835766411 ts:  1698835766411 bytes:  1500 total time:  623
[LOG] index:  25 startts:  1698835766425 ts:  1698835766425 bytes:  1500 total time:  623
[LOG] index:  26 startts:  1698835766439 ts:  1698835766439 bytes:  1500 total time:  623
[LOG] index:  27 startts:  1698835766454 ts:  1698835766454 bytes:  1500 total time:  623
[LOG] index:  28 startts:  1698835766468 ts:  1698835766468 bytes:  1500 total time:  623
[LOG] index:  29 startts:  1698835766482 ts:  1698835766482 bytes:  1500 total time:  623
[LOG] index:  30 startts:  1698835766497 ts:  1698835766497 bytes:  1493 total time:  623
[LOG] index:  31 startts:  1698835766511 ts:  1698835766511 bytes:  1492 total time:  623
[LOG] index:  32 startts:  1698835766525 ts:  1698835766525 bytes:  1500 total time:  623
[LOG] index:  33 startts:  1698835766540 ts:  1698835766540 bytes:  1500 total time:  623
[LOG] index:  34 startts:  1698835766561 ts:  1698835766561 bytes:  1500 total time:  623
[LOG] index:  35 startts:  1698835766575 ts:  1698835766575 bytes:  1486 total time:  623
[LOG] index:  36 startts:  1698835766590 ts:  1698835766590 bytes:  1492 total time:  623
[LOG] index:  37 startts:  1698835766604 ts:  1698835766604 bytes:  1500 total time:  623
[LOG] index:  38 startts:  1698835766618 ts:  1698835766618 bytes:  1500 total time:  623
[LOG] index:  39 startts:  1698835766632 ts:  1698835766632 bytes:  1500 total time:  623
[LOG] index:  40 startts:  1698835766646 ts:  1698835766646 bytes:  1493 total time:  623
[LOG] index:  41 startts:  1698835766661 ts:  1698835766661 bytes:  1493 total time:  623
[LOG] index:  42 startts:  1698835766675 ts:  1698835766675 bytes:  1493 total time:  623
[LOG] index:  43 startts:  1698835766689 ts:  1698835766689 bytes:  1500 total time:  623
[LOG] index:  44 startts:  1698835766690 ts:  1698835766690 bytes:  360 total time:  623
[LOG] index:  0 start ts/size:  1698835766067 / 1494 id  1 end ts/size:  1698835766368 / 31626 id  22 chunk time:  301 idle time: 0
[LOG] index:  1 start ts/size:  1698835766368 / 1500 id  22 end ts/size:  1698835766382 / 1780 id  23 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835766382 / 1500 id  23 end ts/size:  1698835766411 / 4020 id  25 chunk time:  29 idle time:  0
[LOG] index:  3 start ts/size:  1698835766425 / 1500 id  26 end ts/size:  1698835766425 / 750 id  26 chunk time:  0 idle time:  14
[LOG] index:  4 start ts/size:  1698835766425 / 1500 id  26 end ts/size:  1698835766454 / 3652 id  28 chunk time:  29 idle time:  0
[LOG] index:  5 start ts/size:  1698835766454 / 1500 id  28 end ts/size:  1698835766468 / 668 id  29 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835766468 / 1500 id  29 end ts/size:  1698835766497 / 2968 id  31 chunk time:  29 idle time:  0
[LOG] index:  7 start ts/size:  1698835766497 / 1493 id  31 end ts/size:  1698835766511 / 1232 id  32 chunk time:  14 idle time:  0
[LOG] index:  8 start ts/size:  1698835766511 / 1492 id  32 end ts/size:  1698835766575 / 6069 id  36 chunk time:  64 idle time:  0
[LOG] index:  9 start ts/size:  1698835766575 / 1486 id  36 end ts/size:  1698835766575 / 648 id  36 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835766575 / 1486 id  36 end ts/size:  1698835766590 / 1201 id  37 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835766590 / 1492 id  37 end ts/size:  1698835766646 / 6274 id  41 chunk time:  56 idle time:  0
[LOG] index:  12 start ts/size:  1698835766646 / 1493 id  41 end ts/size:  1698835766661 / 703 id  42 chunk time:  15 idle time:  0
[LOG] index:  13 start ts/size:  1698835766661 / 1493 id  42 end ts/size:  1698835766675 / 1381 id  43 chunk time:  14 idle time:  0
[LOG] index:  14 start ts/size:  1698835766675 / 1493 id  43 end ts/size:  1698835766690 / 3324 id  45 chunk time:  15 idle time:  0
[LOG] cur bw/size 0 838.5542168674699 43500
[LOG] real bw  838.5542168674507
[LOG] downbytes  66296 time:  632.4790804590303 true bw:  839 downloadtimeinms:  628 latency:  20
'pushing'
839
[LOG] update buffer 1698835766695 0.9906520000000043
[LOG] update buffer 1698835766695 0.9906520000000043
'now'
'chunk-stream2-00067'
[LOG] update buffer 1698835766696 0.9906520000000043
[LOG] update buffer 1698835766696 0.9904130000000038
'Quality changed'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00067.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 632.4790804590303,
  trace: [ { s: {}, d: 632.4790804590303, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 7\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835766368, bytes: 31626, id: 22, idle: 0 },
    {
      ts: 1698835766382,
      bytes: 1780,
      id: 23,
      idle: -14.31034482756947
    },
    {
      ts: 1698835766411,
      bytes: 4020,
      id: 25,
      idle: -14.31034482756947
    },
    {
      ts: 1698835766425,
      bytes: 750,
      id: 26,
      idle: -0.3103448275694696
    },
    {
      ts: 1698835766454,
      bytes: 3652,
      id: 28,
      idle: -14.31034482756947
    },
    { ts: 1698835766468, bytes: 668, id: 29, idle: -14.31034482756947 },
    {
      ts: 1698835766497,
      bytes: 2968,
      id: 31,
      idle: -14.31034482756947
    },
    {
      ts: 1698835766511,
      bytes: 1232,
      id: 32,
      idle: -14.243563218374145
    },
    {
      ts: 1698835766575,
      bytes: 6069,
      id: 36,
      idle: -14.234022988489098
    },
    {
      ts: 1698835766575,
      bytes: 648,
      id: 36,
      idle: -14.176781609178821
    },
    {
      ts: 1698835766590,
      bytes: 1201,
      id: 37,
      idle: -14.176781609178821
    },
    {
      ts: 1698835766646,
      bytes: 6274,
      id: 41,
      idle: -14.234022988489098
    },
    {
      ts: 1698835766661,
      bytes: 703,
      id: 42,
      idle: -14.243563218374145
    },
    {
      ts: 1698835766675,
      bytes: 1381,
      id: 43,
      idle: -14.243563218374145
    },
    {
      ts: 1698835766690,
      bytes: 3324,
      id: 45,
      idle: -14.243563218374145
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  18.588837702762415 1.1740294934432363 0.99 2 1000 832.49999958375
1
0
200
-1927.004767422708
[LOG] [RmpcRule][video] requesting switch to index:  0 Average throughput 832 kbps
'running time/ms: '
1
'in abr rule coll, get all'
'Quality changed requested'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5990828729281772,
  averageBufferLength: 0.9024696132596685,
  currentLatency: 1.452,
  currentBufferLength: 0.977,
  throughputKbps: 835,
  throughputTimestampMs: 1698835766695,
  throughputhis: 839,
  currentTimeAbsolute: 1698835766.695,
  currentTimeRelative: 32.504752,
  segmentBitrateKbps: 1000,
  playbackSpeed: 0.9597442570207273,
  segmentStallDurationMs: 2.600000001490116,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00067.m4s',
    startTime: 33,
    requestStartDate: 1698835766047,
    firstByteDate: 1698835766067,
    requestEndDate: 1698835766695,
    availabilityStartTime: 1698835765637,
    wallStartTime: 1698835798637,
    bytesLoaded: 66296,
    bytesTotal: 66296,
    delayLoadingTime: 1698835766047
  }
}
{
  mediaType: 'video',
  oldQuality: 1,
  newQuality: 2,
  streamId: '0',
  type: 'qualityChangeRendered'
}
{
  next_buf: 1.3171307490831898,
  next_latency: 1.4552508692633692,
  rebuf: 0,
  next_play: 0.9597442570207273
}
{
  bit: 0,
  qoe: -1927.004767422708,
  state: [ 1.3171307490831898, 1.4552508692633692, 0.9597442570207273 ]
}
[
  {
    quality: 0,
    reason: { throughput: 832.49999958375, latency: 1.448 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 832.49999958375, latency: 1.448 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 2,
  newQuality: 0,
  reason: { throughput: 832.49999958375, latency: 1.448 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 200000,
    width: 320,
    height: 180,
    scanType: null,
    qualityIndex: 0
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream0'
[LOG] update buffer 1698835766705 0.9811740000000029
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.598258241758242,
  averageBufferLength: 0.9029505494505494,
  currentLatency: 1.449,
  currentBufferLength: 0.99,
  throughputKbps: 835,
  throughputTimestampMs: 1698835766705,
  throughputhis: -1,
  currentTimeAbsolute: 1698835766.705,
  currentTimeRelative: 32.518442,
  segmentBitrateKbps: 200,
  playbackSpeed: 0.9597442570207273,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream0.m4s',
    startTime: null,
    requestStartDate: 1698835766699,
    firstByteDate: 1698835766699,
    requestEndDate: 1698835766705,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00068.m4s  time:  1698835766718  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00068.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 33.5,
    mediaStartTime: 33.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00068.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 67,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835766705,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00068.m4s',
    responseHeaders: 'flag: 12\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835766775  cur buffer:  1698835766705 0.981
[LOG] update buffer 1698835766776 0.9470969999999994
[LOG] get chunk:  2  time:  1698835766789  cur buffer:  1698835766775 0.947
[LOG] get chunk:  3  time:  1698835766789  cur buffer:  1698835766775 0.947
[LOG] get chunk:  4  time:  1698835766790  cur buffer:  1698835766775 0.947
[LOG] update buffer 1698835766790 0.9666169999999994
[LOG] update buffer 1698835766790 0.9997879999999952
[LOG] update buffer 1698835766790 1.0329869999999985
[LOG] get chunk:  5  time:  1698835766818  cur buffer:  1698835766790 1.033
[LOG] get chunk:  6  time:  1698835766818  cur buffer:  1698835766790 1.033
[LOG] get chunk:  7  time:  1698835766818  cur buffer:  1698835766790 1.033
[LOG] get chunk:  8  time:  1698835766818  cur buffer:  1698835766790 1.033
[LOG] update buffer 1698835766819 1.0390530000000027
[LOG] update buffer 1698835766819 1.072215
[LOG] update buffer 1698835766819 1.105404
[LOG] update buffer 1698835766819 1.1386030000000034
[LOG] get chunk:  9  time:  1698835766832  cur buffer:  1698835766819 1.139
[LOG] get chunk:  10  time:  1698835766832  cur buffer:  1698835766819 1.139
[LOG] get chunk:  11  time:  1698835766832  cur buffer:  1698835766819 1.139
[LOG] update buffer 1698835766833 1.1587800000000001
[LOG] update buffer 1698835766833 1.1919580000000067
[LOG] update buffer 1698835766833 1.2251580000000004
[LOG] get chunk:  12  time:  1698835766847  cur buffer:  1698835766833 1.225
[LOG] get chunk:  13  time:  1698835766847  cur buffer:  1698835766833 1.225
[LOG] update buffer 1698835766847 1.2451790000000003
[LOG] update buffer 1698835766847 1.2783599999999993
[LOG] get chunk:  14  time:  1698835766856  cur buffer:  1698835766847 1.278
[LOG] get chunk:  15  time:  1698835766856  cur buffer:  1698835766847 1.278
[LOG] index:  0 startts:  1698835766706 ts:  1698835766733 bytes:  1494 total time:  122
[LOG] index:  1 startts:  1698835766746 ts:  1698835766746 bytes:  1500 total time:  122
[LOG] index:  2 startts:  1698835766761 ts:  1698835766761 bytes:  1500 total time:  122
[LOG] index:  3 startts:  1698835766775 ts:  1698835766775 bytes:  1500 total time:  122
[LOG] index:  4 startts:  1698835766789 ts:  1698835766789 bytes:  1500 total time:  122
[LOG] index:  5 startts:  1698835766804 ts:  1698835766804 bytes:  1500 total time:  122
[LOG] index:  6 startts:  1698835766818 ts:  1698835766818 bytes:  1500 total time:  122
[LOG] index:  7 startts:  1698835766832 ts:  1698835766832 bytes:  1500 total time:  122
[LOG] index:  8 startts:  1698835766847 ts:  1698835766847 bytes:  1487 total time:  122
[LOG] index:  9 startts:  1698835766855 ts:  1698835766855 bytes:  740 total time:  122
[LOG] index:  0 start ts/size:  1698835766733 / 1494 id  1 end ts/size:  1698835766775 / 5904 id  4 chunk time:  42 idle time: 0
[LOG] index:  1 start ts/size:  1698835766789 / 1500 id  5 end ts/size:  1698835766789 / 329 id  5 chunk time:  0 idle time:  14
[LOG] index:  2 start ts/size:  1698835766789 / 1500 id  5 end ts/size:  1698835766789 / 766 id  5 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835766789 / 1500 id  5 end ts/size:  1698835766789 / 300 id  5 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835766789 / 1500 id  5 end ts/size:  1698835766818 / 1947 id  7 chunk time:  29 idle time:  0
[LOG] index:  5 start ts/size:  1698835766818 / 1500 id  7 end ts/size:  1698835766818 / 219 id  7 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835766818 / 1500 id  7 end ts/size:  1698835766818 / 316 id  7 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835766818 / 1500 id  7 end ts/size:  1698835766818 / 552 id  7 chunk time:  0 idle time:  0
[LOG] index:  8 start ts/size:  1698835766818 / 1500 id  7 end ts/size:  1698835766832 / 400 id  8 chunk time:  14 idle time:  0
[LOG] index:  9 start ts/size:  1698835766832 / 1500 id  8 end ts/size:  1698835766832 / 915 id  8 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835766832 / 1500 id  8 end ts/size:  1698835766832 / 254 id  8 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835766847 / 1487 id  9 end ts/size:  1698835766847 / 1111 id  9 chunk time:  0 idle time:  15
[LOG] index:  12 start ts/size:  1698835766847 / 1487 id  9 end ts/size:  1698835766847 / 238 id  9 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835766847 / 1487 id  9 end ts/size:  1698835766855 / 639 id  10 chunk time:  8 idle time:  0
[LOG] index:  14 start ts/size:  1698835766855 / 740 id  10 end ts/size:  1698835766855 / 331 id  10 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 848.4848484848485 10500
[LOG] real bw  848.4848484847678
[LOG] downbytes  14221 time:  134.08371428556902 true bw:  848 downloadtimeinms:  125 latency:  27
'pushing'
848
[LOG] update buffer 1698835766859 1.3004039999999932
[LOG] update buffer 1698835766859 1.3335690000000042
[LOG] update buffer 1698835766859 1.3335690000000042
'now'
'chunk-stream0-00068'
[LOG] update buffer 1698835766859 1.3335690000000042
[LOG] cal jiange, in rmpc, sum:  1.2645615370438248 1.3171307490831898 1.334 0 200 843.4999995782499
1
0
200
-987.3635891041447
'running time/ms: '
0
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00068.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 134.08371428556902,
  trace: [ { s: {}, d: 134.08371428556902, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 12\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835766775, bytes: 5904, id: 4, idle: 0 },
    { ts: 1698835766789, bytes: 329, id: 5, idle: -0.1428571428418195 },
    { ts: 1698835766789, bytes: 766, id: 5, idle: -14.14285714284182 },
    { ts: 1698835766789, bytes: 300, id: 5, idle: -14.14285714284182 },
    { ts: 1698835766818, bytes: 1947, id: 7, idle: -14.14285714284182 },
    { ts: 1698835766818, bytes: 219, id: 7, idle: -14.14285714284182 },
    { ts: 1698835766818, bytes: 316, id: 7, idle: -14.14285714284182 },
    { ts: 1698835766818, bytes: 552, id: 7, idle: -14.14285714284182 },
    { ts: 1698835766832, bytes: 400, id: 8, idle: -14.14285714284182 },
    { ts: 1698835766832, bytes: 915, id: 8, idle: -14.14285714284182 },
    { ts: 1698835766832, bytes: 254, id: 8, idle: -14.14285714284182 },
    { ts: 1698835766847, bytes: 1111, id: 9, idle: 0.9797142857294752 },
    { ts: 1698835766847, bytes: 238, id: 9, idle: -14.020285714270525 },
    {
      ts: 1698835766855,
      bytes: 639,
      id: 10,
      idle: -14.020285714270525
    },
    { ts: 1698835766855, bytes: 331, id: 10, idle: -6.977142857135298 }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5966902173913047,
  averageBufferLength: 0.905695652173913,
  currentLatency: 1.457,
  currentBufferLength: 1.278,
  throughputKbps: 838,
  throughputTimestampMs: 1698835766859,
  throughputhis: 848,
  currentTimeAbsolute: 1698835766.859,
  currentTimeRelative: 32.663335,
  segmentBitrateKbps: 200,
  playbackSpeed: 0.9597442570207273,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00068.m4s',
    startTime: 33.5,
    requestStartDate: 1698835766706,
    firstByteDate: 1698835766733,
    requestEndDate: 1698835766858,
    availabilityStartTime: 1698835766137,
    wallStartTime: 1698835799637,
    bytesLoaded: 14221,
    bytesTotal: 14221,
    delayLoadingTime: 1698835766705
  }
}
{
  next_buf: 1.6943251936602162,
  next_latency: 1.459858553529821,
  rebuf: 0,
  next_play: 0.9597442570207273
}
{
  bit: 0,
  qoe: -987.3635891041447,
  state: [ 1.6943251936602162, 1.459858553529821, 0.9597442570207273 ]
}
[
  {
    quality: 0,
    reason: { throughput: 843.4999995782499, latency: 1.454 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 843.4999995782499, latency: 1.454 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00069.m4s  time:  1698835766876  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00069.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 34,
    mediaStartTime: 34,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00069.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 68,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835766860,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00069.m4s',
    responseHeaders: 'flag: 2\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835766933  cur buffer:  1698835766859 1.334
[LOG] get chunk:  2  time:  1698835766933  cur buffer:  1698835766859 1.334
[LOG] get chunk:  3  time:  1698835766934  cur buffer:  1698835766859 1.334
[LOG] get chunk:  4  time:  1698835766934  cur buffer:  1698835766859 1.334
[LOG] update buffer 1698835766934 1.2948939999999993
[LOG] update buffer 1698835766934 1.3280539999999945
[LOG] update buffer 1698835766934 1.3612369999999956
[LOG] update buffer 1698835766935 1.394440000000003
[LOG] update buffer 1698835766959 1.3707959999999986
[LOG] get chunk:  5  time:  1698835766977  cur buffer:  1698835766959 1.371
[LOG] update buffer 1698835766977 1.387129999999999
[LOG] get chunk:  6  time:  1698835766997  cur buffer:  1698835766977 1.387
[LOG] update buffer 1698835766997 1.4007170000000002
[LOG] update buffer 1698835767022 1.3774219999999957
[LOG] get chunk:  7  time:  1698835767033  cur buffer:  1698835767022 1.377
[LOG] update buffer 1698835767033 1.3998470000000012
[LOG] get chunk:  8  time:  1698835767064  cur buffer:  1698835767033 1.4
[LOG] update buffer 1698835767064 1.4031120000000001
[LOG] get chunk:  9  time:  1698835767098  cur buffer:  1698835767064 1.403
[LOG] update buffer 1698835767099 1.4032809999999998
[LOG] get chunk:  10  time:  1698835767154  cur buffer:  1698835767099 1.403
[LOG] update buffer 1698835767155 1.3831249999999997
[LOG] get chunk:  11  time:  1698835767165  cur buffer:  1698835767155 1.383
[LOG] update buffer 1698835767165 1.4066359999999989
[LOG] get chunk:  12  time:  1698835767199  cur buffer:  1698835767165 1.407
[LOG] update buffer 1698835767199 1.4074439999999981
[LOG] update buffer 1698835767225 1.3825280000000006
[LOG] get chunk:  13  time:  1698835767232  cur buffer:  1698835767225 1.383
[LOG] update buffer 1698835767233 1.4081819999999965
[LOG] get chunk:  14  time:  1698835767268  cur buffer:  1698835767233 1.408
[LOG] update buffer 1698835767269 1.4064459999999954
[LOG] get chunk:  15  time:  1698835767300  cur buffer:  1698835767269 1.406
[LOG] index:  0 startts:  1698835766860 ts:  1698835766890 bytes:  1494 total time:  410
[LOG] index:  1 startts:  1698835766904 ts:  1698835766904 bytes:  1500 total time:  410
[LOG] index:  2 startts:  1698835766919 ts:  1698835766919 bytes:  1500 total time:  410
[LOG] index:  3 startts:  1698835766933 ts:  1698835766933 bytes:  1500 total time:  410
[LOG] index:  4 startts:  1698835766933 ts:  1698835766933 bytes:  883 total time:  410
[LOG] index:  5 startts:  1698835766934 ts:  1698835766934 bytes:  341 total time:  410
[LOG] index:  6 startts:  1698835766977 ts:  1698835766977 bytes:  1364 total time:  410
[LOG] index:  7 startts:  1698835766997 ts:  1698835766997 bytes:  202 total time:  410
[LOG] index:  8 startts:  1698835767033 ts:  1698835767033 bytes:  413 total time:  410
[LOG] index:  9 startts:  1698835767064 ts:  1698835767064 bytes:  786 total time:  410
[LOG] index:  10 startts:  1698835767098 ts:  1698835767098 bytes:  229 total time:  410
[LOG] index:  11 startts:  1698835767140 ts:  1698835767140 bytes:  1448 total time:  410
[LOG] index:  12 startts:  1698835767154 ts:  1698835767154 bytes:  322 total time:  410
[LOG] index:  13 startts:  1698835767165 ts:  1698835767165 bytes:  200 total time:  410
[LOG] index:  14 startts:  1698835767198 ts:  1698835767198 bytes:  336 total time:  410
[LOG] index:  15 startts:  1698835767232 ts:  1698835767232 bytes:  707 total time:  410
[LOG] index:  16 startts:  1698835767268 ts:  1698835767268 bytes:  346 total time:  410
[LOG] index:  17 startts:  1698835767300 ts:  1698835767300 bytes:  766 total time:  410
[LOG] index:  0 start ts/size:  1698835766890 / 1494 id  1 end ts/size:  1698835766933 / 5784 id  4 chunk time:  43 idle time: 0
[LOG] index:  1 start ts/size:  1698835766933 / 1500 id  4 end ts/size:  1698835766933 / 340 id  5 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835766933 / 883 id  5 end ts/size:  1698835766933 / 753 id  5 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835766934 / 341 id  6 end ts/size:  1698835766934 / 341 id  6 chunk time:  0 idle time:  1
[LOG] index:  4 start ts/size:  1698835766977 / 1364 id  7 end ts/size:  1698835766977 / 1364 id  7 chunk time:  0 idle time:  43
[LOG] index:  5 start ts/size:  1698835766997 / 202 id  8 end ts/size:  1698835766997 / 202 id  8 chunk time:  0 idle time:  20
[LOG] index:  6 start ts/size:  1698835767033 / 413 id  9 end ts/size:  1698835767033 / 413 id  9 chunk time:  0 idle time:  36
[LOG] index:  7 start ts/size:  1698835767064 / 786 id  10 end ts/size:  1698835767064 / 786 id  10 chunk time:  0 idle time:  31
[LOG] index:  8 start ts/size:  1698835767098 / 229 id  11 end ts/size:  1698835767098 / 229 id  11 chunk time:  0 idle time:  34
[LOG] index:  9 start ts/size:  1698835767140 / 1448 id  12 end ts/size:  1698835767154 / 1770 id  13 chunk time:  14 idle time:  42
[LOG] index:  10 start ts/size:  1698835767165 / 200 id  14 end ts/size:  1698835767165 / 200 id  14 chunk time:  0 idle time:  11
[LOG] index:  11 start ts/size:  1698835767198 / 336 id  15 end ts/size:  1698835767198 / 336 id  15 chunk time:  0 idle time:  33
[LOG] index:  12 start ts/size:  1698835767232 / 707 id  16 end ts/size:  1698835767232 / 707 id  16 chunk time:  0 idle time:  34
[LOG] index:  13 start ts/size:  1698835767268 / 346 id  17 end ts/size:  1698835767268 / 346 id  17 chunk time:  0 idle time:  36
[LOG] index:  14 start ts/size:  1698835767300 / 766 id  18 end ts/size:  1698835767300 / 766 id  18 chunk time:  0 idle time:  32
[LOG] cur bw/size 0 837.2093023255813 4500
[LOG] real bw  837.2093023253951
[LOG] downbytes  14337 time:  136.99799999986683 true bw:  837 downloadtimeinms:  413 latency:  30
'pushing'
837
'now'
'chunk-stream0-00069'
[LOG] update buffer 1698835767304 1.405298000000002
[LOG] update buffer 1698835767304 1.405298000000002
[LOG] update buffer 1698835767304 1.405298000000002
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00069.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 136.99799999986683,
  trace: [ { s: {}, d: 136.99799999986683, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 2\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835766933, bytes: 5784, id: 4, idle: 0 },
    { ts: 1698835766933, bytes: 340, id: 5, idle: -14.3333333333194 },
    { ts: 1698835766933, bytes: 753, id: 5, idle: -8.437555555547354 },
    { ts: 1698835766934, bytes: 341, id: 6, idle: -2.258444444441277 },
    { ts: 1698835766977, bytes: 1364, id: 7, idle: 29.96622222223489 },
    { ts: 1698835766997, bytes: 202, id: 8, idle: 18.069777777779656 },
    { ts: 1698835767033, bytes: 413, id: 9, idle: 32.05355555555939 },
    { ts: 1698835767064, bytes: 786, id: 10, idle: 23.489333333340635 },
    { ts: 1698835767098, bytes: 229, id: 11, idle: 31.811777777779906 },
    {
      ts: 1698835767154,
      bytes: 1770,
      id: 13,
      idle: 28.163555555569005
    },
    { ts: 1698835767165, bytes: 200, id: 14, idle: 9.088888888890747 },
    { ts: 1698835767198, bytes: 336, id: 15, idle: 29.789333333336455 },
    { ts: 1698835767232, bytes: 707, id: 16, idle: 27.24422222222879 },
    { ts: 1698835767268, bytes: 346, id: 17, idle: 32.693777777780994 },
    { ts: 1698835767300, bytes: 766, id: 18, idle: 24.68044444445156 }
  ]
}
[LOG] cal jiange, in rmpc, sum:  20.592540459380125 1.6943251936602162 1.405 0 200 842.49999957875
1
0
200
-32.176705089397814
'running time/ms: '
0
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5946149732620323,
  averageBufferLength: 0.9136256684491978,
  currentLatency: 1.474,
  currentBufferLength: 1.406,
  throughputKbps: 841,
  throughputTimestampMs: 1698835767303,
  throughputhis: 837,
  currentTimeAbsolute: 1698835767.303,
  currentTimeRelative: 33.091205,
  segmentBitrateKbps: 200,
  playbackSpeed: 0.9775420927937502,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00069.m4s',
    startTime: 34,
    requestStartDate: 1698835766860,
    firstByteDate: 1698835766890,
    requestEndDate: 1698835767303,
    availabilityStartTime: 1698835766637,
    wallStartTime: 1698835800637,
    bytesLoaded: 14337,
    bytesTotal: 14337,
    delayLoadingTime: 1698835766860
  }
}
{
  next_buf: 1.474914052988507,
  next_latency: 1.4736593039546084,
  rebuf: 0,
  next_play: 1
}
{
  bit: 0,
  qoe: -32.176705089397814,
  state: [ 1.474914052988507, 1.4736593039546084, 1 ]
}
[
  {
    quality: 0,
    reason: { throughput: 842.49999957875, latency: 1.472 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 0,
  reason: { throughput: 842.49999957875, latency: 1.472 },
  priority: 0.5,
  getClassName: {}
}
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream0-00070.m4s  time:  1698835767312  cur buffer:  JSHandle@array
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00070.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 34.5,
    mediaStartTime: 34.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00070.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 0,
    index: 69,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835767305,
    responseType: 'arraybuffer',
    representationId: '0',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream0-00070.m4s',
    responseHeaders: 'flag: 0\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835767381 1.329769000000006
[LOG] get chunk:  1  time:  1698835767383  cur buffer:  1698835767381 1.33
[LOG] update buffer 1698835767385 1.3595279999999974
[LOG] get chunk:  2  time:  1698835767426  cur buffer:  1698835767385 1.36
[LOG] get chunk:  3  time:  1698835767426  cur buffer:  1698835767385 1.36
[LOG] update buffer 1698835767427 1.3509749999999983
[LOG] update buffer 1698835767427 1.3841259999999949
[LOG] get chunk:  4  time:  1698835767441  cur buffer:  1698835767427 1.384
[LOG] update buffer 1698835767442 1.4024130000000028
[LOG] update buffer 1698835767491 1.3537760000000034
[LOG] get chunk:  5  time:  1698835767497  cur buffer:  1698835767491 1.354
[LOG] update buffer 1698835767498 1.3796820000000025
[LOG] get chunk:  6  time:  1698835767508  cur buffer:  1698835767498 1.38
[LOG] update buffer 1698835767509 1.402031000000001
[LOG] get chunk:  7  time:  1698835767542  cur buffer:  1698835767509 1.402
[LOG] update buffer 1698835767542 1.4018230000000003
[LOG] get chunk:  8  time:  1698835767583  cur buffer:  1698835767542 1.402
[LOG] update buffer 1698835767583 1.3941480000000013
[LOG] get chunk:  9  time:  1698835767609  cur buffer:  1698835767583 1.394
[LOG] update buffer 1698835767610 1.401204
[LOG] get chunk:  10  time:  1698835767642  cur buffer:  1698835767610 1.401
[LOG] update buffer 1698835767643 1.4014270000000053
[LOG] get chunk:  11  time:  1698835767676  cur buffer:  1698835767643 1.401
[LOG] update buffer 1698835767677 1.4008480000000034
[LOG] get chunk:  12  time:  1698835767718  cur buffer:  1698835767677 1.401
[LOG] update buffer 1698835767719 1.3922230000000013
[LOG] update buffer 1698835767741 1.370116000000003
[LOG] get chunk:  13  time:  1698835767746  cur buffer:  1698835767741 1.37
[LOG] update buffer 1698835767747 1.3975419999999943
[LOG] update buffer 1698835767756 1.3880020000000002
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 2,
  newQuality: 0,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  14  time:  1698835767778  cur buffer:  1698835767756 1.388
[LOG] update buffer 1698835767778 1.3990949999999955
[LOG] get chunk:  15  time:  1698835767812  cur buffer:  1698835767778 1.399
[LOG] index:  0 startts:  1698835767306 ts:  1698835767354 bytes:  1494 total time:  458
[LOG] index:  1 startts:  1698835767369 ts:  1698835767369 bytes:  1500 total time:  458
[LOG] index:  2 startts:  1698835767383 ts:  1698835767383 bytes:  1500 total time:  458
[LOG] index:  3 startts:  1698835767383 ts:  1698835767383 bytes:  1296 total time:  458
[LOG] index:  4 startts:  1698835767426 ts:  1698835767426 bytes:  1057 total time:  458
[LOG] index:  5 startts:  1698835767441 ts:  1698835767441 bytes:  317 total time:  458
[LOG] index:  6 startts:  1698835767483 ts:  1698835767483 bytes:  1448 total time:  458
[LOG] index:  7 startts:  1698835767497 ts:  1698835767497 bytes:  202 total time:  458
[LOG] index:  8 startts:  1698835767508 ts:  1698835767508 bytes:  221 total time:  458
[LOG] index:  9 startts:  1698835767542 ts:  1698835767542 bytes:  349 total time:  458
[LOG] index:  10 startts:  1698835767583 ts:  1698835767583 bytes:  1004 total time:  458
[LOG] index:  11 startts:  1698835767609 ts:  1698835767609 bytes:  204 total time:  458
[LOG] index:  12 startts:  1698835767642 ts:  1698835767642 bytes:  665 total time:  458
[LOG] index:  13 startts:  1698835767676 ts:  1698835767676 bytes:  303 total time:  458
[LOG] index:  14 startts:  1698835767718 ts:  1698835767718 bytes:  1448 total time:  458
[LOG] index:  15 startts:  1698835767718 ts:  1698835767718 bytes:  177 total time:  458
[LOG] index:  16 startts:  1698835767746 ts:  1698835767746 bytes:  227 total time:  458
[LOG] index:  17 startts:  1698835767778 ts:  1698835767778 bytes:  348 total time:  458
[LOG] index:  18 startts:  1698835767812 ts:  1698835767812 bytes:  840 total time:  458
[LOG] index:  0 start ts/size:  1698835767354 / 1494 id  1 end ts/size:  1698835767383 / 5790 id  4 chunk time:  29 idle time: 0
[LOG] index:  1 start ts/size:  1698835767426 / 1057 id  5 end ts/size:  1698835767426 / 328 id  5 chunk time:  0 idle time:  43
[LOG] index:  2 start ts/size:  1698835767426 / 1057 id  5 end ts/size:  1698835767426 / 729 id  5 chunk time:  0 idle time:  0
[LOG] index:  3 start ts/size:  1698835767441 / 317 id  6 end ts/size:  1698835767441 / 317 id  6 chunk time:  0 idle time:  15
[LOG] index:  4 start ts/size:  1698835767483 / 1448 id  7 end ts/size:  1698835767497 / 1650 id  8 chunk time:  14 idle time:  42
[LOG] index:  5 start ts/size:  1698835767508 / 221 id  9 end ts/size:  1698835767508 / 221 id  9 chunk time:  0 idle time:  11
[LOG] index:  6 start ts/size:  1698835767542 / 349 id  10 end ts/size:  1698835767542 / 349 id  10 chunk time:  0 idle time:  34
[LOG] index:  7 start ts/size:  1698835767583 / 1004 id  11 end ts/size:  1698835767583 / 1004 id  11 chunk time:  0 idle time:  41
[LOG] index:  8 start ts/size:  1698835767609 / 204 id  12 end ts/size:  1698835767609 / 204 id  12 chunk time:  0 idle time:  26
[LOG] index:  9 start ts/size:  1698835767642 / 665 id  13 end ts/size:  1698835767642 / 665 id  13 chunk time:  0 idle time:  33
[LOG] index:  10 start ts/size:  1698835767676 / 303 id  14 end ts/size:  1698835767676 / 303 id  14 chunk time:  0 idle time:  34
[LOG] index:  11 start ts/size:  1698835767718 / 1448 id  15 end ts/size:  1698835767718 / 1625 id  16 chunk time:  0 idle time:  42
[LOG] index:  12 start ts/size:  1698835767746 / 227 id  17 end ts/size:  1698835767746 / 227 id  17 chunk time:  0 idle time:  28
[LOG] index:  13 start ts/size:  1698835767778 / 348 id  18 end ts/size:  1698835767778 / 348 id  18 chunk time:  0 idle time:  32
[LOG] index:  14 start ts/size:  1698835767812 / 840 id  19 end ts/size:  1698835767812 / 840 id  19 chunk time:  0 idle time:  34
[LOG] testing mode,back A, small chunks 827.5862068965517 0
[LOG] cur bw/size 0 827.5862068965517 3000
[LOG] real bw  827.5862068962758
[LOG] downbytes  14600 time:  141.13333333320986 true bw:  828 downloadtimeinms:  461 latency:  48
'pushing'
828
'now'
'chunk-stream0-00070'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream0-00070.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 141.13333333320986,
  trace: [ { s: {}, d: 141.13333333320986, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 0,
  _responseHeaders: 'flag: 0\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835767383, bytes: 5790, id: 4, idle: 0 },
    { ts: 1698835767426, bytes: 328, id: 5, idle: 32.78233333334227 },
    { ts: 1698835767426, bytes: 729, id: 5, idle: -10.217666666657728 },
    { ts: 1698835767441, bytes: 317, id: 6, idle: 11.935666666669347 },
    { ts: 1698835767497, bytes: 1650, id: 8, idle: 28.002666666678913 },
    { ts: 1698835767508, bytes: 221, id: 9, idle: 8.863666666668536 },
    { ts: 1698835767542, bytes: 349, id: 10, idle: 30.626333333336284 },
    {
      ts: 1698835767583,
      bytes: 1004,
      id: 11,
      idle: 31.294666666675155
    },
    { ts: 1698835767609, bytes: 204, id: 12, idle: 24.028000000001725 },
    { ts: 1698835767642, bytes: 665, id: 13, idle: 26.57166666667229 },
    { ts: 1698835767676, bytes: 303, id: 14, idle: 31.071000000002563 },
    {
      ts: 1698835767718,
      bytes: 1625,
      id: 16,
      idle: 28.002666666678913
    },
    { ts: 1698835767746, bytes: 227, id: 17, idle: 25.805666666668586 },
    { ts: 1698835767778, bytes: 348, id: 18, idle: 28.636000000002944 },
    { ts: 1698835767812, bytes: 840, id: 19, idle: 25.8800000000071 }
  ]
}
[LOG] update buffer 1698835767816 1.3949420000000003
[LOG] update buffer 1698835767816 1.3949420000000003
[LOG] update buffer 1698835767816 1.3949420000000003
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5920785340314139,
  averageBufferLength: 0.9235602094240837,
  currentLatency: 1.476,
  currentBufferLength: 1.399,
  throughputKbps: 838,
  throughputTimestampMs: 1698835767815,
  throughputhis: 828,
  currentTimeAbsolute: 1698835767.815,
  currentTimeRelative: 33.601057,
  segmentBitrateKbps: 200,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream0-00070.m4s',
    startTime: 34.5,
    requestStartDate: 1698835767306,
    firstByteDate: 1698835767354,
    requestEndDate: 1698835767815,
    availabilityStartTime: 1698835767137,
    wallStartTime: 1698835801637,
    bytesLoaded: 14600,
    bytesTotal: 14600,
    delayLoadingTime: 1698835767305
  }
}
[LOG] cal jiange, in rmpc, sum:  5.728605944890386 1.474914052988507 1.395 0 200 832.49999958375
1
0
200
-47.999999999997954
1
1
600
69.06627015951784
1
2
1000
-1247.999999999998
1
3
2500
-12109.996264951824
[LOG] [RmpcRule][video] requesting switch to index:  1 Average throughput 832 kbps
'running time/ms: '
1
'in abr rule coll, get all'
'Quality changed requested'
{
  next_buf: 1.4153795464864167,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1411393061260566,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9008990657656958,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.09098315147866565,
  next_latency: 1.5639849870643225,
  rebuf: 0,
  next_play: 0.7687300206213066
}
{
  bit: 1,
  qoe: 69.06627015951784,
  state: [ 1.1411393061260566, 1.473, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 832.49999958375, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 832.49999958375, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 0,
  newQuality: 1,
  reason: { throughput: 832.49999958375, latency: 1.473 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 600000,
    width: 480,
    height: 270,
    scanType: null,
    qualityIndex: 1
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream1'
[LOG] update buffer 1698835767870 1.3409660000000017
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5914583333333336,
  averageBufferLength: 0.9260156249999999,
  currentLatency: 1.473,
  currentBufferLength: 1.395,
  throughputKbps: 838,
  throughputTimestampMs: 1698835767869,
  throughputhis: -1,
  currentTimeAbsolute: 1698835767.869,
  currentTimeRelative: 33.658491,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream1.m4s',
    startTime: null,
    requestStartDate: 1698835767819,
    firstByteDate: 1698835767819,
    requestEndDate: 1698835767869,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00071.m4s  time:  1698835767874  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00071.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 35,
    mediaStartTime: 35,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00071.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 70,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835767870,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00071.m4s',
    responseHeaders: 'flag: 2\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835768022 1.1891840000000045
[LOG] get chunk:  1  time:  1698835768044  cur buffer:  1698835768022 1.189
[LOG] update buffer 1698835768045 1.1996789999999962
[LOG] get chunk:  2  time:  1698835768057  cur buffer:  1698835768045 1.2
[LOG] update buffer 1698835768058 1.2197139999999962
[LOG] get chunk:  3  time:  1698835768086  cur buffer:  1698835768058 1.22
[LOG] get chunk:  4  time:  1698835768086  cur buffer:  1698835768058 1.22
[LOG] update buffer 1698835768087 1.224261999999996
[LOG] update buffer 1698835768087 1.2574240000000003
[LOG] update buffer 1698835768100 1.2443290000000005
[LOG] get chunk:  5  time:  1698835768115  cur buffer:  1698835768100 1.244
[LOG] get chunk:  6  time:  1698835768115  cur buffer:  1698835768100 1.244
[LOG] update buffer 1698835768115 1.2624610000000018
[LOG] update buffer 1698835768115 1.2955709999999954
[LOG] get chunk:  7  time:  1698835768130  cur buffer:  1698835768115 1.296
[LOG] update buffer 1698835768130 1.3140420000000006
[LOG] get chunk:  8  time:  1698835768144  cur buffer:  1698835768130 1.314
[LOG] update buffer 1698835768145 1.3330100000000016
[LOG] get chunk:  9  time:  1698835768158  cur buffer:  1698835768145 1.333
[LOG] update buffer 1698835768159 1.3520260000000022
[LOG] get chunk:  10  time:  1698835768173  cur buffer:  1698835768159 1.352
[LOG] update buffer 1698835768173 1.3708740000000006
[LOG] get chunk:  11  time:  1698835768174  cur buffer:  1698835768173 1.371
[LOG] update buffer 1698835768175 1.4027600000000007
[LOG] get chunk:  12  time:  1698835768229  cur buffer:  1698835768175 1.403
[LOG] update buffer 1698835768230 1.3810500000000019
[LOG] get chunk:  13  time:  1698835768242  cur buffer:  1698835768230 1.381
[LOG] update buffer 1698835768242 1.4018149999999991
[LOG] update buffer 1698835768287 1.3569010000000006
[LOG] get chunk:  14  time:  1698835768300  cur buffer:  1698835768287 1.357
[LOG] update buffer 1698835768301 1.3769729999999996
[LOG] get chunk:  15  time:  1698835768310  cur buffer:  1698835768301 1.377
[LOG] index:  0 startts:  1698835767870 ts:  1698835767888 bytes:  1494 total time:  422
[LOG] index:  1 startts:  1698835767902 ts:  1698835767902 bytes:  1500 total time:  422
[LOG] index:  2 startts:  1698835767916 ts:  1698835767916 bytes:  1500 total time:  422
[LOG] index:  3 startts:  1698835767930 ts:  1698835767930 bytes:  1500 total time:  422
[LOG] index:  4 startts:  1698835767945 ts:  1698835767945 bytes:  1500 total time:  422
[LOG] index:  5 startts:  1698835767959 ts:  1698835767959 bytes:  1500 total time:  422
[LOG] index:  6 startts:  1698835767972 ts:  1698835767972 bytes:  1500 total time:  422
[LOG] index:  7 startts:  1698835767987 ts:  1698835767987 bytes:  1500 total time:  422
[LOG] index:  8 startts:  1698835768001 ts:  1698835768001 bytes:  1500 total time:  422
[LOG] index:  9 startts:  1698835768015 ts:  1698835768015 bytes:  1500 total time:  422
[LOG] index:  10 startts:  1698835768030 ts:  1698835768030 bytes:  1500 total time:  422
[LOG] index:  11 startts:  1698835768044 ts:  1698835768044 bytes:  1500 total time:  422
[LOG] index:  12 startts:  1698835768057 ts:  1698835768057 bytes:  1493 total time:  422
[LOG] index:  13 startts:  1698835768072 ts:  1698835768072 bytes:  1500 total time:  422
[LOG] index:  14 startts:  1698835768086 ts:  1698835768086 bytes:  1486 total time:  422
[LOG] index:  15 startts:  1698835768101 ts:  1698835768101 bytes:  1500 total time:  422
[LOG] index:  16 startts:  1698835768115 ts:  1698835768115 bytes:  1486 total time:  422
[LOG] index:  17 startts:  1698835768130 ts:  1698835768130 bytes:  1493 total time:  422
[LOG] index:  18 startts:  1698835768144 ts:  1698835768144 bytes:  1493 total time:  422
[LOG] index:  19 startts:  1698835768158 ts:  1698835768158 bytes:  1493 total time:  422
[LOG] index:  20 startts:  1698835768173 ts:  1698835768173 bytes:  1500 total time:  422
[LOG] index:  21 startts:  1698835768173 ts:  1698835768173 bytes:  107 total time:  422
[LOG] index:  22 startts:  1698835768174 ts:  1698835768174 bytes:  374 total time:  422
[LOG] index:  23 startts:  1698835768215 ts:  1698835768215 bytes:  1448 total time:  422
[LOG] index:  24 startts:  1698835768229 ts:  1698835768229 bytes:  977 total time:  422
[LOG] index:  25 startts:  1698835768242 ts:  1698835768242 bytes:  443 total time:  422
[LOG] index:  26 startts:  1698835768286 ts:  1698835768286 bytes:  1495 total time:  422
[LOG] index:  27 startts:  1698835768300 ts:  1698835768300 bytes:  1457 total time:  422
[LOG] index:  28 startts:  1698835768310 ts:  1698835768310 bytes:  358 total time:  422
[LOG] index:  0 start ts/size:  1698835767888 / 1494 id  1 end ts/size:  1698835768044 / 17594 id  12 chunk time:  156 idle time: 0
[LOG] index:  1 start ts/size:  1698835768044 / 1500 id  12 end ts/size:  1698835768057 / 846 id  13 chunk time:  13 idle time:  0
[LOG] index:  2 start ts/size:  1698835768057 / 1493 id  13 end ts/size:  1698835768086 / 2582 id  15 chunk time:  29 idle time:  0
[LOG] index:  3 start ts/size:  1698835768086 / 1486 id  15 end ts/size:  1698835768086 / 466 id  15 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835768086 / 1486 id  15 end ts/size:  1698835768115 / 3181 id  17 chunk time:  29 idle time:  0
[LOG] index:  5 start ts/size:  1698835768115 / 1486 id  17 end ts/size:  1698835768115 / 340 id  17 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835768115 / 1486 id  17 end ts/size:  1698835768130 / 1312 id  18 chunk time:  15 idle time:  0
[LOG] index:  7 start ts/size:  1698835768130 / 1493 id  18 end ts/size:  1698835768144 / 1465 id  19 chunk time:  14 idle time:  0
[LOG] index:  8 start ts/size:  1698835768144 / 1493 id  19 end ts/size:  1698835768158 / 1088 id  20 chunk time:  14 idle time:  0
[LOG] index:  9 start ts/size:  1698835768158 / 1493 id  20 end ts/size:  1698835768173 / 2671 id  22 chunk time:  15 idle time:  0
[LOG] index:  10 start ts/size:  1698835768174 / 374 id  23 end ts/size:  1698835768174 / 374 id  23 chunk time:  0 idle time:  1
[LOG] index:  11 start ts/size:  1698835768215 / 1448 id  24 end ts/size:  1698835768229 / 2425 id  25 chunk time:  14 idle time:  41
[LOG] index:  12 start ts/size:  1698835768242 / 443 id  26 end ts/size:  1698835768242 / 443 id  26 chunk time:  0 idle time:  13
[LOG] index:  13 start ts/size:  1698835768286 / 1495 id  27 end ts/size:  1698835768300 / 2952 id  28 chunk time:  14 idle time:  44
[LOG] index:  14 start ts/size:  1698835768310 / 358 id  29 end ts/size:  1698835768310 / 358 id  29 chunk time:  0 idle time:  10
[LOG] cur bw/size 0 846.1538461538462 16500
[LOG] real bw  846.1538461537949
[LOG] downbytes  38097 time:  360.1898181814143 true bw:  846 downloadtimeinms:  426 latency:  18
'pushing'
846
'now'
'chunk-stream1-00071'
[LOG] update buffer 1698835768314 1.396447000000002
[LOG] update buffer 1698835768315 1.396447000000002
[LOG] update buffer 1698835768315 1.396447000000002
[LOG] cal jiange, in rmpc, sum:  18.25649668276349 1.1411393061260566 1.396 1 600 836.9999995815
1
0
200
-247.99999999999795
1
1
600
752.000000000002
1
2
1000
952.000000000002
1
3
2500
-4081.122357409168
[LOG] [RmpcRule][video] requesting switch to index:  2 Average throughput 837 kbps
'running time/ms: '
2
'in abr rule coll, get all'
'Quality changed requested'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00071.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 360.1898181814143,
  trace: [ { s: {}, d: 360.1898181814143, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 2\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835768044, bytes: 17594, id: 12, idle: 0 },
    { ts: 1698835768057, bytes: 846, id: 13, idle: -14.18181818180228 },
    {
      ts: 1698835768086,
      bytes: 2582,
      id: 15,
      idle: -14.115636363620537
    },
    {
      ts: 1698835768086,
      bytes: 466,
      id: 15,
      idle: -14.049454545438792
    },
    {
      ts: 1698835768115,
      bytes: 3181,
      id: 17,
      idle: -14.049454545438792
    },
    {
      ts: 1698835768115,
      bytes: 340,
      id: 17,
      idle: -14.049454545438792
    },
    {
      ts: 1698835768130,
      bytes: 1312,
      id: 18,
      idle: -14.049454545438792
    },
    {
      ts: 1698835768144,
      bytes: 1465,
      id: 19,
      idle: -14.115636363620537
    },
    {
      ts: 1698835768158,
      bytes: 1088,
      id: 20,
      idle: -14.115636363620537
    },
    {
      ts: 1698835768173,
      bytes: 2671,
      id: 22,
      idle: -14.115636363620537
    },
    { ts: 1698835768174, bytes: 374, id: 23, idle: -2.535999999996035 },
    { ts: 1698835768229, bytes: 2425, id: 25, idle: 27.30981818183353 },
    { ts: 1698835768242, bytes: 443, id: 26, idle: 8.81163636364106 },
    {
      ts: 1698835768300,
      bytes: 2952,
      id: 28,
      idle: 29.865454545470392
    },
    { ts: 1698835768310, bytes: 358, id: 29, idle: 6.615272727276523 }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5896461538461542,
  averageBufferLength: 0.9329025641025639,
  currentLatency: 1.477,
  currentBufferLength: 1.377,
  throughputKbps: 837,
  throughputTimestampMs: 1698835768314,
  throughputhis: 846,
  currentTimeAbsolute: 1698835768.314,
  currentTimeRelative: 34.099202,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00071.m4s',
    startTime: 35,
    requestStartDate: 1698835767870,
    firstByteDate: 1698835767888,
    requestEndDate: 1698835768314,
    availabilityStartTime: 1698835767637,
    wallStartTime: 1698835802637,
    bytesLoaded: 38097,
    bytesTotal: 38097,
    delayLoadingTime: 1698835767870
  }
}
{
  next_buf: 1.6439235050993426,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.438974878934468,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1660262527695935,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.29465857821823904,
  next_latency: 1.4976896735669267,
  rebuf: 0,
  next_play: 0.8492043652879118
}
{
  bit: 2,
  qoe: 952.000000000002,
  state: [ 1.1660262527695935, 1.473, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 836.9999995815, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 836.9999995815, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 1,
  newQuality: 2,
  reason: { throughput: 836.9999995815, latency: 1.473 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 1000000,
    width: 640,
    height: 360,
    scanType: null,
    qualityIndex: 2
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream2'
[LOG] update buffer 1698835768366 1.3453330000000037
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5890510204081636,
  averageBufferLength: 0.9352653061224487,
  currentLatency: 1.473,
  currentBufferLength: 1.396,
  throughputKbps: 837,
  throughputTimestampMs: 1698835768365,
  throughputhis: -1,
  currentTimeAbsolute: 1698835768.365,
  currentTimeRelative: 34.154147,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream2.m4s',
    startTime: null,
    requestStartDate: 1698835768319,
    firstByteDate: 1698835768319,
    requestEndDate: 1698835768365,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 834,
    bytesTotal: 834,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00072.m4s  time:  1698835768371  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00072.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 35.5,
    mediaStartTime: 35.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00072.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 71,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835768366,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00072.m4s',
    responseHeaders: 'flag: 2\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835768459 1.2516230000000022
[LOG] update buffer 1698835768553 1.1579359999999994
[LOG] get chunk:  1  time:  1698835768688  cur buffer:  1698835768553 1.158
[LOG] get chunk:  2  time:  1698835768688  cur buffer:  1698835768553 1.158
[LOG] update buffer 1698835768688 1.0559399999999997
[LOG] update buffer 1698835768688 1.0890939999999958
[LOG] get chunk:  3  time:  1698835768715  cur buffer:  1698835768688 1.089
[LOG] update buffer 1698835768716 1.095257999999994
[LOG] get chunk:  4  time:  1698835768730  cur buffer:  1698835768716 1.095
[LOG] update buffer 1698835768730 1.1142359999999982
[LOG] get chunk:  5  time:  1698835768786  cur buffer:  1698835768730 1.114
[LOG] get chunk:  6  time:  1698835768786  cur buffer:  1698835768730 1.114
[LOG] update buffer 1698835768786 1.0910569999999993
[LOG] update buffer 1698835768787 1.1242129999999975
[LOG] get chunk:  7  time:  1698835768799  cur buffer:  1698835768787 1.124
[LOG] update buffer 1698835768800 1.1445720000000037
[LOG] update buffer 1698835768819 1.1255730000000028
[LOG] update buffer 1698835768819 1.1253280000000032
[LOG] get chunk:  8  time:  1698835768828  cur buffer:  1698835768819 1.125
[LOG] update buffer 1698835768828 1.149197000000001
[LOG] get chunk:  9  time:  1698835768841  cur buffer:  1698835768828 1.149
[LOG] update buffer 1698835768842 1.169204999999998
[LOG] get chunk:  10  time:  1698835768883  cur buffer:  1698835768842 1.169
[LOG] get chunk:  11  time:  1698835768884  cur buffer:  1698835768842 1.169
[LOG] update buffer 1698835768884 1.1603470000000016
[LOG] update buffer 1698835768884 1.1934830000000005
[LOG] get chunk:  12  time:  1698835768912  cur buffer:  1698835768884 1.193
[LOG] update buffer 1698835768912 1.198484999999998
[LOG] get chunk:  13  time:  1698835768925  cur buffer:  1698835768912 1.198
[LOG] update buffer 1698835768926 1.2184369999999944
[LOG] get chunk:  14  time:  1698835768940  cur buffer:  1698835768926 1.218
[LOG] update buffer 1698835768940 1.237403999999998
[LOG] get chunk:  15  time:  1698835768968  cur buffer:  1698835768940 1.237
[LOG] index:  0 startts:  1698835768366 ts:  1698835768385 bytes:  1494 total time:  582
[LOG] index:  1 startts:  1698835768400 ts:  1698835768400 bytes:  1500 total time:  582
[LOG] index:  2 startts:  1698835768414 ts:  1698835768414 bytes:  1500 total time:  582
[LOG] index:  3 startts:  1698835768427 ts:  1698835768427 bytes:  1500 total time:  582
[LOG] index:  4 startts:  1698835768441 ts:  1698835768441 bytes:  1500 total time:  582
[LOG] index:  5 startts:  1698835768456 ts:  1698835768456 bytes:  1500 total time:  582
[LOG] index:  6 startts:  1698835768470 ts:  1698835768470 bytes:  1500 total time:  582
[LOG] index:  7 startts:  1698835768485 ts:  1698835768485 bytes:  1500 total time:  582
[LOG] index:  8 startts:  1698835768499 ts:  1698835768499 bytes:  1500 total time:  582
[LOG] index:  9 startts:  1698835768512 ts:  1698835768512 bytes:  1500 total time:  582
[LOG] index:  10 startts:  1698835768527 ts:  1698835768527 bytes:  1500 total time:  582
[LOG] index:  11 startts:  1698835768541 ts:  1698835768541 bytes:  1500 total time:  582
[LOG] index:  12 startts:  1698835768555 ts:  1698835768555 bytes:  1500 total time:  582
[LOG] index:  13 startts:  1698835768570 ts:  1698835768570 bytes:  1500 total time:  582
[LOG] index:  14 startts:  1698835768584 ts:  1698835768584 bytes:  1500 total time:  582
[LOG] index:  15 startts:  1698835768597 ts:  1698835768597 bytes:  1500 total time:  582
[LOG] index:  16 startts:  1698835768612 ts:  1698835768612 bytes:  1500 total time:  582
[LOG] index:  17 startts:  1698835768626 ts:  1698835768626 bytes:  1500 total time:  582
[LOG] index:  18 startts:  1698835768646 ts:  1698835768646 bytes:  1500 total time:  582
[LOG] index:  19 startts:  1698835768659 ts:  1698835768659 bytes:  1500 total time:  582
[LOG] index:  20 startts:  1698835768673 ts:  1698835768673 bytes:  1500 total time:  582
[LOG] index:  21 startts:  1698835768688 ts:  1698835768688 bytes:  1493 total time:  582
[LOG] index:  22 startts:  1698835768701 ts:  1698835768701 bytes:  1500 total time:  582
[LOG] index:  23 startts:  1698835768715 ts:  1698835768715 bytes:  1493 total time:  582
[LOG] index:  24 startts:  1698835768730 ts:  1698835768730 bytes:  1492 total time:  582
[LOG] index:  25 startts:  1698835768743 ts:  1698835768743 bytes:  1500 total time:  582
[LOG] index:  26 startts:  1698835768757 ts:  1698835768757 bytes:  1500 total time:  582
[LOG] index:  27 startts:  1698835768772 ts:  1698835768772 bytes:  1500 total time:  582
[LOG] index:  28 startts:  1698835768786 ts:  1698835768786 bytes:  1486 total time:  582
[LOG] index:  29 startts:  1698835768799 ts:  1698835768799 bytes:  1493 total time:  582
[LOG] index:  30 startts:  1698835768814 ts:  1698835768814 bytes:  1500 total time:  582
[LOG] index:  31 startts:  1698835768828 ts:  1698835768828 bytes:  1493 total time:  582
[LOG] index:  32 startts:  1698835768841 ts:  1698835768841 bytes:  1492 total time:  582
[LOG] index:  33 startts:  1698835768856 ts:  1698835768856 bytes:  1500 total time:  582
[LOG] index:  34 startts:  1698835768870 ts:  1698835768870 bytes:  1500 total time:  582
[LOG] index:  35 startts:  1698835768883 ts:  1698835768883 bytes:  1486 total time:  582
[LOG] index:  36 startts:  1698835768898 ts:  1698835768898 bytes:  1500 total time:  582
[LOG] index:  37 startts:  1698835768912 ts:  1698835768912 bytes:  1493 total time:  582
[LOG] index:  38 startts:  1698835768925 ts:  1698835768925 bytes:  1493 total time:  582
[LOG] index:  39 startts:  1698835768940 ts:  1698835768940 bytes:  1492 total time:  582
[LOG] index:  40 startts:  1698835768954 ts:  1698835768954 bytes:  1500 total time:  582
[LOG] index:  41 startts:  1698835768967 ts:  1698835768967 bytes:  1500 total time:  582
[LOG] index:  42 startts:  1698835768967 ts:  1698835768967 bytes:  1107 total time:  582
[LOG] index:  0 start ts/size:  1698835768385 / 1494 id  1 end ts/size:  1698835768688 / 31553 id  22 chunk time:  303 idle time: 0
[LOG] index:  1 start ts/size:  1698835768688 / 1493 id  22 end ts/size:  1698835768688 / 759 id  22 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835768688 / 1493 id  22 end ts/size:  1698835768715 / 2300 id  24 chunk time:  27 idle time:  0
[LOG] index:  3 start ts/size:  1698835768715 / 1493 id  24 end ts/size:  1698835768730 / 1416 id  25 chunk time:  15 idle time:  0
[LOG] index:  4 start ts/size:  1698835768730 / 1492 id  25 end ts/size:  1698835768786 / 6097 id  29 chunk time:  56 idle time:  0
[LOG] index:  5 start ts/size:  1698835768786 / 1486 id  29 end ts/size:  1698835768786 / 601 id  29 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835768786 / 1486 id  29 end ts/size:  1698835768799 / 1181 id  30 chunk time:  13 idle time:  0
[LOG] index:  7 start ts/size:  1698835768799 / 1493 id  30 end ts/size:  1698835768828 / 3649 id  32 chunk time:  29 idle time:  0
[LOG] index:  8 start ts/size:  1698835768828 / 1493 id  32 end ts/size:  1698835768841 / 823 id  33 chunk time:  13 idle time:  0
[LOG] index:  9 start ts/size:  1698835768841 / 1492 id  33 end ts/size:  1698835768883 / 4298 id  36 chunk time:  42 idle time:  0
[LOG] index:  10 start ts/size:  1698835768883 / 1486 id  36 end ts/size:  1698835768883 / 599 id  36 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835768883 / 1486 id  36 end ts/size:  1698835768912 / 2180 id  38 chunk time:  29 idle time:  0
[LOG] index:  12 start ts/size:  1698835768912 / 1493 id  38 end ts/size:  1698835768925 / 2445 id  39 chunk time:  13 idle time:  0
[LOG] index:  13 start ts/size:  1698835768925 / 1493 id  39 end ts/size:  1698835768940 / 1623 id  40 chunk time:  15 idle time:  0
[LOG] index:  14 start ts/size:  1698835768940 / 1492 id  40 end ts/size:  1698835768967 / 4483 id  43 chunk time:  27 idle time:  0
[LOG] cur bw/size 0 833.3333333333334 30000
[LOG] real bw  833.3333333333055
[LOG] downbytes  64007 time:  614.4671999992831 true bw:  833 downloadtimeinms:  588 latency:  19
'pushing'
833
'now'
'chunk-stream2-00072'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00072.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 614.4671999992831,
  trace: [ { s: {}, d: 614.4671999992831, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 2\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835768688, bytes: 31553, id: 22, idle: 0 },
    { ts: 1698835768688, bytes: 759, id: 22, idle: -14.33279999998328 },
    {
      ts: 1698835768715,
      bytes: 2300,
      id: 24,
      idle: -14.33279999998328
    },
    {
      ts: 1698835768730,
      bytes: 1416,
      id: 25,
      idle: -14.33279999998328
    },
    {
      ts: 1698835768786,
      bytes: 6097,
      id: 29,
      idle: -14.32319999998329
    },
    {
      ts: 1698835768786,
      bytes: 601,
      id: 29,
      idle: -14.265599999983358
    },
    {
      ts: 1698835768799,
      bytes: 1181,
      id: 30,
      idle: -14.265599999983358
    },
    {
      ts: 1698835768828,
      bytes: 3649,
      id: 32,
      idle: -14.33279999998328
    },
    { ts: 1698835768841, bytes: 823, id: 33, idle: -14.33279999998328 },
    {
      ts: 1698835768883,
      bytes: 4298,
      id: 36,
      idle: -14.32319999998329
    },
    {
      ts: 1698835768883,
      bytes: 599,
      id: 36,
      idle: -14.265599999983358
    },
    {
      ts: 1698835768912,
      bytes: 2180,
      id: 38,
      idle: -14.265599999983358
    },
    {
      ts: 1698835768925,
      bytes: 2445,
      id: 39,
      idle: -14.33279999998328
    },
    {
      ts: 1698835768940,
      bytes: 1623,
      id: 40,
      idle: -14.33279999998328
    },
    {
      ts: 1698835768967,
      bytes: 4483,
      id: 43,
      idle: -14.32319999998329
    }
  ]
}
[LOG] update buffer 1698835768974 1.2369020000000006
[LOG] update buffer 1698835768974 1.2369020000000006
[LOG] update buffer 1698835768974 1.2369020000000006
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5867150000000003,
  averageBufferLength: 0.9408799999999997,
  currentLatency: 1.473,
  currentBufferLength: 1.237,
  throughputKbps: 836,
  throughputTimestampMs: 1698835768973,
  throughputhis: 833,
  currentTimeAbsolute: 1698835768.973,
  currentTimeRelative: 34.762364,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00072.m4s',
    startTime: 35.5,
    requestStartDate: 1698835768366,
    firstByteDate: 1698835768385,
    requestEndDate: 1698835768973,
    availabilityStartTime: 1698835768137,
    wallStartTime: 1698835803637,
    bytesLoaded: 64007,
    bytesTotal: 64007,
    delayLoadingTime: 1698835768366
  }
}
[LOG] cal jiange, in rmpc, sum:  5.737570507116484 1.1660262527695935 1.237 2 1000 839.49999958025
1
0
200
-647.999999999998
1
1
600
352.0000000000021
1
2
1000
1352.000000000002
1
3
2500
-4953.595236256164
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.5578814770101266,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.3196444310303765,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1154073850506263,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.2492563653988654,
  next_latency: 1.5342379027723019,
  rebuf: 0,
  next_play: 0.8332343013719545
}
{
  bit: 2,
  qoe: 1352.000000000002,
  state: [ 1.1154073850506263, 1.473, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 839.49999958025, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 839.49999958025, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00073.m4s  time:  1698835768983  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00073.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 36,
    mediaStartTime: 36,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00073.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 72,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835768976,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00073.m4s',
    responseHeaders: 'flag: 5\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835769084 1.1267120000000048
[LOG] update buffer 1698835769178 1.0329160000000002
[LOG] get chunk:  1  time:  1698835769302  cur buffer:  1698835769178 1.033
[LOG] get chunk:  2  time:  1698835769302  cur buffer:  1698835769178 1.033
[LOG] update buffer 1698835769302 0.942065999999997
[LOG] update buffer 1698835769302 0.9752159999999961
[LOG] get chunk:  3  time:  1698835769329  cur buffer:  1698835769302 0.975
[LOG] update buffer 1698835769330 0.9812989999999999
[LOG] get chunk:  4  time:  1698835769344  cur buffer:  1698835769330 0.981
[LOG] update buffer 1698835769344 1.0002860000000027
[LOG] update buffer 1698835769350 0.9943919999999977
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 0,
  newQuality: 1,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  5  time:  1698835769386  cur buffer:  1698835769350 0.994
[LOG] get chunk:  6  time:  1698835769386  cur buffer:  1698835769350 0.994
[LOG] update buffer 1698835769386 0.9912690000000026
[LOG] update buffer 1698835769386 1.0243800000000007
[LOG] get chunk:  7  time:  1698835769399  cur buffer:  1698835769386 1.024
[LOG] update buffer 1698835769399 1.0448020000000042
[LOG] get chunk:  8  time:  1698835769441  cur buffer:  1698835769399 1.045
[LOG] get chunk:  9  time:  1698835769441  cur buffer:  1698835769399 1.045
[LOG] update buffer 1698835769442 1.0358739999999997
[LOG] update buffer 1698835769442 1.069028000000003
[LOG] get chunk:  10  time:  1698835769483  cur buffer:  1698835769442 1.069
[LOG] update buffer 1698835769483 1.060799000000003
[LOG] get chunk:  11  time:  1698835769497  cur buffer:  1698835769483 1.061
[LOG] update buffer 1698835769498 1.0797680000000014
[LOG] get chunk:  12  time:  1698835769512  cur buffer:  1698835769498 1.08
[LOG] update buffer 1698835769512 1.0987730000000013
[LOG] update buffer 1698835769537 1.0734940000000037
[LOG] get chunk:  13  time:  1698835769539  cur buffer:  1698835769537 1.073
[LOG] update buffer 1698835769540 1.1044379999999947
[LOG] get chunk:  14  time:  1698835769554  cur buffer:  1698835769540 1.104
[LOG] update buffer 1698835769554 1.1234549999999999
[LOG] get chunk:  15  time:  1698835769568  cur buffer:  1698835769554 1.123
[LOG] index:  0 startts:  1698835768976 ts:  1698835768996 bytes:  1494 total time:  572
[LOG] index:  1 startts:  1698835769010 ts:  1698835769010 bytes:  1500 total time:  572
[LOG] index:  2 startts:  1698835769024 ts:  1698835769024 bytes:  1500 total time:  572
[LOG] index:  3 startts:  1698835769038 ts:  1698835769038 bytes:  1500 total time:  572
[LOG] index:  4 startts:  1698835769052 ts:  1698835769052 bytes:  1500 total time:  572
[LOG] index:  5 startts:  1698835769066 ts:  1698835769066 bytes:  1500 total time:  572
[LOG] index:  6 startts:  1698835769080 ts:  1698835769080 bytes:  1500 total time:  572
[LOG] index:  7 startts:  1698835769094 ts:  1698835769094 bytes:  1500 total time:  572
[LOG] index:  8 startts:  1698835769108 ts:  1698835769108 bytes:  1500 total time:  572
[LOG] index:  9 startts:  1698835769122 ts:  1698835769122 bytes:  1500 total time:  572
[LOG] index:  10 startts:  1698835769137 ts:  1698835769137 bytes:  1500 total time:  572
[LOG] index:  11 startts:  1698835769161 ts:  1698835769161 bytes:  1500 total time:  572
[LOG] index:  12 startts:  1698835769174 ts:  1698835769174 bytes:  1500 total time:  572
[LOG] index:  13 startts:  1698835769189 ts:  1698835769189 bytes:  1500 total time:  572
[LOG] index:  14 startts:  1698835769203 ts:  1698835769203 bytes:  1500 total time:  572
[LOG] index:  15 startts:  1698835769216 ts:  1698835769216 bytes:  1500 total time:  572
[LOG] index:  16 startts:  1698835769231 ts:  1698835769231 bytes:  1500 total time:  572
[LOG] index:  17 startts:  1698835769245 ts:  1698835769245 bytes:  1500 total time:  572
[LOG] index:  18 startts:  1698835769258 ts:  1698835769258 bytes:  1500 total time:  572
[LOG] index:  19 startts:  1698835769273 ts:  1698835769273 bytes:  1500 total time:  572
[LOG] index:  20 startts:  1698835769287 ts:  1698835769287 bytes:  1500 total time:  572
[LOG] index:  21 startts:  1698835769301 ts:  1698835769301 bytes:  1500 total time:  572
[LOG] index:  22 startts:  1698835769315 ts:  1698835769315 bytes:  1500 total time:  572
[LOG] index:  23 startts:  1698835769329 ts:  1698835769329 bytes:  1500 total time:  572
[LOG] index:  24 startts:  1698835769343 ts:  1698835769343 bytes:  1500 total time:  572
[LOG] index:  25 startts:  1698835769357 ts:  1698835769357 bytes:  1500 total time:  572
[LOG] index:  26 startts:  1698835769371 ts:  1698835769371 bytes:  1500 total time:  572
[LOG] index:  27 startts:  1698835769386 ts:  1698835769386 bytes:  1486 total time:  572
[LOG] index:  28 startts:  1698835769399 ts:  1698835769399 bytes:  1493 total time:  572
[LOG] index:  29 startts:  1698835769413 ts:  1698835769413 bytes:  1500 total time:  572
[LOG] index:  30 startts:  1698835769428 ts:  1698835769428 bytes:  1500 total time:  572
[LOG] index:  31 startts:  1698835769441 ts:  1698835769441 bytes:  1485 total time:  572
[LOG] index:  32 startts:  1698835769455 ts:  1698835769455 bytes:  1500 total time:  572
[LOG] index:  33 startts:  1698835769470 ts:  1698835769470 bytes:  1500 total time:  572
[LOG] index:  34 startts:  1698835769483 ts:  1698835769483 bytes:  1493 total time:  572
[LOG] index:  35 startts:  1698835769497 ts:  1698835769497 bytes:  1493 total time:  572
[LOG] index:  36 startts:  1698835769512 ts:  1698835769512 bytes:  1493 total time:  572
[LOG] index:  37 startts:  1698835769525 ts:  1698835769525 bytes:  1500 total time:  572
[LOG] index:  38 startts:  1698835769539 ts:  1698835769539 bytes:  1493 total time:  572
[LOG] index:  39 startts:  1698835769554 ts:  1698835769554 bytes:  1493 total time:  572
[LOG] index:  40 startts:  1698835769568 ts:  1698835769568 bytes:  1500 total time:  572
[LOG] index:  41 startts:  1698835769568 ts:  1698835769568 bytes:  276 total time:  572
[LOG] index:  0 start ts/size:  1698835768996 / 1494 id  1 end ts/size:  1698835769301 / 31665 id  22 chunk time:  305 idle time: 0
[LOG] index:  1 start ts/size:  1698835769301 / 1500 id  22 end ts/size:  1698835769301 / 656 id  22 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835769301 / 1500 id  22 end ts/size:  1698835769329 / 2704 id  24 chunk time:  28 idle time:  0
[LOG] index:  3 start ts/size:  1698835769329 / 1500 id  24 end ts/size:  1698835769343 / 1343 id  25 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835769343 / 1500 id  25 end ts/size:  1698835769386 / 4350 id  28 chunk time:  43 idle time:  0
[LOG] index:  5 start ts/size:  1698835769386 / 1486 id  28 end ts/size:  1698835769386 / 615 id  28 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835769386 / 1486 id  28 end ts/size:  1698835769399 / 1924 id  29 chunk time:  13 idle time:  0
[LOG] index:  7 start ts/size:  1698835769399 / 1493 id  29 end ts/size:  1698835769441 / 3345 id  32 chunk time:  42 idle time:  0
[LOG] index:  8 start ts/size:  1698835769441 / 1485 id  32 end ts/size:  1698835769441 / 946 id  32 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835769441 / 1485 id  32 end ts/size:  1698835769483 / 4645 id  35 chunk time:  42 idle time:  0
[LOG] index:  10 start ts/size:  1698835769483 / 1493 id  35 end ts/size:  1698835769497 / 612 id  36 chunk time:  14 idle time:  0
[LOG] index:  11 start ts/size:  1698835769497 / 1493 id  36 end ts/size:  1698835769512 / 2145 id  37 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835769512 / 1493 id  37 end ts/size:  1698835769539 / 2143 id  39 chunk time:  27 idle time:  0
[LOG] index:  13 start ts/size:  1698835769539 / 1493 id  39 end ts/size:  1698835769554 / 2210 id  40 chunk time:  15 idle time:  0
[LOG] index:  14 start ts/size:  1698835769554 / 1493 id  40 end ts/size:  1698835769568 / 2396 id  42 chunk time:  14 idle time:  0
[LOG] cur bw/size 0 832 39000
[LOG] real bw  831.9999999999787
[LOG] downbytes  61699 time:  593.2596153839175 true bw:  832 downloadtimeinms:  578 latency:  20
'pushing'
832
'now'
'chunk-stream2-00073'
[LOG] update buffer 1698835769574 1.1364000000000019
[LOG] update buffer 1698835769575 1.1364000000000019
[LOG] update buffer 1698835769575 1.1364000000000019
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00073.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 593.2596153839175,
  trace: [ { s: {}, d: 593.2596153839175, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 5\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835769301, bytes: 31665, id: 22, idle: 0 },
    { ts: 1698835769301, bytes: 656, id: 22, idle: -14.42307692305996 },
    {
      ts: 1698835769329,
      bytes: 2704,
      id: 24,
      idle: -14.42307692305996
    },
    {
      ts: 1698835769343,
      bytes: 1343,
      id: 25,
      idle: -14.42307692305996
    },
    {
      ts: 1698835769386,
      bytes: 4350,
      id: 28,
      idle: -14.42307692305996
    },
    {
      ts: 1698835769386,
      bytes: 615,
      id: 28,
      idle: -14.288461538444732
    },
    {
      ts: 1698835769399,
      bytes: 1924,
      id: 29,
      idle: -14.288461538444732
    },
    {
      ts: 1698835769441,
      bytes: 3345,
      id: 32,
      idle: -14.355769230752346
    },
    { ts: 1698835769441, bytes: 946, id: 32, idle: -14.27884615382936 },
    {
      ts: 1698835769483,
      bytes: 4645,
      id: 35,
      idle: -14.27884615382936
    },
    {
      ts: 1698835769497,
      bytes: 612,
      id: 36,
      idle: -14.355769230752346
    },
    {
      ts: 1698835769512,
      bytes: 2145,
      id: 37,
      idle: -14.355769230752346
    },
    {
      ts: 1698835769539,
      bytes: 2143,
      id: 39,
      idle: -14.355769230752346
    },
    {
      ts: 1698835769554,
      bytes: 2210,
      id: 40,
      idle: -14.355769230752346
    },
    {
      ts: 1698835769568,
      bytes: 2396,
      id: 42,
      idle: -14.355769230752346
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  1.8127301876097084 1.1154073850506263 1.136 2 1000 832.49999958375
1
0
200
-647.999999999998
1
1
600
352.0000000000021
1
2
1000
752.000000000002
1
3
2500
-6905.623948905849
'running time/ms: '
1
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5844754901960787,
  averageBufferLength: 0.944083333333333,
  currentLatency: 1.473,
  currentBufferLength: 1.123,
  throughputKbps: 837,
  throughputTimestampMs: 1698835769574,
  throughputhis: 832,
  currentTimeAbsolute: 1698835769.574,
  currentTimeRelative: 35.363109,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00073.m4s',
    startTime: 36,
    requestStartDate: 1698835768976,
    firstByteDate: 1698835768996,
    requestEndDate: 1698835769574,
    availabilityStartTime: 1698835768637,
    wallStartTime: 1698835804637,
    bytesLoaded: 61699,
    bytesTotal: 61699,
    delayLoadingTime: 1698835768976
  }
}
{
  next_buf: 1.4558798798198214,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.2156396394594606,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0093993990990988,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.18535911143589415,
  next_latency: 1.583860613688147,
  rebuf: 0,
  next_play: 0.8124597982848429
}
{
  bit: 2,
  qoe: 752.000000000002,
  state: [ 1.0093993990990988, 1.473, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 832.49999958375, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 832.49999958375, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00074.m4s  time:  1698835769582  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00074.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 36.5,
    mediaStartTime: 36.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00074.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 73,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835769577,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00074.m4s',
    responseHeaders: 'flag: 8\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835769616 1.0953990000000005
[LOG] update buffer 1698835769881 0.8298000000000059
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 1,
  newQuality: 2,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] update buffer 1698835769897 0.8141310000000033
[LOG] get chunk:  1  time:  1698835769900  cur buffer:  1698835769897 0.814
[LOG] update buffer 1698835769900 0.8439029999999974
[LOG] get chunk:  2  time:  1698835769914  cur buffer:  1698835769900 0.844
[LOG] update buffer 1698835769914 0.8631039999999999
[LOG] get chunk:  3  time:  1698835769956  cur buffer:  1698835769914 0.863
[LOG] get chunk:  4  time:  1698835769956  cur buffer:  1698835769914 0.863
[LOG] update buffer 1698835769957 0.8541739999999933
[LOG] update buffer 1698835769957 0.8873060000000024
[LOG] get chunk:  5  time:  1698835769999  cur buffer:  1698835769957 0.887
[LOG] update buffer 1698835769999 0.878622
[LOG] get chunk:  6  time:  1698835770013  cur buffer:  1698835769999 0.879
[LOG] update buffer 1698835770013 0.8976119999999952
[LOG] get chunk:  7  time:  1698835770026  cur buffer:  1698835770013 0.898
[LOG] update buffer 1698835770027 0.9176010000000048
[LOG] get chunk:  8  time:  1698835770041  cur buffer:  1698835770027 0.918
[LOG] update buffer 1698835770041 0.9365000000000023
[LOG] get chunk:  9  time:  1698835770097  cur buffer:  1698835770041 0.937
[LOG] get chunk:  10  time:  1698835770097  cur buffer:  1698835770041 0.937
[LOG] update buffer 1698835770097 0.9134060000000019
[LOG] update buffer 1698835770098 0.9465630000000047
[LOG] get chunk:  11  time:  1698835770110  cur buffer:  1698835770098 0.947
[LOG] update buffer 1698835770111 0.9669000000000025
[LOG] update buffer 1698835770147 0.9308590000000052
[LOG] get chunk:  12  time:  1698835770153  cur buffer:  1698835770147 0.931
[LOG] get chunk:  13  time:  1698835770153  cur buffer:  1698835770147 0.931
[LOG] update buffer 1698835770153 0.9578260000000043
[LOG] update buffer 1698835770153 0.9909809999999979
[LOG] get chunk:  14  time:  1698835770205  cur buffer:  1698835770153 0.991
[LOG] get chunk:  15  time:  1698835770206  cur buffer:  1698835770153 0.991
[LOG] index:  0 startts:  1698835769578 ts:  1698835769596 bytes:  1494 total time:  609
[LOG] index:  1 startts:  1698835769610 ts:  1698835769610 bytes:  1500 total time:  609
[LOG] index:  2 startts:  1698835769623 ts:  1698835769623 bytes:  1500 total time:  609
[LOG] index:  3 startts:  1698835769638 ts:  1698835769638 bytes:  1500 total time:  609
[LOG] index:  4 startts:  1698835769652 ts:  1698835769652 bytes:  1500 total time:  609
[LOG] index:  5 startts:  1698835769676 ts:  1698835769676 bytes:  1500 total time:  609
[LOG] index:  6 startts:  1698835769689 ts:  1698835769689 bytes:  1500 total time:  609
[LOG] index:  7 startts:  1698835769704 ts:  1698835769704 bytes:  1500 total time:  609
[LOG] index:  8 startts:  1698835769718 ts:  1698835769718 bytes:  1500 total time:  609
[LOG] index:  9 startts:  1698835769731 ts:  1698835769731 bytes:  1500 total time:  609
[LOG] index:  10 startts:  1698835769746 ts:  1698835769746 bytes:  1500 total time:  609
[LOG] index:  11 startts:  1698835769760 ts:  1698835769760 bytes:  1500 total time:  609
[LOG] index:  12 startts:  1698835769773 ts:  1698835769773 bytes:  1500 total time:  609
[LOG] index:  13 startts:  1698835769788 ts:  1698835769788 bytes:  1500 total time:  609
[LOG] index:  14 startts:  1698835769802 ts:  1698835769802 bytes:  1500 total time:  609
[LOG] index:  15 startts:  1698835769816 ts:  1698835769816 bytes:  1500 total time:  609
[LOG] index:  16 startts:  1698835769830 ts:  1698835769830 bytes:  1500 total time:  609
[LOG] index:  17 startts:  1698835769844 ts:  1698835769844 bytes:  1500 total time:  609
[LOG] index:  18 startts:  1698835769858 ts:  1698835769858 bytes:  1500 total time:  609
[LOG] index:  19 startts:  1698835769872 ts:  1698835769872 bytes:  1500 total time:  609
[LOG] index:  20 startts:  1698835769886 ts:  1698835769886 bytes:  1500 total time:  609
[LOG] index:  21 startts:  1698835769900 ts:  1698835769900 bytes:  1500 total time:  609
[LOG] index:  22 startts:  1698835769914 ts:  1698835769914 bytes:  1500 total time:  609
[LOG] index:  23 startts:  1698835769928 ts:  1698835769928 bytes:  1500 total time:  609
[LOG] index:  24 startts:  1698835769943 ts:  1698835769943 bytes:  1500 total time:  609
[LOG] index:  25 startts:  1698835769956 ts:  1698835769956 bytes:  1500 total time:  609
[LOG] index:  26 startts:  1698835769971 ts:  1698835769971 bytes:  1500 total time:  609
[LOG] index:  27 startts:  1698835769985 ts:  1698835769985 bytes:  1500 total time:  609
[LOG] index:  28 startts:  1698835769999 ts:  1698835769999 bytes:  1500 total time:  609
[LOG] index:  29 startts:  1698835770013 ts:  1698835770013 bytes:  1500 total time:  609
[LOG] index:  30 startts:  1698835770026 ts:  1698835770026 bytes:  1500 total time:  609
[LOG] index:  31 startts:  1698835770041 ts:  1698835770041 bytes:  1492 total time:  609
[LOG] index:  32 startts:  1698835770055 ts:  1698835770055 bytes:  1500 total time:  609
[LOG] index:  33 startts:  1698835770068 ts:  1698835770068 bytes:  1500 total time:  609
[LOG] index:  34 startts:  1698835770083 ts:  1698835770083 bytes:  1500 total time:  609
[LOG] index:  35 startts:  1698835770097 ts:  1698835770097 bytes:  1486 total time:  609
[LOG] index:  36 startts:  1698835770110 ts:  1698835770110 bytes:  1493 total time:  609
[LOG] index:  37 startts:  1698835770125 ts:  1698835770125 bytes:  1500 total time:  609
[LOG] index:  38 startts:  1698835770139 ts:  1698835770139 bytes:  1500 total time:  609
[LOG] index:  39 startts:  1698835770152 ts:  1698835770152 bytes:  1486 total time:  609
[LOG] index:  40 startts:  1698835770167 ts:  1698835770167 bytes:  1500 total time:  609
[LOG] index:  41 startts:  1698835770192 ts:  1698835770192 bytes:  1500 total time:  609
[LOG] index:  42 startts:  1698835770205 ts:  1698835770205 bytes:  1399 total time:  609
[LOG] index:  0 start ts/size:  1698835769596 / 1494 id  1 end ts/size:  1698835769900 / 32929 id  22 chunk time:  304 idle time: 0
[LOG] index:  1 start ts/size:  1698835769914 / 1500 id  23 end ts/size:  1698835769914 / 1316 id  23 chunk time:  0 idle time:  14
[LOG] index:  2 start ts/size:  1698835769914 / 1500 id  23 end ts/size:  1698835769956 / 3495 id  26 chunk time:  42 idle time:  0
[LOG] index:  3 start ts/size:  1698835769956 / 1500 id  26 end ts/size:  1698835769956 / 891 id  26 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835769956 / 1500 id  26 end ts/size:  1698835769999 / 4695 id  29 chunk time:  43 idle time:  0
[LOG] index:  5 start ts/size:  1698835769999 / 1500 id  29 end ts/size:  1698835770013 / 653 id  30 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835770013 / 1500 id  30 end ts/size:  1698835770026 / 2316 id  31 chunk time:  13 idle time:  0
[LOG] index:  7 start ts/size:  1698835770026 / 1500 id  31 end ts/size:  1698835770041 / 1507 id  32 chunk time:  15 idle time:  0
[LOG] index:  8 start ts/size:  1698835770041 / 1492 id  32 end ts/size:  1698835770097 / 5319 id  36 chunk time:  56 idle time:  0
[LOG] index:  9 start ts/size:  1698835770097 / 1486 id  36 end ts/size:  1698835770097 / 607 id  36 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835770097 / 1486 id  36 end ts/size:  1698835770110 / 1542 id  37 chunk time:  13 idle time:  0
[LOG] index:  11 start ts/size:  1698835770110 / 1493 id  37 end ts/size:  1698835770152 / 3344 id  40 chunk time:  42 idle time:  0
[LOG] index:  12 start ts/size:  1698835770152 / 1486 id  40 end ts/size:  1698835770152 / 1046 id  40 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835770152 / 1486 id  40 end ts/size:  1698835770205 / 3963 id  43 chunk time:  53 idle time:  0
[LOG] index:  14 start ts/size:  1698835770205 / 1399 id  43 end ts/size:  1698835770205 / 727 id  43 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 837.2093023255813 45000
[LOG] real bw  837.2093023255628
[LOG] downbytes  64350 time:  614.8999999992792 true bw:  837 downloadtimeinms:  614 latency:  18
'pushing'
837
'now'
'chunk-stream2-00074'
[LOG] update buffer 1698835770211 0.9665079999999975
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00074.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 614.8999999992792,
  trace: [ { s: {}, d: 614.8999999992792, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 8\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835769900, bytes: 32929, id: 22, idle: 0 },
    {
      ts: 1698835769914,
      bytes: 1316,
      id: 23,
      idle: -0.33333333331653137
    },
    {
      ts: 1698835769956,
      bytes: 3495,
      id: 26,
      idle: -14.333333333316531
    },
    {
      ts: 1698835769956,
      bytes: 891,
      id: 26,
      idle: -14.333333333316531
    },
    {
      ts: 1698835769999,
      bytes: 4695,
      id: 29,
      idle: -14.333333333316531
    },
    {
      ts: 1698835770013,
      bytes: 653,
      id: 30,
      idle: -14.333333333316531
    },
    {
      ts: 1698835770026,
      bytes: 2316,
      id: 31,
      idle: -14.333333333316531
    },
    {
      ts: 1698835770041,
      bytes: 1507,
      id: 32,
      idle: -14.333333333316531
    },
    {
      ts: 1698835770097,
      bytes: 5319,
      id: 36,
      idle: -14.256888888872176
    },
    {
      ts: 1698835770097,
      bytes: 607,
      id: 36,
      idle: -14.199555555538911
    },
    {
      ts: 1698835770110,
      bytes: 1542,
      id: 37,
      idle: -14.199555555538911
    },
    {
      ts: 1698835770152,
      bytes: 3344,
      id: 40,
      idle: -14.266444444427721
    },
    {
      ts: 1698835770152,
      bytes: 1046,
      id: 40,
      idle: -14.199555555538911
    },
    {
      ts: 1698835770205,
      bytes: 3963,
      id: 43,
      idle: -14.199555555538911
    },
    {
      ts: 1698835770205,
      bytes: 727,
      id: 43,
      idle: -13.368222222206551
    }
  ]
}
[LOG] update buffer 1698835770212 0.999368000000004
[LOG] update buffer 1698835770212 0.999368000000004
[LOG] update buffer 1698835770212 0.999368000000004
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5818133971291866,
  averageBufferLength: 0.9458995215311002,
  currentLatency: 1.478,
  currentBufferLength: 0.991,
  throughputKbps: 834,
  throughputTimestampMs: 1698835770211,
  throughputhis: 837,
  currentTimeAbsolute: 1698835770.211,
  currentTimeRelative: 35.994922,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00074.m4s',
    startTime: 36.5,
    requestStartDate: 1698835769578,
    firstByteDate: 1698835769596,
    requestEndDate: 1698835770210,
    availabilityStartTime: 1698835769137,
    wallStartTime: 1698835805637,
    bytesLoaded: 64350,
    bytesTotal: 64350,
    delayLoadingTime: 1698835769577
  }
}
[LOG] cal jiange, in rmpc, sum:  1.0409808897586594 1.0093993990990988 0.999 2 1000 834.49999958275
1
0
200
-647.999999999998
1
1
600
352.0000000000021
1
2
1000
552.000000000002
1
3
2500
-8783.22393669309
'running time/ms: '
0
'in abr rule coll, get all'
{
  next_buf: 1.3191677650689047,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.0795032952067107,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.8738388253445174,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.09533772479292671,
  next_latency: 1.627240661431633,
  rebuf: 0,
  next_play: 0.770498947189477
}
{
  bit: 2,
  qoe: 552.000000000002,
  state: [ 0.8738388253445174, 1.473, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 834.49999958275, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 834.49999958275, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00075.m4s  time:  1698835770220  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00075.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 37,
    mediaStartTime: 37,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00075.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 74,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835770214,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00075.m4s',
    responseHeaders: 'flag: 12\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835770256 0.954777
[LOG] update buffer 1698835770412 0.7985540000000029
[LOG] get chunk:  1  time:  1698835770528  cur buffer:  1698835770412 0.799
[LOG] update buffer 1698835770528 0.7158349999999984
[LOG] get chunk:  2  time:  1698835770542  cur buffer:  1698835770528 0.716
[LOG] update buffer 1698835770543 0.7346799999999973
[LOG] get chunk:  3  time:  1698835770585  cur buffer:  1698835770543 0.735
[LOG] get chunk:  4  time:  1698835770585  cur buffer:  1698835770543 0.735
[LOG] update buffer 1698835770585 0.7256009999999975
[LOG] update buffer 1698835770585 0.7587520000000012
[LOG] update buffer 1698835770616 0.7286390000000011
[LOG] get chunk:  5  time:  1698835770626  cur buffer:  1698835770616 0.729
[LOG] get chunk:  6  time:  1698835770626  cur buffer:  1698835770616 0.729
[LOG] update buffer 1698835770626 0.751140999999997
[LOG] update buffer 1698835770627 0.7843009999999992
[LOG] get chunk:  7  time:  1698835770655  cur buffer:  1698835770627 0.784
[LOG] update buffer 1698835770655 0.7892860000000042
[LOG] update buffer 1698835770678 0.7662639999999996
[LOG] get chunk:  8  time:  1698835770682  cur buffer:  1698835770678 0.766
[LOG] update buffer 1698835770683 0.7949699999999993
[LOG] get chunk:  9  time:  1698835770708  cur buffer:  1698835770683 0.795
[LOG] update buffer 1698835770708 0.8025530000000032
[LOG] get chunk:  10  time:  1698835770750  cur buffer:  1698835770708 0.803
[LOG] update buffer 1698835770750 0.7938950000000062
[LOG] get chunk:  11  time:  1698835770763  cur buffer:  1698835770750 0.794
[LOG] update buffer 1698835770764 0.8138780000000025
[LOG] get chunk:  12  time:  1698835770778  cur buffer:  1698835770764 0.814
[LOG] update buffer 1698835770778 0.8328850000000045
[LOG] get chunk:  13  time:  1698835770805  cur buffer:  1698835770778 0.833
[LOG] update buffer 1698835770806 0.8385469999999984
[LOG] get chunk:  14  time:  1698835770820  cur buffer:  1698835770806 0.839
[LOG] update buffer 1698835770820 0.8575309999999945
[LOG] get chunk:  15  time:  1698835770848  cur buffer:  1698835770820 0.858
[LOG] index:  0 startts:  1698835770214 ts:  1698835770234 bytes:  1494 total time:  614
[LOG] index:  1 startts:  1698835770247 ts:  1698835770247 bytes:  1500 total time:  614
[LOG] index:  2 startts:  1698835770261 ts:  1698835770261 bytes:  1500 total time:  614
[LOG] index:  3 startts:  1698835770276 ts:  1698835770276 bytes:  1500 total time:  614
[LOG] index:  4 startts:  1698835770289 ts:  1698835770289 bytes:  1500 total time:  614
[LOG] index:  5 startts:  1698835770303 ts:  1698835770303 bytes:  1500 total time:  614
[LOG] index:  6 startts:  1698835770318 ts:  1698835770318 bytes:  1500 total time:  614
[LOG] index:  7 startts:  1698835770331 ts:  1698835770331 bytes:  1500 total time:  614
[LOG] index:  8 startts:  1698835770345 ts:  1698835770345 bytes:  1500 total time:  614
[LOG] index:  9 startts:  1698835770360 ts:  1698835770360 bytes:  1500 total time:  614
[LOG] index:  10 startts:  1698835770374 ts:  1698835770374 bytes:  1500 total time:  614
[LOG] index:  11 startts:  1698835770388 ts:  1698835770388 bytes:  1500 total time:  614
[LOG] index:  12 startts:  1698835770402 ts:  1698835770402 bytes:  1500 total time:  614
[LOG] index:  13 startts:  1698835770416 ts:  1698835770416 bytes:  1500 total time:  614
[LOG] index:  14 startts:  1698835770430 ts:  1698835770430 bytes:  1500 total time:  614
[LOG] index:  15 startts:  1698835770444 ts:  1698835770444 bytes:  1500 total time:  614
[LOG] index:  16 startts:  1698835770458 ts:  1698835770458 bytes:  1500 total time:  614
[LOG] index:  17 startts:  1698835770472 ts:  1698835770472 bytes:  1500 total time:  614
[LOG] index:  18 startts:  1698835770486 ts:  1698835770486 bytes:  1500 total time:  614
[LOG] index:  19 startts:  1698835770500 ts:  1698835770500 bytes:  1500 total time:  614
[LOG] index:  20 startts:  1698835770514 ts:  1698835770514 bytes:  1500 total time:  614
[LOG] index:  21 startts:  1698835770528 ts:  1698835770528 bytes:  1500 total time:  614
[LOG] index:  22 startts:  1698835770542 ts:  1698835770542 bytes:  1500 total time:  614
[LOG] index:  23 startts:  1698835770556 ts:  1698835770556 bytes:  1500 total time:  614
[LOG] index:  24 startts:  1698835770570 ts:  1698835770570 bytes:  1500 total time:  614
[LOG] index:  25 startts:  1698835770585 ts:  1698835770585 bytes:  1500 total time:  614
[LOG] index:  26 startts:  1698835770598 ts:  1698835770598 bytes:  1500 total time:  614
[LOG] index:  27 startts:  1698835770612 ts:  1698835770612 bytes:  1500 total time:  614
[LOG] index:  28 startts:  1698835770626 ts:  1698835770626 bytes:  1500 total time:  614
[LOG] index:  29 startts:  1698835770640 ts:  1698835770640 bytes:  1500 total time:  614
[LOG] index:  30 startts:  1698835770655 ts:  1698835770655 bytes:  1500 total time:  614
[LOG] index:  31 startts:  1698835770668 ts:  1698835770668 bytes:  1500 total time:  614
[LOG] index:  32 startts:  1698835770682 ts:  1698835770682 bytes:  1500 total time:  614
[LOG] index:  33 startts:  1698835770708 ts:  1698835770708 bytes:  1500 total time:  614
[LOG] index:  34 startts:  1698835770721 ts:  1698835770721 bytes:  1500 total time:  614
[LOG] index:  35 startts:  1698835770736 ts:  1698835770736 bytes:  1500 total time:  614
[LOG] index:  36 startts:  1698835770750 ts:  1698835770750 bytes:  1500 total time:  614
[LOG] index:  37 startts:  1698835770763 ts:  1698835770763 bytes:  1500 total time:  614
[LOG] index:  38 startts:  1698835770778 ts:  1698835770778 bytes:  1493 total time:  614
[LOG] index:  39 startts:  1698835770792 ts:  1698835770792 bytes:  1500 total time:  614
[LOG] index:  40 startts:  1698835770805 ts:  1698835770805 bytes:  1493 total time:  614
[LOG] index:  41 startts:  1698835770820 ts:  1698835770820 bytes:  1492 total time:  614
[LOG] index:  42 startts:  1698835770834 ts:  1698835770834 bytes:  1500 total time:  614
[LOG] index:  43 startts:  1698835770848 ts:  1698835770848 bytes:  1500 total time:  614
[LOG] index:  44 startts:  1698835770848 ts:  1698835770848 bytes:  27 total time:  614
[LOG] index:  0 start ts/size:  1698835770234 / 1494 id  1 end ts/size:  1698835770528 / 32666 id  22 chunk time:  294 idle time: 0
[LOG] index:  1 start ts/size:  1698835770528 / 1500 id  22 end ts/size:  1698835770542 / 1375 id  23 chunk time:  14 idle time:  0
[LOG] index:  2 start ts/size:  1698835770542 / 1500 id  23 end ts/size:  1698835770585 / 3592 id  26 chunk time:  43 idle time:  0
[LOG] index:  3 start ts/size:  1698835770585 / 1500 id  26 end ts/size:  1698835770585 / 947 id  26 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835770585 / 1500 id  26 end ts/size:  1698835770626 / 4252 id  29 chunk time:  41 idle time:  0
[LOG] index:  5 start ts/size:  1698835770626 / 1500 id  29 end ts/size:  1698835770626 / 598 id  29 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835770640 / 1500 id  30 end ts/size:  1698835770655 / 2071 id  31 chunk time:  15 idle time:  14
[LOG] index:  7 start ts/size:  1698835770655 / 1500 id  31 end ts/size:  1698835770682 / 2882 id  33 chunk time:  27 idle time:  0
[LOG] index:  8 start ts/size:  1698835770682 / 1500 id  33 end ts/size:  1698835770708 / 1156 id  34 chunk time:  26 idle time:  0
[LOG] index:  9 start ts/size:  1698835770708 / 1500 id  34 end ts/size:  1698835770750 / 5914 id  37 chunk time:  42 idle time:  0
[LOG] index:  10 start ts/size:  1698835770763 / 1500 id  38 end ts/size:  1698835770763 / 541 id  38 chunk time:  0 idle time:  13
[LOG] index:  11 start ts/size:  1698835770763 / 1500 id  38 end ts/size:  1698835770778 / 1449 id  39 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835770778 / 1493 id  39 end ts/size:  1698835770805 / 3507 id  41 chunk time:  27 idle time:  0
[LOG] index:  13 start ts/size:  1698835770805 / 1493 id  41 end ts/size:  1698835770820 / 785 id  42 chunk time:  15 idle time:  0
[LOG] index:  14 start ts/size:  1698835770820 / 1492 id  42 end ts/size:  1698835770848 / 4264 id  45 chunk time:  28 idle time:  0
[LOG] cur bw/size 0 839.3194706994329 55500
[LOG] real bw  839.3194706994179
[LOG] downbytes  65999 time:  629.0715495488113 true bw:  839 downloadtimeinms:  620 latency:  20
'pushing'
839
'now'
'chunk-stream2-00075'
[LOG] update buffer 1698835770855 0.8559180000000026
[LOG] update buffer 1698835770855 0.8559180000000026
[LOG] update buffer 1698835770855 0.8559180000000026
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00075.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 629.0715495488113,
  trace: [ { s: {}, d: 629.0715495488113, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 12\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835770528, bytes: 32666, id: 22, idle: 0 },
    {
      ts: 1698835770542,
      bytes: 1375,
      id: 23,
      idle: -14.297297297280517
    },
    {
      ts: 1698835770585,
      bytes: 3592,
      id: 26,
      idle: -14.297297297280517
    },
    {
      ts: 1698835770585,
      bytes: 947,
      id: 26,
      idle: -14.297297297280517
    },
    {
      ts: 1698835770626,
      bytes: 4252,
      id: 29,
      idle: -14.297297297280517
    },
    {
      ts: 1698835770626,
      bytes: 598,
      id: 29,
      idle: -14.297297297280517
    },
    {
      ts: 1698835770655,
      bytes: 2071,
      id: 31,
      idle: -0.297297297280517
    },
    {
      ts: 1698835770682,
      bytes: 2882,
      id: 33,
      idle: -14.297297297280517
    },
    {
      ts: 1698835770708,
      bytes: 1156,
      id: 34,
      idle: -14.297297297280517
    },
    {
      ts: 1698835770750,
      bytes: 5914,
      id: 37,
      idle: -14.297297297280517
    },
    { ts: 1698835770763, bytes: 541, id: 38, idle: -1.297297297280517 },
    {
      ts: 1698835770778,
      bytes: 1449,
      id: 39,
      idle: -14.297297297280517
    },
    {
      ts: 1698835770805,
      bytes: 3507,
      id: 41,
      idle: -14.230576576559875
    },
    {
      ts: 1698835770820,
      bytes: 785,
      id: 42,
      idle: -14.230576576559875
    },
    {
      ts: 1698835770848,
      bytes: 4264,
      id: 45,
      idle: -14.221045045028355
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  2.0839749209903817 0.8738388253445174 0.856 2 1000 837.999999581
1
0
200
-647.999999999998
1
1
600
152.00000000000205
1
2
1000
352.00000000000205
1
3
2500
-13940.671207163257
'running time/ms: '
1
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5797605633802818,
  averageBufferLength: 0.9441220657276992,
  currentLatency: 1.473,
  currentBufferLength: 0.858,
  throughputKbps: 836,
  throughputTimestampMs: 1698835770855,
  throughputhis: 839,
  currentTimeAbsolute: 1698835770.855,
  currentTimeRelative: 36.643663,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00075.m4s',
    startTime: 37,
    requestStartDate: 1698835770214,
    firstByteDate: 1698835770234,
    requestEndDate: 1698835770854,
    availabilityStartTime: 1698835769637,
    wallStartTime: 1698835806637,
    bytesLoaded: 65999,
    bytesTotal: 65999,
    delayLoadingTime: 1698835770214
  }
}
{
  next_buf: 1.176668257696898,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9380047730906919,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.7333412884844867,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.7175542088976488,
  rebuf: 0.06399358830285853,
  next_play: 0.7566303564378114
}
{
  bit: 2,
  qoe: 352.00000000000205,
  state: [ 0.7333412884844867, 1.473, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 837.999999581, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 837.999999581, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00076.m4s  time:  1698835770862  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00076.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 37.5,
    mediaStartTime: 37.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00076.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 75,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835770857,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00076.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835770944 0.767316000000001
[LOG] update buffer 1698835770975 0.7360460000000018
[LOG] get chunk:  1  time:  1698835771170  cur buffer:  1698835770975 0.736
[LOG] get chunk:  2  time:  1698835771171  cur buffer:  1698835770975 0.736
[LOG] update buffer 1698835771171 0.5731850000000023
[LOG] update buffer 1698835771171 0.6063309999999973
[LOG] get chunk:  3  time:  1698835771199  cur buffer:  1698835771171 0.606
[LOG] update buffer 1698835771200 0.6112359999999981
[LOG] update buffer 1698835771209 0.6017289999999988
[LOG] get chunk:  4  time:  1698835771223  cur buffer:  1698835771209 0.602
[LOG] update buffer 1698835771224 0.6204579999999993
[LOG] get chunk:  5  time:  1698835771265  cur buffer:  1698835771224 0.62
[LOG] get chunk:  6  time:  1698835771265  cur buffer:  1698835771224 0.62
[LOG] update buffer 1698835771265 0.6121550000000013
[LOG] update buffer 1698835771266 0.6453149999999965
[LOG] get chunk:  7  time:  1698835771293  cur buffer:  1698835771266 0.645
[LOG] update buffer 1698835771293 0.6507910000000052
[LOG] get chunk:  8  time:  1698835771308  cur buffer:  1698835771293 0.651
[LOG] update buffer 1698835771308 0.6695300000000017
[LOG] update buffer 1698835771335 0.6430390000000017
[LOG] get chunk:  9  time:  1698835771349  cur buffer:  1698835771335 0.643
[LOG] get chunk:  10  time:  1698835771349  cur buffer:  1698835771335 0.643
[LOG] update buffer 1698835771350 0.6610370000000003
[LOG] update buffer 1698835771350 0.6941930000000056
[LOG] get chunk:  11  time:  1698835771377  cur buffer:  1698835771350 0.694
[LOG] update buffer 1698835771378 0.6996880000000019
[LOG] get chunk:  12  time:  1698835771392  cur buffer:  1698835771378 0.7
[LOG] update buffer 1698835771392 0.7185630000000032
[LOG] get chunk:  13  time:  1698835771420  cur buffer:  1698835771392 0.719
[LOG] update buffer 1698835771420 0.7239159999999956
[LOG] get chunk:  14  time:  1698835771433  cur buffer:  1698835771420 0.724
[LOG] update buffer 1698835771434 0.7437529999999981
[LOG] get chunk:  15  time:  1698835771462  cur buffer:  1698835771434 0.744
[LOG] index:  0 startts:  1698835770857 ts:  1698835770876 bytes:  1494 total time:  586
[LOG] index:  1 startts:  1698835770890 ts:  1698835770890 bytes:  1500 total time:  586
[LOG] index:  2 startts:  1698835770904 ts:  1698835770904 bytes:  1500 total time:  586
[LOG] index:  3 startts:  1698835770918 ts:  1698835770918 bytes:  1500 total time:  586
[LOG] index:  4 startts:  1698835770932 ts:  1698835770932 bytes:  1500 total time:  586
[LOG] index:  5 startts:  1698835770946 ts:  1698835770946 bytes:  1500 total time:  586
[LOG] index:  6 startts:  1698835770961 ts:  1698835770961 bytes:  1500 total time:  586
[LOG] index:  7 startts:  1698835770974 ts:  1698835770974 bytes:  1500 total time:  586
[LOG] index:  8 startts:  1698835770989 ts:  1698835770989 bytes:  1500 total time:  586
[LOG] index:  9 startts:  1698835771002 ts:  1698835771002 bytes:  1500 total time:  586
[LOG] index:  10 startts:  1698835771016 ts:  1698835771016 bytes:  1500 total time:  586
[LOG] index:  11 startts:  1698835771030 ts:  1698835771030 bytes:  1500 total time:  586
[LOG] index:  12 startts:  1698835771044 ts:  1698835771044 bytes:  1500 total time:  586
[LOG] index:  13 startts:  1698835771059 ts:  1698835771059 bytes:  1500 total time:  586
[LOG] index:  14 startts:  1698835771072 ts:  1698835771072 bytes:  1500 total time:  586
[LOG] index:  15 startts:  1698835771086 ts:  1698835771086 bytes:  1500 total time:  586
[LOG] index:  16 startts:  1698835771101 ts:  1698835771101 bytes:  1500 total time:  586
[LOG] index:  17 startts:  1698835771114 ts:  1698835771114 bytes:  1500 total time:  586
[LOG] index:  18 startts:  1698835771129 ts:  1698835771129 bytes:  1500 total time:  586
[LOG] index:  19 startts:  1698835771142 ts:  1698835771142 bytes:  1500 total time:  586
[LOG] index:  20 startts:  1698835771157 ts:  1698835771157 bytes:  1500 total time:  586
[LOG] index:  21 startts:  1698835771170 ts:  1698835771170 bytes:  1500 total time:  586
[LOG] index:  22 startts:  1698835771185 ts:  1698835771185 bytes:  1500 total time:  586
[LOG] index:  23 startts:  1698835771199 ts:  1698835771199 bytes:  1500 total time:  586
[LOG] index:  24 startts:  1698835771223 ts:  1698835771223 bytes:  1500 total time:  586
[LOG] index:  25 startts:  1698835771237 ts:  1698835771237 bytes:  1500 total time:  586
[LOG] index:  26 startts:  1698835771251 ts:  1698835771251 bytes:  1500 total time:  586
[LOG] index:  27 startts:  1698835771265 ts:  1698835771265 bytes:  1500 total time:  586
[LOG] index:  28 startts:  1698835771279 ts:  1698835771279 bytes:  1500 total time:  586
[LOG] index:  29 startts:  1698835771293 ts:  1698835771293 bytes:  1500 total time:  586
[LOG] index:  30 startts:  1698835771308 ts:  1698835771308 bytes:  1500 total time:  586
[LOG] index:  31 startts:  1698835771321 ts:  1698835771321 bytes:  1500 total time:  586
[LOG] index:  32 startts:  1698835771336 ts:  1698835771336 bytes:  1500 total time:  586
[LOG] index:  33 startts:  1698835771349 ts:  1698835771349 bytes:  1500 total time:  586
[LOG] index:  34 startts:  1698835771364 ts:  1698835771364 bytes:  1500 total time:  586
[LOG] index:  35 startts:  1698835771377 ts:  1698835771377 bytes:  1500 total time:  586
[LOG] index:  36 startts:  1698835771392 ts:  1698835771392 bytes:  1500 total time:  586
[LOG] index:  37 startts:  1698835771406 ts:  1698835771406 bytes:  1500 total time:  586
[LOG] index:  38 startts:  1698835771420 ts:  1698835771420 bytes:  1500 total time:  586
[LOG] index:  39 startts:  1698835771433 ts:  1698835771433 bytes:  1500 total time:  586
[LOG] index:  40 startts:  1698835771448 ts:  1698835771448 bytes:  1500 total time:  586
[LOG] index:  41 startts:  1698835771462 ts:  1698835771462 bytes:  1485 total time:  586
[LOG] index:  0 start ts/size:  1698835770876 / 1494 id  1 end ts/size:  1698835771170 / 31896 id  22 chunk time:  294 idle time: 0
[LOG] index:  1 start ts/size:  1698835771170 / 1500 id  22 end ts/size:  1698835771170 / 695 id  22 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835771170 / 1500 id  22 end ts/size:  1698835771199 / 3216 id  24 chunk time:  29 idle time:  0
[LOG] index:  3 start ts/size:  1698835771199 / 1500 id  24 end ts/size:  1698835771223 / 810 id  25 chunk time:  24 idle time:  0
[LOG] index:  4 start ts/size:  1698835771223 / 1500 id  25 end ts/size:  1698835771265 / 4122 id  28 chunk time:  42 idle time:  0
[LOG] index:  5 start ts/size:  1698835771265 / 1500 id  28 end ts/size:  1698835771265 / 623 id  28 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835771265 / 1500 id  28 end ts/size:  1698835771293 / 2525 id  30 chunk time:  28 idle time:  0
[LOG] index:  7 start ts/size:  1698835771293 / 1500 id  30 end ts/size:  1698835771308 / 1528 id  31 chunk time:  15 idle time:  0
[LOG] index:  8 start ts/size:  1698835771308 / 1500 id  31 end ts/size:  1698835771349 / 4237 id  34 chunk time:  41 idle time:  0
[LOG] index:  9 start ts/size:  1698835771349 / 1500 id  34 end ts/size:  1698835771349 / 636 id  34 chunk time:  0 idle time:  0
[LOG] index:  10 start ts/size:  1698835771349 / 1500 id  34 end ts/size:  1698835771377 / 2342 id  36 chunk time:  28 idle time:  0
[LOG] index:  11 start ts/size:  1698835771377 / 1500 id  36 end ts/size:  1698835771392 / 1799 id  37 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835771392 / 1500 id  37 end ts/size:  1698835771420 / 3713 id  39 chunk time:  28 idle time:  0
[LOG] index:  13 start ts/size:  1698835771420 / 1500 id  39 end ts/size:  1698835771433 / 750 id  40 chunk time:  13 idle time:  0
[LOG] index:  14 start ts/size:  1698835771433 / 1500 id  40 end ts/size:  1698835771462 / 4087 id  42 chunk time:  29 idle time:  0
[LOG] cur bw/size 0 839.1608391608391 60000
[LOG] real bw  839.1608391608252
[LOG] downbytes  62979 time:  600.3997999992946 true bw:  839 downloadtimeinms:  591 latency:  19
'pushing'
839
'now'
'chunk-stream2-00076'
[LOG] update buffer 1698835771468 0.7431540000000041
[LOG] update buffer 1698835771468 0.7431540000000041
[LOG] update buffer 1698835771468 0.7431540000000041
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00076.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 600.3997999992946,
  trace: [ { s: {}, d: 600.3997999992946, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835771170, bytes: 31896, id: 22, idle: 0 },
    { ts: 1698835771170, bytes: 695, id: 22, idle: -14.2999999999832 },
    { ts: 1698835771199, bytes: 3216, id: 24, idle: -14.2999999999832 },
    { ts: 1698835771223, bytes: 810, id: 25, idle: -14.2999999999832 },
    { ts: 1698835771265, bytes: 4122, id: 28, idle: -14.2999999999832 },
    { ts: 1698835771265, bytes: 623, id: 28, idle: -14.2999999999832 },
    { ts: 1698835771293, bytes: 2525, id: 30, idle: -14.2999999999832 },
    { ts: 1698835771308, bytes: 1528, id: 31, idle: -14.2999999999832 },
    { ts: 1698835771349, bytes: 4237, id: 34, idle: -14.2999999999832 },
    { ts: 1698835771349, bytes: 636, id: 34, idle: -14.2999999999832 },
    { ts: 1698835771377, bytes: 2342, id: 36, idle: -14.2999999999832 },
    { ts: 1698835771392, bytes: 1799, id: 37, idle: -14.2999999999832 },
    { ts: 1698835771420, bytes: 3713, id: 39, idle: -14.2999999999832 },
    { ts: 1698835771433, bytes: 750, id: 40, idle: -14.2999999999832 },
    { ts: 1698835771462, bytes: 4087, id: 42, idle: -14.2999999999832 }
  ]
}
[LOG] cal jiange, in rmpc, sum:  1.2999611712669892 0.7333412884844867 0.743 2 1000 838.9999995805
1
0
200
-672.0000000000005
[LOG] [RmpcRule][video] requesting switch to index:  1 Average throughput 839 kbps
1
1
600
127.99999999999955
1
2
1000
-649.1741839845472
'running time/ms: '
0
'in abr rule coll, get all'
'Quality changed requested'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5778064516129033,
  averageBufferLength: 0.9395576036866355,
  currentLatency: 1.477,
  currentBufferLength: 0.744,
  throughputKbps: 838,
  throughputTimestampMs: 1698835771467,
  throughputhis: 839,
  currentTimeAbsolute: 1698835771.467,
  currentTimeRelative: 37.251603,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00076.m4s',
    startTime: 37.5,
    requestStartDate: 1698835770857,
    firstByteDate: 1698835770876,
    requestEndDate: 1698835771467,
    availabilityStartTime: 1698835770137,
    wallStartTime: 1698835807637,
    bytesLoaded: 62979,
    bytesTotal: 62979,
    delayLoadingTime: 1698835770857
  }
}
{
  next_buf: 1.0638104886174016,
  next_latency: 1.472,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.8254314658522047,
  next_latency: 1.472,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.6220035187543188,
  next_latency: 1.4729510756673105,
  rebuf: 0,
  next_play: 1
}
{
  bit: 1,
  qoe: 127.99999999999955,
  state: [ 0.8254314658522047, 1.472, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 838.9999995805, latency: 1.472 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 838.9999995805, latency: 1.472 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 2,
  newQuality: 1,
  reason: { throughput: 838.9999995805, latency: 1.472 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 600000,
    width: 480,
    height: 270,
    scanType: null,
    qualityIndex: 1
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
[LOG] update buffer 1698835771475 0.7361130000000031
'now'
'init-stream1'
[LOG] update buffer 1698835771477 0.7342860000000044
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5773256880733946,
  averageBufferLength: 0.9386238532110088,
  currentLatency: 1.473,
  currentBufferLength: 0.736,
  throughputKbps: 838,
  throughputTimestampMs: 1698835771476,
  throughputhis: -1,
  currentTimeAbsolute: 1698835771.476,
  currentTimeRelative: 37.265445,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream1.m4s',
    startTime: null,
    requestStartDate: 1698835771471,
    firstByteDate: 1698835771471,
    requestEndDate: 1698835771476,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00077.m4s  time:  1698835771490  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00077.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 38,
    mediaStartTime: 38,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00077.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 76,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835771477,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00077.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] get chunk:  1  time:  1698835771672  cur buffer:  1698835771477 0.734
[LOG] get chunk:  2  time:  1698835771672  cur buffer:  1698835771477 0.734
[LOG] update buffer 1698835771672 0.5717810000000014
[LOG] update buffer 1698835771673 0.6049399999999991
[LOG] update buffer 1698835771694 0.5839059999999989
[LOG] get chunk:  3  time:  1698835771700  cur buffer:  1698835771694 0.584
[LOG] get chunk:  4  time:  1698835771701  cur buffer:  1698835771694 0.584
[LOG] update buffer 1698835771701 0.6099129999999988
[LOG] update buffer 1698835771701 0.6430730000000011
[LOG] update buffer 1698835771741 0.6038130000000024
[LOG] get chunk:  5  time:  1698835771753  cur buffer:  1698835771741 0.604
[LOG] get chunk:  6  time:  1698835771753  cur buffer:  1698835771741 0.604
[LOG] update buffer 1698835771753 0.624297999999996
[LOG] update buffer 1698835771753 0.6574600000000004
[LOG] get chunk:  7  time:  1698835771767  cur buffer:  1698835771753 0.657
[LOG] update buffer 1698835771767 0.6767949999999985
[LOG] get chunk:  8  time:  1698835771781  cur buffer:  1698835771767 0.677
[LOG] get chunk:  9  time:  1698835771782  cur buffer:  1698835771767 0.677
[LOG] update buffer 1698835771782 0.6956380000000024
[LOG] update buffer 1698835771782 0.7287990000000022
[LOG] get chunk:  10  time:  1698835771809  cur buffer:  1698835771782 0.729
[LOG] get chunk:  11  time:  1698835771809  cur buffer:  1698835771782 0.729
[LOG] update buffer 1698835771810 0.7346290000000053
[LOG] update buffer 1698835771810 0.7677900000000051
[LOG] get chunk:  12  time:  1698835771851  cur buffer:  1698835771810 0.768
[LOG] get chunk:  13  time:  1698835771851  cur buffer:  1698835771810 0.768
[LOG] update buffer 1698835771852 0.7592660000000038
[LOG] update buffer 1698835771852 0.7924209999999974
[LOG] get chunk:  14  time:  1698835771865  cur buffer:  1698835771852 0.792
[LOG] update buffer 1698835771866 0.8117509999999939
[LOG] get chunk:  15  time:  1698835771881  cur buffer:  1698835771866 0.812
[LOG] index:  0 startts:  1698835771477 ts:  1698835771504 bytes:  1494 total time:  377
[LOG] index:  1 startts:  1698835771517 ts:  1698835771517 bytes:  1500 total time:  377
[LOG] index:  2 startts:  1698835771532 ts:  1698835771532 bytes:  1500 total time:  377
[LOG] index:  3 startts:  1698835771546 ts:  1698835771546 bytes:  1500 total time:  377
[LOG] index:  4 startts:  1698835771559 ts:  1698835771559 bytes:  1500 total time:  377
[LOG] index:  5 startts:  1698835771574 ts:  1698835771574 bytes:  1500 total time:  377
[LOG] index:  6 startts:  1698835771588 ts:  1698835771588 bytes:  1500 total time:  377
[LOG] index:  7 startts:  1698835771602 ts:  1698835771602 bytes:  1500 total time:  377
[LOG] index:  8 startts:  1698835771616 ts:  1698835771616 bytes:  1500 total time:  377
[LOG] index:  9 startts:  1698835771631 ts:  1698835771631 bytes:  1500 total time:  377
[LOG] index:  10 startts:  1698835771644 ts:  1698835771644 bytes:  1500 total time:  377
[LOG] index:  11 startts:  1698835771657 ts:  1698835771657 bytes:  1500 total time:  377
[LOG] index:  12 startts:  1698835771672 ts:  1698835771672 bytes:  1500 total time:  377
[LOG] index:  13 startts:  1698835771686 ts:  1698835771686 bytes:  1500 total time:  377
[LOG] index:  14 startts:  1698835771700 ts:  1698835771700 bytes:  1500 total time:  377
[LOG] index:  15 startts:  1698835771714 ts:  1698835771714 bytes:  1500 total time:  377
[LOG] index:  16 startts:  1698835771739 ts:  1698835771739 bytes:  1500 total time:  377
[LOG] index:  17 startts:  1698835771753 ts:  1698835771753 bytes:  1500 total time:  377
[LOG] index:  18 startts:  1698835771767 ts:  1698835771767 bytes:  1500 total time:  377
[LOG] index:  19 startts:  1698835771781 ts:  1698835771781 bytes:  1500 total time:  377
[LOG] index:  20 startts:  1698835771795 ts:  1698835771795 bytes:  1500 total time:  377
[LOG] index:  21 startts:  1698835771809 ts:  1698835771809 bytes:  1500 total time:  377
[LOG] index:  22 startts:  1698835771823 ts:  1698835771823 bytes:  1500 total time:  377
[LOG] index:  23 startts:  1698835771837 ts:  1698835771837 bytes:  1500 total time:  377
[LOG] index:  24 startts:  1698835771851 ts:  1698835771851 bytes:  1500 total time:  377
[LOG] index:  25 startts:  1698835771865 ts:  1698835771865 bytes:  1500 total time:  377
[LOG] index:  26 startts:  1698835771880 ts:  1698835771880 bytes:  1500 total time:  377
[LOG] index:  27 startts:  1698835771881 ts:  1698835771881 bytes:  397 total time:  377
[LOG] index:  0 start ts/size:  1698835771504 / 1494 id  1 end ts/size:  1698835771672 / 18605 id  13 chunk time:  168 idle time: 0
[LOG] index:  1 start ts/size:  1698835771672 / 1500 id  13 end ts/size:  1698835771672 / 739 id  13 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835771672 / 1500 id  13 end ts/size:  1698835771700 / 2168 id  15 chunk time:  28 idle time:  0
[LOG] index:  3 start ts/size:  1698835771700 / 1500 id  15 end ts/size:  1698835771700 / 620 id  15 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835771700 / 1500 id  15 end ts/size:  1698835771753 / 3585 id  18 chunk time:  53 idle time:  0
[LOG] index:  5 start ts/size:  1698835771753 / 1500 id  18 end ts/size:  1698835771753 / 308 id  18 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835771753 / 1500 id  18 end ts/size:  1698835771767 / 1149 id  19 chunk time:  14 idle time:  0
[LOG] index:  7 start ts/size:  1698835771767 / 1500 id  19 end ts/size:  1698835771781 / 1487 id  20 chunk time:  14 idle time:  0
[LOG] index:  8 start ts/size:  1698835771781 / 1500 id  20 end ts/size:  1698835771781 / 1164 id  20 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835771781 / 1500 id  20 end ts/size:  1698835771809 / 1937 id  22 chunk time:  28 idle time:  0
[LOG] index:  10 start ts/size:  1698835771809 / 1500 id  22 end ts/size:  1698835771809 / 605 id  22 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835771809 / 1500 id  22 end ts/size:  1698835771851 / 4291 id  25 chunk time:  42 idle time:  0
[LOG] index:  12 start ts/size:  1698835771851 / 1500 id  25 end ts/size:  1698835771851 / 396 id  25 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835771851 / 1500 id  25 end ts/size:  1698835771865 / 713 id  26 chunk time:  14 idle time:  0
[LOG] index:  14 start ts/size:  1698835771865 / 1500 id  26 end ts/size:  1698835771881 / 3124 id  28 chunk time:  16 idle time:  0
[LOG] cur bw/size 0 829.7872340425532 39000
[LOG] real bw  829.787234042532
[LOG] downbytes  40891 time:  394.2311794867145 true bw:  830 downloadtimeinms:  381 latency:  27
'pushing'
830
'now'
'chunk-stream1-00077'
[LOG] update buffer 1698835771886 0.8252840000000035
[LOG] update buffer 1698835771886 0.8252840000000035
[LOG] update buffer 1698835771886 0.8252840000000035
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00077.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 394.2311794867145,
  trace: [ { s: {}, d: 394.2311794867145, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835771672, bytes: 18605, id: 13, idle: 0 },
    {
      ts: 1698835771672,
      bytes: 739,
      id: 13,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771700,
      bytes: 2168,
      id: 15,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771700,
      bytes: 620,
      id: 15,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771753,
      bytes: 3585,
      id: 18,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771753,
      bytes: 308,
      id: 18,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771767,
      bytes: 1149,
      id: 19,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771781,
      bytes: 1487,
      id: 20,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771781,
      bytes: 1164,
      id: 20,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771809,
      bytes: 1937,
      id: 22,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771809,
      bytes: 605,
      id: 22,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771851,
      bytes: 4291,
      id: 25,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771851,
      bytes: 396,
      id: 25,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771865,
      bytes: 713,
      id: 26,
      idle: -14.461538461521403
    },
    {
      ts: 1698835771881,
      bytes: 3124,
      id: 28,
      idle: -14.461538461521403
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  0.05229889111294329 0.8254314658522047 0.825 1 600 834.49999958275
1
0
200
-247.99999999999795
1
1
600
552.000000000002
1
2
1000
-1047.999999999998
1
3
2500
-15648.504733611167
'running time/ms: '
1
'in abr rule coll, get all'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.575923076923077,
  averageBufferLength: 0.9361764705882348,
  currentLatency: 1.477,
  currentBufferLength: 0.812,
  throughputKbps: 836,
  throughputTimestampMs: 1698835771885,
  throughputhis: 830,
  currentTimeAbsolute: 1698835771.885,
  currentTimeRelative: 37.670284,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00077.m4s',
    startTime: 38,
    requestStartDate: 1698835771477,
    firstByteDate: 1698835771504,
    requestEndDate: 1698835771885,
    availabilityStartTime: 1698835770637,
    wallStartTime: 1698835808637,
    bytesLoaded: 40891,
    bytesTotal: 40891,
    delayLoadingTime: 1698835771477
  }
}
{
  next_buf: 1.1451677650689038,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9395032952067103,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.6658388253445175,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.7626708668753182,
  rebuf: 0.09628825618285292,
  next_play: 0.7566204038551062
}
{
  bit: 1,
  qoe: 552.000000000002,
  state: [ 0.9395032952067103, 1.473, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 834.49999958275, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 834.49999958275, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00078.m4s  time:  1698835771894  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00078.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 38.5,
    mediaStartTime: 38.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00078.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 77,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835771888,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00078.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835772006 0.7048340000000053
[LOG] update buffer 1698835772053 0.657865000000001
[LOG] get chunk:  1  time:  1698835772075  cur buffer:  1698835772053 0.658
[LOG] get chunk:  2  time:  1698835772076  cur buffer:  1698835772053 0.658
[LOG] update buffer 1698835772076 0.6681570000000008
[LOG] update buffer 1698835772076 0.7012840000000011
[LOG] get chunk:  3  time:  1698835772090  cur buffer:  1698835772076 0.701
[LOG] update buffer 1698835772090 0.7208279999999974
[LOG] get chunk:  4  time:  1698835772104  cur buffer:  1698835772090 0.721
[LOG] update buffer 1698835772104 0.7398469999999975
[LOG] get chunk:  5  time:  1698835772132  cur buffer:  1698835772104 0.74
[LOG] update buffer 1698835772132 0.7451229999999995
[LOG] get chunk:  6  time:  1698835772146  cur buffer:  1698835772132 0.745
[LOG] get chunk:  7  time:  1698835772147  cur buffer:  1698835772132 0.745
[LOG] update buffer 1698835772147 0.7639889999999951
[LOG] update buffer 1698835772147 0.7971450000000004
[LOG] get chunk:  8  time:  1698835772174  cur buffer:  1698835772147 0.797
[LOG] get chunk:  9  time:  1698835772174  cur buffer:  1698835772147 0.797
[LOG] update buffer 1698835772175 0.8029750000000035
[LOG] update buffer 1698835772175 0.8361390000000029
[LOG] get chunk:  10  time:  1698835772188  cur buffer:  1698835772175 0.836
[LOG] update buffer 1698835772189 0.8554900000000032
[LOG] get chunk:  11  time:  1698835772202  cur buffer:  1698835772189 0.855
[LOG] update buffer 1698835772202 0.8754850000000047
[LOG] get chunk:  12  time:  1698835772255  cur buffer:  1698835772202 0.875
[LOG] get chunk:  13  time:  1698835772255  cur buffer:  1698835772202 0.875
[LOG] get chunk:  14  time:  1698835772255  cur buffer:  1698835772202 0.875
[LOG] update buffer 1698835772256 0.855164000000002
[LOG] update buffer 1698835772256 0.8883049999999955
[LOG] update buffer 1698835772256 0.9214789999999979
[LOG] update buffer 1698835772272 0.905856
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 2,
  newQuality: 1,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] get chunk:  15  time:  1698835772283  cur buffer:  1698835772272 0.906
[LOG] index:  0 startts:  1698835771888 ts:  1698835771908 bytes:  1494 total time:  375
[LOG] index:  1 startts:  1698835771921 ts:  1698835771921 bytes:  1500 total time:  375
[LOG] index:  2 startts:  1698835771935 ts:  1698835771935 bytes:  1500 total time:  375
[LOG] index:  3 startts:  1698835771950 ts:  1698835771950 bytes:  1500 total time:  375
[LOG] index:  4 startts:  1698835771964 ts:  1698835771964 bytes:  1500 total time:  375
[LOG] index:  5 startts:  1698835771977 ts:  1698835771977 bytes:  1500 total time:  375
[LOG] index:  6 startts:  1698835771992 ts:  1698835771992 bytes:  1500 total time:  375
[LOG] index:  7 startts:  1698835772006 ts:  1698835772006 bytes:  1500 total time:  375
[LOG] index:  8 startts:  1698835772019 ts:  1698835772019 bytes:  1500 total time:  375
[LOG] index:  9 startts:  1698835772034 ts:  1698835772034 bytes:  1500 total time:  375
[LOG] index:  10 startts:  1698835772049 ts:  1698835772049 bytes:  1500 total time:  375
[LOG] index:  11 startts:  1698835772062 ts:  1698835772062 bytes:  1500 total time:  375
[LOG] index:  12 startts:  1698835772075 ts:  1698835772075 bytes:  1500 total time:  375
[LOG] index:  13 startts:  1698835772090 ts:  1698835772090 bytes:  1500 total time:  375
[LOG] index:  14 startts:  1698835772104 ts:  1698835772104 bytes:  1500 total time:  375
[LOG] index:  15 startts:  1698835772117 ts:  1698835772117 bytes:  1500 total time:  375
[LOG] index:  16 startts:  1698835772132 ts:  1698835772132 bytes:  1500 total time:  375
[LOG] index:  17 startts:  1698835772146 ts:  1698835772146 bytes:  1500 total time:  375
[LOG] index:  18 startts:  1698835772160 ts:  1698835772160 bytes:  1500 total time:  375
[LOG] index:  19 startts:  1698835772174 ts:  1698835772174 bytes:  1500 total time:  375
[LOG] index:  20 startts:  1698835772188 ts:  1698835772188 bytes:  1500 total time:  375
[LOG] index:  21 startts:  1698835772202 ts:  1698835772202 bytes:  1500 total time:  375
[LOG] index:  22 startts:  1698835772216 ts:  1698835772216 bytes:  1500 total time:  375
[LOG] index:  23 startts:  1698835772231 ts:  1698835772231 bytes:  1500 total time:  375
[LOG] index:  24 startts:  1698835772255 ts:  1698835772255 bytes:  1500 total time:  375
[LOG] index:  25 startts:  1698835772268 ts:  1698835772268 bytes:  1500 total time:  375
[LOG] index:  26 startts:  1698835772283 ts:  1698835772283 bytes:  1500 total time:  375
[LOG] index:  27 startts:  1698835772283 ts:  1698835772283 bytes:  307 total time:  375
[LOG] index:  0 start ts/size:  1698835771908 / 1494 id  1 end ts/size:  1698835772075 / 18033 id  13 chunk time:  167 idle time: 0
[LOG] index:  1 start ts/size:  1698835772075 / 1500 id  13 end ts/size:  1698835772075 / 482 id  13 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835772075 / 1500 id  13 end ts/size:  1698835772090 / 2138 id  14 chunk time:  15 idle time:  0
[LOG] index:  3 start ts/size:  1698835772090 / 1500 id  14 end ts/size:  1698835772104 / 534 id  15 chunk time:  14 idle time:  0
[LOG] index:  4 start ts/size:  1698835772104 / 1500 id  15 end ts/size:  1698835772132 / 4085 id  17 chunk time:  28 idle time:  0
[LOG] index:  5 start ts/size:  1698835772132 / 1500 id  17 end ts/size:  1698835772146 / 311 id  18 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835772146 / 1500 id  18 end ts/size:  1698835772146 / 843 id  18 chunk time:  0 idle time:  0
[LOG] index:  7 start ts/size:  1698835772146 / 1500 id  18 end ts/size:  1698835772174 / 2763 id  20 chunk time:  28 idle time:  0
[LOG] index:  8 start ts/size:  1698835772174 / 1500 id  20 end ts/size:  1698835772174 / 346 id  20 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835772174 / 1500 id  20 end ts/size:  1698835772188 / 1900 id  21 chunk time:  14 idle time:  0
[LOG] index:  10 start ts/size:  1698835772202 / 1500 id  22 end ts/size:  1698835772202 / 615 id  22 chunk time:  0 idle time:  14
[LOG] index:  11 start ts/size:  1698835772202 / 1500 id  22 end ts/size:  1698835772255 / 4123 id  25 chunk time:  53 idle time:  0
[LOG] index:  12 start ts/size:  1698835772255 / 1500 id  25 end ts/size:  1698835772255 / 348 id  25 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835772255 / 1500 id  25 end ts/size:  1698835772255 / 775 id  25 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835772255 / 1500 id  25 end ts/size:  1698835772283 / 3505 id  28 chunk time:  28 idle time:  0
[LOG] cur bw/size 0 832 39000
[LOG] real bw  831.9999999999787
[LOG] downbytes  40801 time:  392.31730769184617 true bw:  832 downloadtimeinms:  379 latency:  20
'pushing'
832
'now'
'chunk-stream1-00078'
[LOG] update buffer 1698835772289 0.9223270000000028
[LOG] update buffer 1698835772289 0.9223270000000028
[LOG] update buffer 1698835772289 0.9223270000000028
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00078.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 392.31730769184617,
  trace: [ { s: {}, d: 392.31730769184617, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835772075, bytes: 18033, id: 13, idle: 0 },
    {
      ts: 1698835772075,
      bytes: 482,
      id: 13,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772090,
      bytes: 2138,
      id: 14,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772104,
      bytes: 534,
      id: 15,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772132,
      bytes: 4085,
      id: 17,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772146,
      bytes: 311,
      id: 18,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772146,
      bytes: 843,
      id: 18,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772174,
      bytes: 2763,
      id: 20,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772174,
      bytes: 346,
      id: 20,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772188,
      bytes: 1900,
      id: 21,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772202,
      bytes: 615,
      id: 22,
      idle: -0.4230769230599556
    },
    {
      ts: 1698835772255,
      bytes: 4123,
      id: 25,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772255,
      bytes: 348,
      id: 25,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772255,
      bytes: 775,
      id: 25,
      idle: -14.423076923059956
    },
    {
      ts: 1698835772283,
      bytes: 3505,
      id: 28,
      idle: -14.423076923059956
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: 38.06081, quality: [Object] },
    { start: 38.06081, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5745357142857144,
  averageBufferLength: 0.9351830357142853,
  currentLatency: 1.473,
  currentBufferLength: 0.906,
  throughputKbps: 834,
  throughputTimestampMs: 1698835772288,
  throughputhis: 832,
  currentTimeAbsolute: 1698835772.288,
  currentTimeRelative: 38.077069,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00078.m4s',
    startTime: 38.5,
    requestStartDate: 1698835771888,
    firstByteDate: 1698835771908,
    requestEndDate: 1698835772287,
    availabilityStartTime: 1698835771137,
    wallStartTime: 1698835809637,
    bytesLoaded: 40801,
    bytesTotal: 40801,
    delayLoadingTime: 1698835771888
  }
}
[LOG] cal jiange, in rmpc, sum:  1.8984051179746402 0.9395032952067103 0.922 1 600 830.9999995845
1
0
200
-247.99999999999795
1
1
600
752.000000000002
1
2
1000
-47.999999999997954
1
3
2500
-11859.638752445244
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.2416630564981956,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.034989169494585,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.7603152824909746,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.03333333333333333,
  next_latency: 1.6491033051481625,
  rebuf: 0.0023276125989059038,
  next_play: 0.760192893556444
}
{
  bit: 1,
  qoe: 752.000000000002,
  state: [ 1.034989169494585, 1.473, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 830.9999995845, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 830.9999995845, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00079.m4s  time:  1698835772297  cur buffer:  JSHandle@array
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00079.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 39,
    mediaStartTime: 39,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00079.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 78,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835772291,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00079.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835772412 0.7985200000000034
[LOG] get chunk:  1  time:  1698835772465  cur buffer:  1698835772412 0.799
[LOG] get chunk:  2  time:  1698835772465  cur buffer:  1698835772412 0.799
[LOG] update buffer 1698835772466 0.7785650000000004
[LOG] update buffer 1698835772466 0.8117219999999961
[LOG] get chunk:  3  time:  1698835772479  cur buffer:  1698835772466 0.812
[LOG] update buffer 1698835772480 0.8310040000000001
[LOG] get chunk:  4  time:  1698835772493  cur buffer:  1698835772480 0.831
[LOG] update buffer 1698835772493 0.8509870000000035
[LOG] get chunk:  5  time:  1698835772522  cur buffer:  1698835772493 0.851
[LOG] get chunk:  6  time:  1698835772522  cur buffer:  1698835772493 0.851
[LOG] update buffer 1698835772522 0.8554499999999976
[LOG] update buffer 1698835772522 0.8886139999999969
[LOG] get chunk:  7  time:  1698835772535  cur buffer:  1698835772522 0.889
[LOG] update buffer 1698835772535 0.9089290000000005
[LOG] update buffer 1698835772537 0.9069010000000048
[LOG] get chunk:  8  time:  1698835772549  cur buffer:  1698835772537 0.907
[LOG] update buffer 1698835772550 0.9279179999999982
[LOG] get chunk:  9  time:  1698835772564  cur buffer:  1698835772550 0.928
[LOG] update buffer 1698835772564 0.9468969999999999
[LOG] get chunk:  10  time:  1698835772591  cur buffer:  1698835772564 0.947
[LOG] get chunk:  11  time:  1698835772591  cur buffer:  1698835772564 0.947
[LOG] update buffer 1698835772592 0.952374000000006
[LOG] update buffer 1698835772592 0.9855070000000055
[LOG] get chunk:  12  time:  1698835772606  cur buffer:  1698835772592 0.986
[LOG] update buffer 1698835772606 1.004884000000004
[LOG] get chunk:  13  time:  1698835772634  cur buffer:  1698835772606 1.005
[LOG] get chunk:  14  time:  1698835772634  cur buffer:  1698835772606 1.005
[LOG] update buffer 1698835772634 1.010155999999995
[LOG] update buffer 1698835772634 1.0433189999999968
[LOG] get chunk:  15  time:  1698835772649  cur buffer:  1698835772634 1.043
[LOG] index:  0 startts:  1698835772291 ts:  1698835772311 bytes:  1494 total time:  338
[LOG] index:  1 startts:  1698835772325 ts:  1698835772325 bytes:  1500 total time:  338
[LOG] index:  2 startts:  1698835772339 ts:  1698835772339 bytes:  1500 total time:  338
[LOG] index:  3 startts:  1698835772353 ts:  1698835772353 bytes:  1500 total time:  338
[LOG] index:  4 startts:  1698835772366 ts:  1698835772366 bytes:  1500 total time:  338
[LOG] index:  5 startts:  1698835772381 ts:  1698835772381 bytes:  1500 total time:  338
[LOG] index:  6 startts:  1698835772395 ts:  1698835772395 bytes:  1500 total time:  338
[LOG] index:  7 startts:  1698835772409 ts:  1698835772409 bytes:  1500 total time:  338
[LOG] index:  8 startts:  1698835772423 ts:  1698835772423 bytes:  1500 total time:  338
[LOG] index:  9 startts:  1698835772437 ts:  1698835772437 bytes:  1500 total time:  338
[LOG] index:  10 startts:  1698835772451 ts:  1698835772451 bytes:  1500 total time:  338
[LOG] index:  11 startts:  1698835772465 ts:  1698835772465 bytes:  1500 total time:  338
[LOG] index:  12 startts:  1698835772479 ts:  1698835772479 bytes:  1500 total time:  338
[LOG] index:  13 startts:  1698835772493 ts:  1698835772493 bytes:  1500 total time:  338
[LOG] index:  14 startts:  1698835772507 ts:  1698835772507 bytes:  1500 total time:  338
[LOG] index:  15 startts:  1698835772522 ts:  1698835772522 bytes:  1500 total time:  338
[LOG] index:  16 startts:  1698835772535 ts:  1698835772535 bytes:  1500 total time:  338
[LOG] index:  17 startts:  1698835772549 ts:  1698835772549 bytes:  1500 total time:  338
[LOG] index:  18 startts:  1698835772564 ts:  1698835772564 bytes:  1500 total time:  338
[LOG] index:  19 startts:  1698835772577 ts:  1698835772577 bytes:  1500 total time:  338
[LOG] index:  20 startts:  1698835772591 ts:  1698835772591 bytes:  1500 total time:  338
[LOG] index:  21 startts:  1698835772606 ts:  1698835772606 bytes:  1500 total time:  338
[LOG] index:  22 startts:  1698835772619 ts:  1698835772619 bytes:  1500 total time:  338
[LOG] index:  23 startts:  1698835772633 ts:  1698835772633 bytes:  1500 total time:  338
[LOG] index:  24 startts:  1698835772648 ts:  1698835772648 bytes:  1500 total time:  338
[LOG] index:  25 startts:  1698835772649 ts:  1698835772649 bytes:  459 total time:  338
[LOG] index:  0 start ts/size:  1698835772311 / 1494 id  1 end ts/size:  1698835772465 / 16765 id  12 chunk time:  154 idle time: 0
[LOG] index:  1 start ts/size:  1698835772465 / 1500 id  12 end ts/size:  1698835772465 / 410 id  12 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835772465 / 1500 id  12 end ts/size:  1698835772479 / 2276 id  13 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835772493 / 1500 id  14 end ts/size:  1698835772493 / 430 id  14 chunk time:  0 idle time:  14
[LOG] index:  4 start ts/size:  1698835772493 / 1500 id  14 end ts/size:  1698835772522 / 3273 id  16 chunk time:  29 idle time:  0
[LOG] index:  5 start ts/size:  1698835772522 / 1500 id  16 end ts/size:  1698835772522 / 307 id  16 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835772522 / 1500 id  16 end ts/size:  1698835772535 / 1228 id  17 chunk time:  13 idle time:  0
[LOG] index:  7 start ts/size:  1698835772535 / 1500 id  17 end ts/size:  1698835772549 / 1631 id  18 chunk time:  14 idle time:  0
[LOG] index:  8 start ts/size:  1698835772549 / 1500 id  18 end ts/size:  1698835772564 / 816 id  19 chunk time:  15 idle time:  0
[LOG] index:  9 start ts/size:  1698835772564 / 1500 id  19 end ts/size:  1698835772591 / 3871 id  21 chunk time:  27 idle time:  0
[LOG] index:  10 start ts/size:  1698835772591 / 1500 id  21 end ts/size:  1698835772591 / 371 id  21 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835772591 / 1500 id  21 end ts/size:  1698835772606 / 863 id  22 chunk time:  15 idle time:  0
[LOG] index:  12 start ts/size:  1698835772606 / 1500 id  22 end ts/size:  1698835772633 / 2349 id  24 chunk time:  27 idle time:  0
[LOG] index:  13 start ts/size:  1698835772633 / 1500 id  24 end ts/size:  1698835772633 / 440 id  24 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835772633 / 1500 id  24 end ts/size:  1698835772649 / 2923 id  26 chunk time:  16 idle time:  0
[LOG] cur bw/size 0 854.5994065281899 36000
[LOG] real bw  854.5994065281662
[LOG] downbytes  37953 time:  355.2822499995941 true bw:  855 downloadtimeinms:  341 latency:  20
'pushing'
855
[LOG] update buffer 1698835772653 1.057661000000003
[LOG] update buffer 1698835772653 1.057661000000003
'now'
'chunk-stream1-00079'
[LOG] update buffer 1698835772653 1.057661000000003
[LOG] cal jiange, in rmpc, sum:  2.1749367186829596 1.034989169494585 1.058 1 600 843.4999995782499
1
0
200
-247.99999999999795
1
1
600
752.000000000002
1
2
1000
152.00000000000205
1
3
2500
-7719.186770208631
'running time/ms: '
1
'in abr rule coll, get all'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00079.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 355.2822499995941,
  trace: [ { s: {}, d: 355.2822499995941, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835772465, bytes: 16765, id: 12, idle: 0 },
    {
      ts: 1698835772465,
      bytes: 410,
      id: 12,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772479,
      bytes: 2276,
      id: 13,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772493,
      bytes: 430,
      id: 14,
      idle: -0.04166666665062557
    },
    {
      ts: 1698835772522,
      bytes: 3273,
      id: 16,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772522,
      bytes: 307,
      id: 16,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772535,
      bytes: 1228,
      id: 17,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772549,
      bytes: 1631,
      id: 18,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772564,
      bytes: 816,
      id: 19,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772591,
      bytes: 3871,
      id: 21,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772591,
      bytes: 371,
      id: 21,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772606,
      bytes: 863,
      id: 22,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772633,
      bytes: 2349,
      id: 24,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772633,
      bytes: 440,
      id: 24,
      idle: -14.041666666650626
    },
    {
      ts: 1698835772649,
      bytes: 2923,
      id: 26,
      idle: -14.041666666650626
    }
  ]
}
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: 38.06081, quality: [Object] },
    { start: 38.06081, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.57320704845815,
  averageBufferLength: 0.9356519823788542,
  currentLatency: 1.477,
  currentBufferLength: 1.043,
  throughputKbps: 839,
  throughputTimestampMs: 1698835772653,
  throughputhis: 855,
  currentTimeAbsolute: 1698835772.653,
  currentTimeRelative: 38.438106,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00079.m4s',
    startTime: 39,
    requestStartDate: 1698835772291,
    firstByteDate: 1698835772311,
    requestEndDate: 1698835772652,
    availabilityStartTime: 1698835771637,
    wallStartTime: 1698835810637,
    bytesLoaded: 37953,
    bytesTotal: 37953,
    delayLoadingTime: 1698835772291
  }
}
{
  next_buf: 1.3794463544161248,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.176339063248371,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9052317720806164,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.1360418103161483,
  next_latency: 1.5929623801146076,
  rebuf: 0,
  next_play: 0.7836753756303967
}
{
  bit: 1,
  qoe: 752.000000000002,
  state: [ 1.176339063248371, 1.473, 1 ]
}
[
  {
    quality: 1,
    reason: { throughput: 843.4999995782499, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 843.4999995782499, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream1-00080.m4s  time:  1698835772661  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00080.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 39.5,
    mediaStartTime: 39.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00080.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 79,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835772655,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00080.m4s',
    responseHeaders: 'flag: 11\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835772772 0.9391069999999999
[LOG] update buffer 1698835772803 0.9079380000000015
[LOG] get chunk:  1  time:  1698835772840  cur buffer:  1698835772803 0.908
[LOG] get chunk:  2  time:  1698835772840  cur buffer:  1698835772803 0.908
[LOG] update buffer 1698835772840 0.9038409999999999
[LOG] update buffer 1698835772841 0.9370009999999951
[LOG] get chunk:  3  time:  1698835772867  cur buffer:  1698835772841 0.937
[LOG] get chunk:  4  time:  1698835772868  cur buffer:  1698835772841 0.937
[LOG] update buffer 1698835772868 0.9428389999999993
[LOG] update buffer 1698835772868 0.9759409999999988
[LOG] get chunk:  5  time:  1698835772910  cur buffer:  1698835772868 0.976
[LOG] get chunk:  6  time:  1698835772910  cur buffer:  1698835772868 0.976
[LOG] update buffer 1698835772910 0.9673200000000008
[LOG] update buffer 1698835772910 1.0004769999999965
[LOG] get chunk:  7  time:  1698835772952  cur buffer:  1698835772910 1
[LOG] update buffer 1698835772952 0.9921050000000022
[LOG] get chunk:  8  time:  1698835772966  cur buffer:  1698835772952 0.992
[LOG] get chunk:  9  time:  1698835772966  cur buffer:  1698835772952 0.992
[LOG] update buffer 1698835772967 1.0109670000000008
[LOG] update buffer 1698835772967 1.0441239999999965
[LOG] update buffer 1698835772986 1.0252010000000027
[LOG] update buffer 1698835772986 1.0252010000000027
[LOG] get chunk:  10  time:  1698835772994  cur buffer:  1698835772986 1.025
[LOG] get chunk:  11  time:  1698835772994  cur buffer:  1698835772986 1.025
[LOG] update buffer 1698835772994 1.0499660000000048
[LOG] update buffer 1698835772994 1.0831230000000005
[LOG] get chunk:  12  time:  1698835773036  cur buffer:  1698835772994 1.083
[LOG] get chunk:  13  time:  1698835773036  cur buffer:  1698835772994 1.083
[LOG] get chunk:  14  time:  1698835773037  cur buffer:  1698835772994 1.083
[LOG] update buffer 1698835773037 1.0739170000000016
[LOG] update buffer 1698835773037 1.1070689999999956
[LOG] update buffer 1698835773037 1.1402629999999974
[LOG] get chunk:  15  time:  1698835773064  cur buffer:  1698835773037 1.14
[LOG] index:  0 startts:  1698835772655 ts:  1698835772676 bytes:  1494 total time:  388
[LOG] index:  1 startts:  1698835772690 ts:  1698835772690 bytes:  1500 total time:  388
[LOG] index:  2 startts:  1698835772703 ts:  1698835772703 bytes:  1500 total time:  388
[LOG] index:  3 startts:  1698835772718 ts:  1698835772718 bytes:  1500 total time:  388
[LOG] index:  4 startts:  1698835772732 ts:  1698835772732 bytes:  1500 total time:  388
[LOG] index:  5 startts:  1698835772745 ts:  1698835772745 bytes:  1500 total time:  388
[LOG] index:  6 startts:  1698835772770 ts:  1698835772770 bytes:  1500 total time:  388
[LOG] index:  7 startts:  1698835772784 ts:  1698835772784 bytes:  1500 total time:  388
[LOG] index:  8 startts:  1698835772798 ts:  1698835772798 bytes:  1500 total time:  388
[LOG] index:  9 startts:  1698835772812 ts:  1698835772812 bytes:  1500 total time:  388
[LOG] index:  10 startts:  1698835772825 ts:  1698835772825 bytes:  1500 total time:  388
[LOG] index:  11 startts:  1698835772840 ts:  1698835772840 bytes:  1500 total time:  388
[LOG] index:  12 startts:  1698835772853 ts:  1698835772853 bytes:  1500 total time:  388
[LOG] index:  13 startts:  1698835772867 ts:  1698835772867 bytes:  1500 total time:  388
[LOG] index:  14 startts:  1698835772882 ts:  1698835772882 bytes:  1500 total time:  388
[LOG] index:  15 startts:  1698835772895 ts:  1698835772895 bytes:  1500 total time:  388
[LOG] index:  16 startts:  1698835772910 ts:  1698835772910 bytes:  1500 total time:  388
[LOG] index:  17 startts:  1698835772924 ts:  1698835772924 bytes:  1500 total time:  388
[LOG] index:  18 startts:  1698835772937 ts:  1698835772937 bytes:  1500 total time:  388
[LOG] index:  19 startts:  1698835772952 ts:  1698835772952 bytes:  1500 total time:  388
[LOG] index:  20 startts:  1698835772966 ts:  1698835772966 bytes:  1500 total time:  388
[LOG] index:  21 startts:  1698835772980 ts:  1698835772980 bytes:  1500 total time:  388
[LOG] index:  22 startts:  1698835772994 ts:  1698835772994 bytes:  1492 total time:  388
[LOG] index:  23 startts:  1698835773008 ts:  1698835773008 bytes:  1500 total time:  388
[LOG] index:  24 startts:  1698835773022 ts:  1698835773022 bytes:  1500 total time:  388
[LOG] index:  25 startts:  1698835773036 ts:  1698835773036 bytes:  1479 total time:  388
[LOG] index:  26 startts:  1698835773050 ts:  1698835773050 bytes:  1500 total time:  388
[LOG] index:  27 startts:  1698835773064 ts:  1698835773064 bytes:  1417 total time:  388
[LOG] index:  0 start ts/size:  1698835772676 / 1494 id  1 end ts/size:  1698835772840 / 17297 id  12 chunk time:  164 idle time: 0
[LOG] index:  1 start ts/size:  1698835772840 / 1500 id  12 end ts/size:  1698835772840 / 426 id  12 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835772840 / 1500 id  12 end ts/size:  1698835772867 / 2469 id  14 chunk time:  27 idle time:  0
[LOG] index:  3 start ts/size:  1698835772867 / 1500 id  14 end ts/size:  1698835772867 / 405 id  14 chunk time:  0 idle time:  0
[LOG] index:  4 start ts/size:  1698835772867 / 1500 id  14 end ts/size:  1698835772910 / 3464 id  17 chunk time:  43 idle time:  0
[LOG] index:  5 start ts/size:  1698835772910 / 1500 id  17 end ts/size:  1698835772910 / 324 id  17 chunk time:  0 idle time:  0
[LOG] index:  6 start ts/size:  1698835772910 / 1500 id  17 end ts/size:  1698835772952 / 5519 id  20 chunk time:  42 idle time:  0
[LOG] index:  7 start ts/size:  1698835772966 / 1500 id  21 end ts/size:  1698835772966 / 320 id  21 chunk time:  0 idle time:  14
[LOG] index:  8 start ts/size:  1698835772966 / 1500 id  21 end ts/size:  1698835772966 / 1023 id  21 chunk time:  0 idle time:  0
[LOG] index:  9 start ts/size:  1698835772966 / 1500 id  21 end ts/size:  1698835772994 / 1808 id  23 chunk time:  28 idle time:  0
[LOG] index:  10 start ts/size:  1698835772994 / 1492 id  23 end ts/size:  1698835772994 / 425 id  23 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835772994 / 1492 id  23 end ts/size:  1698835773036 / 4204 id  26 chunk time:  42 idle time:  0
[LOG] index:  12 start ts/size:  1698835773036 / 1479 id  26 end ts/size:  1698835773036 / 461 id  26 chunk time:  0 idle time:  0
[LOG] index:  13 start ts/size:  1698835773036 / 1479 id  26 end ts/size:  1698835773036 / 610 id  26 chunk time:  0 idle time:  0
[LOG] index:  14 start ts/size:  1698835773036 / 1479 id  26 end ts/size:  1698835773064 / 3127 id  28 chunk time:  28 idle time:  0
[LOG] cur bw/size 0 828.9473684210526 31500
[LOG] real bw  828.9473684210263
[LOG] downbytes  41882 time:  404.1945396820649 true bw:  829 downloadtimeinms:  392 latency:  21
'pushing'
829
'now'
'chunk-stream1-00080'
[LOG] update buffer 1698835773069 1.1418110000000041
[LOG] update buffer 1698835773069 1.1418110000000041
[LOG] update buffer 1698835773069 1.1418110000000041
[LOG] update buffer 1698835773070 1.1414840000000055
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00080.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 404.1945396820649,
  trace: [ { s: {}, d: 404.1945396820649, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 11\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835772840, bytes: 17297, id: 12, idle: 0 },
    {
      ts: 1698835772840,
      bytes: 426,
      id: 12,
      idle: -14.476190476173473
    },
    {
      ts: 1698835772867,
      bytes: 2469,
      id: 14,
      idle: -14.476190476173473
    },
    {
      ts: 1698835772867,
      bytes: 405,
      id: 14,
      idle: -14.476190476173473
    },
    {
      ts: 1698835772910,
      bytes: 3464,
      id: 17,
      idle: -14.476190476173473
    },
    {
      ts: 1698835772910,
      bytes: 324,
      id: 17,
      idle: -14.476190476173473
    },
    {
      ts: 1698835772952,
      bytes: 5519,
      id: 20,
      idle: -14.476190476173473
    },
    { ts: 1698835772966, bytes: 320, id: 21, idle: -0.476190476173473 },
    {
      ts: 1698835772966,
      bytes: 1023,
      id: 21,
      idle: -14.476190476173473
    },
    {
      ts: 1698835772994,
      bytes: 1808,
      id: 23,
      idle: -14.476190476173473
    },
    {
      ts: 1698835772994,
      bytes: 425,
      id: 23,
      idle: -14.398984126967214
    },
    {
      ts: 1698835773036,
      bytes: 4204,
      id: 26,
      idle: -14.398984126967214
    },
    {
      ts: 1698835773036,
      bytes: 461,
      id: 26,
      idle: -14.273523809507044
    },
    {
      ts: 1698835773036,
      bytes: 610,
      id: 26,
      idle: -14.273523809507044
    },
    {
      ts: 1698835773064,
      bytes: 3127,
      id: 28,
      idle: -14.273523809507044
    }
  ]
}
[LOG] cal jiange, in rmpc, sum:  3.097200983119981 1.176339063248371 1.141 1 600 841.999999579
1
0
200
-247.99999999999795
1
1
600
752.000000000002
1
2
1000
952.000000000002
[LOG] [RmpcRule][video] requesting switch to index:  2 Average throughput 842 kbps
1
3
2500
-6433.970951651687
'running time/ms: '
1
'in abr rule coll, get all'
'Quality changed requested'
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: 38.06081, quality: [Object] },
    { start: 38.06081, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.571908695652174,
  averageBufferLength: 0.9369434782608691,
  currentLatency: 1.477,
  currentBufferLength: 1.14,
  throughputKbps: 839,
  throughputTimestampMs: 1698835773069,
  throughputhis: 829,
  currentTimeAbsolute: 1698835773.069,
  currentTimeRelative: 38.853859,
  segmentBitrateKbps: 600,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00080.m4s',
    startTime: 39.5,
    requestStartDate: 1698835772655,
    firstByteDate: 1698835772676,
    requestEndDate: 1698835773068,
    availabilityStartTime: 1698835772137,
    wallStartTime: 1698835811637,
    bytesLoaded: 41882,
    bytesTotal: 41882,
    delayLoadingTime: 1698835772655
  }
}
{
  next_buf: 1.4622351543349186,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.2587054630047523,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9871757716745841,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.17690842716004973,
  next_latency: 1.5534689979735887,
  rebuf: 0,
  next_play: 0.7994993435074819
}
{
  bit: 2,
  qoe: 952.000000000002,
  state: [ 0.9871757716745841, 1.473, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 841.999999579, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 841.999999579, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 1,
  newQuality: 2,
  reason: { throughput: 841.999999579, latency: 1.473 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 1000000,
    width: 640,
    height: 360,
    scanType: null,
    qualityIndex: 2
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream2'
[LOG] update buffer 1698835773079 1.1318320000000028
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: 38.06081, quality: [Object] },
    { start: 38.06081, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5714805194805195,
  averageBufferLength: 0.9378268398268393,
  currentLatency: 1.473,
  currentBufferLength: 1.141,
  throughputKbps: 839,
  throughputTimestampMs: 1698835773079,
  throughputhis: -1,
  currentTimeAbsolute: 1698835773.079,
  currentTimeRelative: 38.867905,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream2.m4s',
    startTime: null,
    requestStartDate: 1698835773073,
    firstByteDate: 1698835773073,
    requestEndDate: 1698835773079,
    availabilityStartTime: 1698835732137,
    wallStartTime: 0,
    bytesLoaded: 834,
    bytesTotal: 834,
    delayLoadingTime: null
  }
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00081.m4s  time:  1698835773092  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00081.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 40,
    mediaStartTime: 40,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00081.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 80,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835773079,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00081.m4s',
    responseHeaders: 'flag: 8\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835773131 1.0797740000000005
[LOG] update buffer 1698835773334 0.8766760000000033
[LOG] get chunk:  1  time:  1698835773396  cur buffer:  1698835773334 0.877
[LOG] get chunk:  2  time:  1698835773396  cur buffer:  1698835773334 0.877
[LOG] update buffer 1698835773396 0.8477460000000008
[LOG] update buffer 1698835773397 0.8808989999999994
[LOG] get chunk:  3  time:  1698835773425  cur buffer:  1698835773397 0.881
[LOG] update buffer 1698835773425 0.8859719999999953
[LOG] get chunk:  4  time:  1698835773440  cur buffer:  1698835773425 0.886
[LOG] update buffer 1698835773440 0.9039739999999981
[LOG] get chunk:  5  time:  1698835773469  cur buffer:  1698835773440 0.904
[LOG] update buffer 1698835773469 0.9086399999999983
[LOG] get chunk:  6  time:  1698835773483  cur buffer:  1698835773469 0.909
[LOG] update buffer 1698835773483 0.9275779999999969
[LOG] update buffer 1698835773491 0.920384999999996
[LOG] get chunk:  7  time:  1698835773497  cur buffer:  1698835773491 0.92
[LOG] update buffer 1698835773498 0.9466019999999986
[LOG] get chunk:  8  time:  1698835773526  cur buffer:  1698835773498 0.947
[LOG] update buffer 1698835773526 0.9512560000000008
[LOG] get chunk:  9  time:  1698835773540  cur buffer:  1698835773526 0.951
[LOG] update buffer 1698835773541 0.9702679999999972
[LOG] get chunk:  10  time:  1698835773569  cur buffer:  1698835773541 0.97
[LOG] update buffer 1698835773569 0.9749280000000056
[LOG] get chunk:  11  time:  1698835773584  cur buffer:  1698835773569 0.975
[LOG] update buffer 1698835773585 0.9929020000000008
[LOG] update buffer 1698835773600 0.9777720000000016
[LOG] get chunk:  12  time:  1698835773613  cur buffer:  1698835773600 0.978
[LOG] update buffer 1698835773613 0.9975420000000028
[LOG] get chunk:  13  time:  1698835773627  cur buffer:  1698835773613 0.998
[LOG] update buffer 1698835773628 1.0164449999999974
[LOG] get chunk:  14  time:  1698835773656  cur buffer:  1698835773628 1.016
[LOG] get chunk:  15  time:  1698835773657  cur buffer:  1698835773628 1.016
[LOG] index:  0 startts:  1698835773079 ts:  1698835773106 bytes:  1494 total time:  550
[LOG] index:  1 startts:  1698835773121 ts:  1698835773121 bytes:  1500 total time:  550
[LOG] index:  2 startts:  1698835773134 ts:  1698835773134 bytes:  1500 total time:  550
[LOG] index:  3 startts:  1698835773148 ts:  1698835773148 bytes:  1500 total time:  550
[LOG] index:  4 startts:  1698835773163 ts:  1698835773163 bytes:  1500 total time:  550
[LOG] index:  5 startts:  1698835773176 ts:  1698835773176 bytes:  1500 total time:  550
[LOG] index:  6 startts:  1698835773190 ts:  1698835773190 bytes:  1500 total time:  550
[LOG] index:  7 startts:  1698835773204 ts:  1698835773204 bytes:  1500 total time:  550
[LOG] index:  8 startts:  1698835773218 ts:  1698835773218 bytes:  1500 total time:  550
[LOG] index:  9 startts:  1698835773233 ts:  1698835773233 bytes:  1500 total time:  550
[LOG] index:  10 startts:  1698835773246 ts:  1698835773246 bytes:  1500 total time:  550
[LOG] index:  11 startts:  1698835773261 ts:  1698835773261 bytes:  1500 total time:  550
[LOG] index:  12 startts:  1698835773275 ts:  1698835773275 bytes:  1500 total time:  550
[LOG] index:  13 startts:  1698835773288 ts:  1698835773288 bytes:  1500 total time:  550
[LOG] index:  14 startts:  1698835773309 ts:  1698835773309 bytes:  1500 total time:  550
[LOG] index:  15 startts:  1698835773324 ts:  1698835773324 bytes:  1500 total time:  550
[LOG] index:  16 startts:  1698835773338 ts:  1698835773338 bytes:  1500 total time:  550
[LOG] index:  17 startts:  1698835773353 ts:  1698835773353 bytes:  1500 total time:  550
[LOG] index:  18 startts:  1698835773367 ts:  1698835773367 bytes:  1500 total time:  550
[LOG] index:  19 startts:  1698835773381 ts:  1698835773381 bytes:  1500 total time:  550
[LOG] index:  20 startts:  1698835773396 ts:  1698835773396 bytes:  1500 total time:  550
[LOG] index:  21 startts:  1698835773410 ts:  1698835773410 bytes:  1500 total time:  550
[LOG] index:  22 startts:  1698835773424 ts:  1698835773424 bytes:  1500 total time:  550
[LOG] index:  23 startts:  1698835773440 ts:  1698835773440 bytes:  1500 total time:  550
[LOG] index:  24 startts:  1698835773454 ts:  1698835773454 bytes:  1500 total time:  550
[LOG] index:  25 startts:  1698835773469 ts:  1698835773469 bytes:  1500 total time:  550
[LOG] index:  26 startts:  1698835773483 ts:  1698835773483 bytes:  1500 total time:  550
[LOG] index:  27 startts:  1698835773497 ts:  1698835773497 bytes:  1500 total time:  550
[LOG] index:  28 startts:  1698835773512 ts:  1698835773512 bytes:  1500 total time:  550
[LOG] index:  29 startts:  1698835773526 ts:  1698835773526 bytes:  1493 total time:  550
[LOG] index:  30 startts:  1698835773540 ts:  1698835773540 bytes:  1493 total time:  550
[LOG] index:  31 startts:  1698835773555 ts:  1698835773555 bytes:  1500 total time:  550
[LOG] index:  32 startts:  1698835773569 ts:  1698835773569 bytes:  1493 total time:  550
[LOG] index:  33 startts:  1698835773584 ts:  1698835773584 bytes:  1493 total time:  550
[LOG] index:  34 startts:  1698835773599 ts:  1698835773599 bytes:  1500 total time:  550
[LOG] index:  35 startts:  1698835773613 ts:  1698835773613 bytes:  1493 total time:  550
[LOG] index:  36 startts:  1698835773627 ts:  1698835773627 bytes:  1492 total time:  550
[LOG] index:  37 startts:  1698835773642 ts:  1698835773642 bytes:  1500 total time:  550
[LOG] index:  38 startts:  1698835773656 ts:  1698835773656 bytes:  1500 total time:  550
[LOG] index:  39 startts:  1698835773656 ts:  1698835773656 bytes:  1020 total time:  550
[LOG] index:  0 start ts/size:  1698835773106 / 1494 id  1 end ts/size:  1698835773396 / 30425 id  21 chunk time:  290 idle time: 0
[LOG] index:  1 start ts/size:  1698835773396 / 1500 id  21 end ts/size:  1698835773396 / 611 id  21 chunk time:  0 idle time:  0
[LOG] index:  2 start ts/size:  1698835773396 / 1500 id  21 end ts/size:  1698835773424 / 2024 id  23 chunk time:  28 idle time:  0
[LOG] index:  3 start ts/size:  1698835773424 / 1500 id  23 end ts/size:  1698835773440 / 1716 id  24 chunk time:  16 idle time:  0
[LOG] index:  4 start ts/size:  1698835773440 / 1500 id  24 end ts/size:  1698835773469 / 3717 id  26 chunk time:  29 idle time:  0
[LOG] index:  5 start ts/size:  1698835773469 / 1500 id  26 end ts/size:  1698835773483 / 861 id  27 chunk time:  14 idle time:  0
[LOG] index:  6 start ts/size:  1698835773483 / 1500 id  27 end ts/size:  1698835773497 / 2145 id  28 chunk time:  14 idle time:  0
[LOG] index:  7 start ts/size:  1698835773497 / 1500 id  28 end ts/size:  1698835773526 / 2845 id  30 chunk time:  29 idle time:  0
[LOG] index:  8 start ts/size:  1698835773526 / 1493 id  30 end ts/size:  1698835773540 / 1466 id  31 chunk time:  14 idle time:  0
[LOG] index:  9 start ts/size:  1698835773540 / 1493 id  31 end ts/size:  1698835773569 / 3362 id  33 chunk time:  29 idle time:  0
[LOG] index:  10 start ts/size:  1698835773569 / 1493 id  33 end ts/size:  1698835773584 / 1038 id  34 chunk time:  15 idle time:  0
[LOG] index:  11 start ts/size:  1698835773584 / 1493 id  34 end ts/size:  1698835773613 / 3135 id  36 chunk time:  29 idle time:  0
[LOG] index:  12 start ts/size:  1698835773613 / 1493 id  36 end ts/size:  1698835773627 / 1278 id  37 chunk time:  14 idle time:  0
[LOG] index:  13 start ts/size:  1698835773627 / 1492 id  37 end ts/size:  1698835773656 / 4154 id  40 chunk time:  29 idle time:  0
[LOG] index:  14 start ts/size:  1698835773656 / 1020 id  40 end ts/size:  1698835773656 / 694 id  40 chunk time:  0 idle time:  0
[LOG] cur bw/size 0 827.5862068965517 42000
[LOG] real bw  827.5862068965321
[LOG] downbytes  59471 time:  574.8863333326524 true bw:  828 downloadtimeinms:  556 latency:  27
'pushing'
828
'now'
'chunk-stream2-00081'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00081.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 574.8863333326524,
  trace: [ { s: {}, d: 574.8863333326524, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 8\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835773396, bytes: 30425, id: 21, idle: 0 },
    {
      ts: 1698835773396,
      bytes: 611,
      id: 21,
      idle: -14.499999999982826
    },
    {
      ts: 1698835773424,
      bytes: 2024,
      id: 23,
      idle: -14.499999999982826
    },
    {
      ts: 1698835773440,
      bytes: 1716,
      id: 24,
      idle: -14.499999999982826
    },
    {
      ts: 1698835773469,
      bytes: 3717,
      id: 26,
      idle: -14.499999999982826
    },
    {
      ts: 1698835773483,
      bytes: 861,
      id: 27,
      idle: -14.499999999982826
    },
    {
      ts: 1698835773497,
      bytes: 2145,
      id: 28,
      idle: -14.499999999982826
    },
    {
      ts: 1698835773526,
      bytes: 2845,
      id: 30,
      idle: -14.499999999982826
    },
    {
      ts: 1698835773540,
      bytes: 1466,
      id: 31,
      idle: -14.432333333316238
    },
    {
      ts: 1698835773569,
      bytes: 3362,
      id: 33,
      idle: -14.432333333316238
    },
    {
      ts: 1698835773584,
      bytes: 1038,
      id: 34,
      idle: -14.432333333316238
    },
    {
      ts: 1698835773613,
      bytes: 3135,
      id: 36,
      idle: -14.432333333316238
    },
    {
      ts: 1698835773627,
      bytes: 1278,
      id: 37,
      idle: -14.432333333316238
    },
    {
      ts: 1698835773656,
      bytes: 4154,
      id: 40,
      idle: -14.422666666649583
    },
    { ts: 1698835773656, bytes: 694, id: 40, idle: -9.859999999988322 }
  ]
}
[LOG] update buffer 1698835773663 1.0146149999999992
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: 38.06081, quality: [Object] },
    { start: 38.06081, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5698127659574468,
  averageBufferLength: 0.9387404255319145,
  currentLatency: 1.478,
  currentBufferLength: 1.016,
  throughputKbps: 837,
  throughputTimestampMs: 1698835773662,
  throughputhis: 828,
  currentTimeAbsolute: 1698835773.662,
  currentTimeRelative: 39.446337,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00081.m4s',
    startTime: 40,
    requestStartDate: 1698835773079,
    firstByteDate: 1698835773106,
    requestEndDate: 1698835773662,
    availabilityStartTime: 1698835772637,
    wallStartTime: 1698835812637,
    bytesLoaded: 59471,
    bytesTotal: 59471,
    delayLoadingTime: 1698835773079
  }
}
[LOG] update buffer 1698835773664 1.047296000000003
[LOG] update buffer 1698835773664 1.047296000000003
[LOG] update buffer 1698835773664 1.047296000000003
[LOG] cal jiange, in rmpc, sum:  5.713870894773359 0.9871757716745841 1.047 2 1000 828.49999958575
1
0
200
-647.999999999998
1
1
600
352.0000000000021
1
2
1000
552.000000000002
1
3
2500
-8177.946452281988
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.3662999395896211,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 1.1248998187688597,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9174996979480988,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.11750062100408365,
  next_latency: 1.6122513761338362,
  rebuf: 0,
  next_play: 0.7708125037083741
}
{
  bit: 2,
  qoe: 552.000000000002,
  state: [ 0.9174996979480988, 1.473, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 828.49999958575, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 828.49999958575, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00082.m4s  time:  1698835773671  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00082.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 40.5,
    mediaStartTime: 40.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00082.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 81,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835773665,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00082.m4s',
    responseHeaders: 'flag: 11\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835773850 0.860990000000001
[LOG] update buffer 1698835773866 0.8454350000000019
[LOG] get chunk:  1  time:  1698835774004  cur buffer:  1698835773866 0.845
[LOG] update buffer 1698835774005 0.7395599999999973
[LOG] get chunk:  2  time:  1698835774019  cur buffer:  1698835774005 0.74
[LOG] update buffer 1698835774019 0.7586099999999973
[LOG] get chunk:  3  time:  1698835774033  cur buffer:  1698835774019 0.759
[LOG] update buffer 1698835774033 0.7776169999999993
[LOG] get chunk:  4  time:  1698835774063  cur buffer:  1698835774033 0.778
[LOG] update buffer 1698835774063 0.7812819999999974
[LOG] get chunk:  5  time:  1698835774077  cur buffer:  1698835774063 0.781
[LOG] update buffer 1698835774077 0.800227999999997
[LOG] get chunk:  6  time:  1698835774106  cur buffer:  1698835774077 0.8
[LOG] update buffer 1698835774106 0.8048149999999978
[LOG] get chunk:  7  time:  1698835774120  cur buffer:  1698835774106 0.805
[LOG] update buffer 1698835774121 0.8230130000000031
[LOG] update buffer 1698835774131 0.8131350000000026
[LOG] get chunk:  8  time:  1698835774150  cur buffer:  1698835774131 0.813
[LOG] update buffer 1698835774150 0.8271730000000019
[LOG] get chunk:  9  time:  1698835774164  cur buffer:  1698835774150 0.827
[LOG] update buffer 1698835774165 0.8460309999999964
[LOG] get chunk:  10  time:  1698835774208  cur buffer:  1698835774165 0.846
[LOG] get chunk:  11  time:  1698835774208  cur buffer:  1698835774165 0.846
[LOG] update buffer 1698835774208 0.8358830000000026
[LOG] update buffer 1698835774208 0.8690449999999998
[LOG] update buffer 1698835774209 0.8683520000000016
[LOG] get chunk:  12  time:  1698835774237  cur buffer:  1698835774209 0.868
[LOG] update buffer 1698835774237 0.8736820000000023
[LOG] get chunk:  13  time:  1698835774251  cur buffer:  1698835774237 0.874
[LOG] update buffer 1698835774252 0.8926999999999978
[LOG] get chunk:  14  time:  1698835774295  cur buffer:  1698835774251 0.893
[LOG] get chunk:  15  time:  1698835774296  cur buffer:  1698835774251 0.893
[LOG] index:  0 startts:  1698835773666 ts:  1698835773685 bytes:  1494 total time:  611
[LOG] index:  1 startts:  1698835773699 ts:  1698835773699 bytes:  1500 total time:  611
[LOG] index:  2 startts:  1698835773714 ts:  1698835773714 bytes:  1500 total time:  611
[LOG] index:  3 startts:  1698835773728 ts:  1698835773728 bytes:  1500 total time:  611
[LOG] index:  4 startts:  1698835773742 ts:  1698835773742 bytes:  1500 total time:  611
[LOG] index:  5 startts:  1698835773758 ts:  1698835773758 bytes:  1500 total time:  611
[LOG] index:  6 startts:  1698835773772 ts:  1698835773772 bytes:  1500 total time:  611
[LOG] index:  7 startts:  1698835773786 ts:  1698835773786 bytes:  1500 total time:  611
[LOG] index:  8 startts:  1698835773801 ts:  1698835773801 bytes:  1500 total time:  611
[LOG] index:  9 startts:  1698835773815 ts:  1698835773815 bytes:  1500 total time:  611
[LOG] index:  10 startts:  1698835773843 ts:  1698835773843 bytes:  1500 total time:  611
[LOG] index:  11 startts:  1698835773858 ts:  1698835773858 bytes:  1500 total time:  611
[LOG] index:  12 startts:  1698835773873 ts:  1698835773873 bytes:  1500 total time:  611
[LOG] index:  13 startts:  1698835773888 ts:  1698835773888 bytes:  1500 total time:  611
[LOG] index:  14 startts:  1698835773902 ts:  1698835773902 bytes:  1500 total time:  611
[LOG] index:  15 startts:  1698835773916 ts:  1698835773916 bytes:  1500 total time:  611
[LOG] index:  16 startts:  1698835773931 ts:  1698835773931 bytes:  1500 total time:  611
[LOG] index:  17 startts:  1698835773945 ts:  1698835773945 bytes:  1500 total time:  611
[LOG] index:  18 startts:  1698835773960 ts:  1698835773960 bytes:  1500 total time:  611
[LOG] index:  19 startts:  1698835773975 ts:  1698835773975 bytes:  1500 total time:  611
[LOG] index:  20 startts:  1698835773990 ts:  1698835773990 bytes:  1500 total time:  611
[LOG] index:  21 startts:  1698835774004 ts:  1698835774004 bytes:  1500 total time:  611
[LOG] index:  22 startts:  1698835774019 ts:  1698835774019 bytes:  1500 total time:  611
[LOG] index:  23 startts:  1698835774033 ts:  1698835774033 bytes:  1500 total time:  611
[LOG] index:  24 startts:  1698835774047 ts:  1698835774047 bytes:  1500 total time:  611
[LOG] index:  25 startts:  1698835774063 ts:  1698835774063 bytes:  1500 total time:  611
[LOG] index:  26 startts:  1698835774077 ts:  1698835774077 bytes:  1500 total time:  611
[LOG] index:  27 startts:  1698835774091 ts:  1698835774091 bytes:  1500 total time:  611
[LOG] index:  28 startts:  1698835774106 ts:  1698835774106 bytes:  1500 total time:  611
[LOG] index:  29 startts:  1698835774120 ts:  1698835774120 bytes:  1500 total time:  611
[LOG] index:  30 startts:  1698835774135 ts:  1698835774135 bytes:  1500 total time:  611
[LOG] index:  31 startts:  1698835774150 ts:  1698835774150 bytes:  1500 total time:  611
[LOG] index:  32 startts:  1698835774164 ts:  1698835774164 bytes:  1500 total time:  611
[LOG] index:  33 startts:  1698835774179 ts:  1698835774179 bytes:  1500 total time:  611
[LOG] index:  34 startts:  1698835774193 ts:  1698835774193 bytes:  1500 total time:  611
[LOG] index:  35 startts:  1698835774208 ts:  1698835774208 bytes:  1493 total time:  611
[LOG] index:  36 startts:  1698835774222 ts:  1698835774222 bytes:  1500 total time:  611
[LOG] index:  37 startts:  1698835774237 ts:  1698835774237 bytes:  1493 total time:  611
[LOG] index:  38 startts:  1698835774251 ts:  1698835774251 bytes:  1492 total time:  611
[LOG] index:  39 startts:  1698835774266 ts:  1698835774266 bytes:  1500 total time:  611
[LOG] index:  40 startts:  1698835774281 ts:  1698835774281 bytes:  1500 total time:  611
[LOG] index:  41 startts:  1698835774295 ts:  1698835774295 bytes:  1493 total time:  611
[LOG] index:  42 startts:  1698835774296 ts:  1698835774296 bytes:  93 total time:  611
[LOG] index:  0 start ts/size:  1698835773685 / 1494 id  1 end ts/size:  1698835774004 / 32776 id  22 chunk time:  319 idle time: 0
[LOG] index:  1 start ts/size:  1698835774004 / 1500 id  22 end ts/size:  1698835774019 / 1073 id  23 chunk time:  15 idle time:  0
[LOG] index:  2 start ts/size:  1698835774019 / 1500 id  23 end ts/size:  1698835774033 / 2136 id  24 chunk time:  14 idle time:  0
[LOG] index:  3 start ts/size:  1698835774047 / 1500 id  25 end ts/size:  1698835774063 / 2777 id  26 chunk time:  16 idle time:  14
[LOG] index:  4 start ts/size:  1698835774063 / 1500 id  26 end ts/size:  1698835774077 / 1387 id  27 chunk time:  14 idle time:  0
[LOG] index:  5 start ts/size:  1698835774077 / 1500 id  27 end ts/size:  1698835774106 / 3244 id  29 chunk time:  29 idle time:  0
[LOG] index:  6 start ts/size:  1698835774106 / 1500 id  29 end ts/size:  1698835774120 / 1543 id  30 chunk time:  14 idle time:  0
[LOG] index:  7 start ts/size:  1698835774135 / 1500 id  31 end ts/size:  1698835774150 / 2972 id  32 chunk time:  15 idle time:  15
[LOG] index:  8 start ts/size:  1698835774164 / 1500 id  33 end ts/size:  1698835774164 / 1408 id  33 chunk time:  0 idle time:  14
[LOG] index:  9 start ts/size:  1698835774164 / 1500 id  33 end ts/size:  1698835774208 / 3861 id  36 chunk time:  44 idle time:  0
[LOG] index:  10 start ts/size:  1698835774208 / 1493 id  36 end ts/size:  1698835774208 / 789 id  36 chunk time:  0 idle time:  0
[LOG] index:  11 start ts/size:  1698835774222 / 1500 id  37 end ts/size:  1698835774237 / 2564 id  38 chunk time:  15 idle time:  14
[LOG] index:  12 start ts/size:  1698835774237 / 1493 id  38 end ts/size:  1698835774251 / 1630 id  39 chunk time:  14 idle time:  0
[LOG] index:  13 start ts/size:  1698835774251 / 1492 id  39 end ts/size:  1698835774295 / 4214 id  42 chunk time:  44 idle time:  0
[LOG] index:  14 start ts/size:  1698835774295 / 1493 id  42 end ts/size:  1698835774296 / 684 id  43 chunk time:  1 idle time:  0
[LOG] cur bw/size 0 803.1496062992126 51000
[LOG] real bw  803.1496062991969
[LOG] downbytes  63058 time:  628.1071372541322 true bw:  803 downloadtimeinms:  616 latency:  19
'pushing'
803
'now'
'chunk-stream2-00082'
[LOG] update buffer 1698835774302 0.8758749999999935
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00082.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 628.1071372541322,
  trace: [ { s: {}, d: 628.1071372541322, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 11\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader',
  chunks: [
    { ts: 1698835774004, bytes: 32776, id: 22, idle: 0 },
    {
      ts: 1698835774019,
      bytes: 1073,
      id: 23,
      idle: -14.941176470569925
    },
    {
      ts: 1698835774033,
      bytes: 2136,
      id: 24,
      idle: -14.941176470569925
    },
    {
      ts: 1698835774063,
      bytes: 2777,
      id: 26,
      idle: -0.9411764705699248
    },
    {
      ts: 1698835774077,
      bytes: 1387,
      id: 27,
      idle: -14.941176470569925
    },
    {
      ts: 1698835774106,
      bytes: 3244,
      id: 29,
      idle: -14.941176470569925
    },
    {
      ts: 1698835774120,
      bytes: 1543,
      id: 30,
      idle: -14.941176470569925
    },
    {
      ts: 1698835774150,
      bytes: 2972,
      id: 32,
      idle: 0.05882352943007518
    },
    {
      ts: 1698835774164,
      bytes: 1408,
      id: 33,
      idle: -0.9411764705699248
    },
    {
      ts: 1698835774208,
      bytes: 3861,
      id: 36,
      idle: -14.941176470569925
    },
    {
      ts: 1698835774208,
      bytes: 789,
      id: 36,
      idle: -14.871450980373933
    },
    {
      ts: 1698835774237,
      bytes: 2564,
      id: 38,
      idle: -0.9411764705699248
    },
    {
      ts: 1698835774251,
      bytes: 1630,
      id: 39,
      idle: -14.871450980373933
    },
    {
      ts: 1698835774295,
      bytes: 4214,
      id: 42,
      idle: -14.861490196060219
    },
    {
      ts: 1698835774296,
      bytes: 684,
      id: 43,
      idle: -14.871450980373933
    }
  ]
}
[LOG] update buffer 1698835774302 0.9087430000000012
[LOG] update buffer 1698835774302 0.9087430000000012
[LOG] update buffer 1698835774302 0.9087430000000012
{
  switchHistory: [
    { start: 8.697, end: 8.983781, quality: [Object] },
    { start: 8.983781, end: 9.183758, quality: [Object] },
    { start: 9.183758, end: 10.191745, quality: [Object] },
    { start: 10.191745, end: 12.544443, quality: [Object] },
    { start: 12.544443, end: 13.142524, quality: [Object] },
    { start: 13.142524, end: 17.228098, quality: [Object] },
    { start: 17.228098, end: 18.556183, quality: [Object] },
    { start: 18.556183, end: 21.212484, quality: [Object] },
    { start: 21.212484, end: 25.196848, quality: [Object] },
    { start: 25.196848, end: 26.259592, quality: [Object] },
    { start: 26.259592, end: 27.58748, quality: [Object] },
    { start: 27.58748, end: 28.649976, quality: [Object] },
    { start: 28.649976, end: 30.244004, quality: [Object] },
    { start: 30.244004, end: 32.509586, quality: [Object] },
    { start: 32.509586, end: 33.545331, quality: [Object] },
    { start: 33.545331, end: 35.138941, quality: [Object] },
    { start: 35.138941, end: 35.670199, quality: [Object] },
    { start: 35.670199, end: 38.06081, quality: [Object] },
    { start: 38.06081, end: null, quality: [Object] }
  ],
  stallDurationMs: 547.6999999992549,
  numStalls: 5,
  averageLatency: 1.5681841004184103,
  averageBufferLength: 0.9382217573221754,
  currentLatency: 1.473,
  currentBufferLength: 0.893,
  throughputKbps: 820,
  throughputTimestampMs: 1698835774301,
  throughputhis: 803,
  currentTimeAbsolute: 1698835774.301,
  currentTimeRelative: 40.090372,
  segmentBitrateKbps: 1000,
  playbackSpeed: 1,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00082.m4s',
    startTime: 40.5,
    requestStartDate: 1698835773666,
    firstByteDate: 1698835773685,
    requestEndDate: 1698835774301,
    availabilityStartTime: 1698835773137,
    wallStartTime: 1698835813637,
    bytesLoaded: 63058,
    bytesTotal: 63058,
    delayLoadingTime: 1698835773665
  }
}
[LOG] cal jiange, in rmpc, sum:  0.9350602792902301 0.9174996979480988 0.909 2 1000 815.49999959225
1
0
200
-647.999999999998
1
1
600
152.00000000000205
1
2
1000
352.00000000000205
1
3
2500
-13796.914560114354
'running time/ms: '
1
'in abr rule coll, get all'
{
  next_buf: 1.2263170194503377,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.9810687054098708,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.7698203913694049,
  next_latency: 1.473,
  rebuf: 0,
  next_play: 1
}
{
  next_buf: 0.05413241199903074,
  next_latency: 1.7311302842195175,
  rebuf: 0.08181489276738074,
  next_play: 0.753870166457359
}
{
  bit: 2,
  qoe: 352.00000000000205,
  state: [ 0.7698203913694049, 1.473, 1 ]
}
[
  {
    quality: 2,
    reason: { throughput: 815.49999959225, latency: 1.473 },
    priority: 1,
    getClassName: {}
  }
]
{
  quality: 2,
  reason: { throughput: 815.49999959225, latency: 1.473 },
  priority: 0.5,
  getClassName: {}
}
'entering: '
[LOG] cal jiange, in fetch  http://166.111.138.128:9001/live/chunk-stream2-00083.m4s  time:  1698835774310  cur buffer:  JSHandle@array
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00083.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 41,
    mediaStartTime: 41,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00083.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 82,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1698835774305,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00083.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] update buffer 1698835774397 0.814230000000002
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 1,
  newQuality: 2,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] update buffer 1698835774569 0.6422760000000025
[LOG] get chunk:  1  time:  1698835774654  cur buffer:  1698835774569 0.642
[LOG] get chunk:  2  time:  1698835774654  cur buffer:  1698835774569 0.642
[LOG] update buffer 1698835774654 0.5897170000000003
[LOG] update buffer 1698835774655 0.6228739999999959
[LOG] update buffer 1698835774663 0.614970999999997
[LOG] get chunk:  3  time:  1698835774684  cur buffer:  1698835774663 0.615
[LOG] update buffer 1698835774684 0.6268630000000002
[LOG] get chunk:  4  time:  1698835774698  cur buffer:  1698835774684 0.627
[LOG] update buffer 1698835774699 0.6456060000000008
[LOG] get chunk:  5  time:  1698835774727  cur buffer:  1698835774699 0.646
[LOG] update buffer 1698835774728 0.6497460000000004
[LOG] get chunk:  6  time:  1698835774742  cur buffer:  1698835774728 0.65
[LOG] update buffer 1698835774742 0.6685139999999947
[LOG] get chunk:  7  time:  1698835774771  cur buffer:  1698835774742 0.669
[LOG] update buffer 1698835774771 0.6728459999999998
[LOG] get chunk:  8  time:  1698835774800  cur buffer:  1698835774771 0.673
[LOG] update buffer 1698835774800 0.677073
[LOG] get chunk:  9  time:  1698835774815  cur buffer:  1698835774800 0.677
[LOG] update buffer 1698835774815 0.695808999999997
[LOG] get chunk:  10  time:  1698835774829  cur buffer:  1698835774815 0.696
[LOG] update buffer 1698835774830 0.7145530000000022
[LOG] get chunk:  11  time:  1698835774858  cur buffer:  1698835774830 0.715
[LOG] update buffer 1698835774859 0.7189560000000057
in mode 0
node run.js fcc 0 fusion-slide-rmpc
