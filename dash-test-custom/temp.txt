133.33333333333331
Wait 0s before starting browser..
now1 1697022729320
abrThroughput abrFetchThroughputCalculationFusion slidingWindow
now2 1697022729468 file:///home/cjh/work/dash/dash.js/samples/low-latency/test.html
Waiting for player to setup.
[LOG] Waiting for stream to load.
'Quality changed requested'
{
  oldQuality: 0,
  newQuality: 2,
  reason: null,
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 1000000,
    width: 640,
    height: 360,
    scanType: null,
    qualityIndex: 2
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
[LOG] in load  1697022729671
[LOG] Load complete.
Waiting for 10 seconds of uninterrupted max-quality playback before starting.
Player is stable at the max quality, beginning network emulation
[INFO] Begin recording
[LOG] in fetch  1697022729696
'entering: '
[LOG] flag  15
{
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 8.5,
    mediaStartTime: 8.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 2,
    index: 17,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1697022729670,
    responseType: 'arraybuffer',
    representationId: '2',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] Stall now with currentBuffer=0.006
[LOG] end==remain remain!!!!!!!!!!!!!!!!!!!!!!!!!!!  0
[LOG] index:  0 startts:  1697022729671 ts:  1697022729712 bytes:  1494 total time:  678
[LOG] index:  1 startts:  1697022729727 ts:  1697022729727 bytes:  1500 total time:  678
[LOG] index:  2 startts:  1697022729760 ts:  1697022729760 bytes:  1500 total time:  678
[LOG] index:  3 startts:  1697022729776 ts:  1697022729776 bytes:  1500 total time:  678
[LOG] index:  4 startts:  1697022729791 ts:  1697022729791 bytes:  1500 total time:  678
[LOG] index:  5 startts:  1697022729808 ts:  1697022729808 bytes:  1500 total time:  678
[LOG] index:  6 startts:  1697022729824 ts:  1697022729824 bytes:  1500 total time:  678
[LOG] index:  7 startts:  1697022729839 ts:  1697022729839 bytes:  1500 total time:  678
[LOG] index:  8 startts:  1697022729856 ts:  1697022729856 bytes:  1500 total time:  678
[LOG] index:  9 startts:  1697022729872 ts:  1697022729872 bytes:  1500 total time:  678
[LOG] index:  10 startts:  1697022729888 ts:  1697022729888 bytes:  1500 total time:  678
[LOG] index:  11 startts:  1697022729904 ts:  1697022729904 bytes:  1500 total time:  678
[LOG] index:  12 startts:  1697022729920 ts:  1697022729920 bytes:  1500 total time:  678
[LOG] index:  13 startts:  1697022729936 ts:  1697022729936 bytes:  1500 total time:  678
[LOG] index:  14 startts:  1697022729952 ts:  1697022729952 bytes:  1493 total time:  678
[LOG] index:  15 startts:  1697022729968 ts:  1697022729968 bytes:  1493 total time:  678
[LOG] index:  16 startts:  1697022729984 ts:  1697022729984 bytes:  1500 total time:  678
[LOG] index:  17 startts:  1697022730001 ts:  1697022730001 bytes:  1493 total time:  678
[LOG] index:  18 startts:  1697022730016 ts:  1697022730016 bytes:  1493 total time:  678
[LOG] index:  19 startts:  1697022730038 ts:  1697022730038 bytes:  1500 total time:  678
[LOG] index:  20 startts:  1697022730055 ts:  1697022730055 bytes:  1493 total time:  678
[LOG] index:  21 startts:  1697022730071 ts:  1697022730071 bytes:  1493 total time:  678
[LOG] index:  22 startts:  1697022730089 ts:  1697022730089 bytes:  1500 total time:  678
[LOG] index:  23 startts:  1697022730103 ts:  1697022730103 bytes:  1493 total time:  678
[LOG] index:  24 startts:  1697022730119 ts:  1697022730119 bytes:  1493 total time:  678
[LOG] index:  25 startts:  1697022730134 ts:  1697022730134 bytes:  1500 total time:  678
[LOG] index:  26 startts:  1697022730150 ts:  1697022730150 bytes:  1493 total time:  678
[LOG] index:  27 startts:  1697022730167 ts:  1697022730167 bytes:  1500 total time:  678
[LOG] index:  28 startts:  1697022730182 ts:  1697022730182 bytes:  1493 total time:  678
[LOG] index:  29 startts:  1697022730198 ts:  1697022730198 bytes:  1500 total time:  678
[LOG] index:  30 startts:  1697022730214 ts:  1697022730214 bytes:  1493 total time:  678
[LOG] index:  31 startts:  1697022730230 ts:  1697022730230 bytes:  1500 total time:  678
[LOG] index:  32 startts:  1697022730246 ts:  1697022730246 bytes:  1492 total time:  678
[LOG] index:  33 startts:  1697022730262 ts:  1697022730262 bytes:  1500 total time:  678
[LOG] index:  34 startts:  1697022730278 ts:  1697022730278 bytes:  1500 total time:  678
[LOG] index:  35 startts:  1697022730294 ts:  1697022730294 bytes:  1492 total time:  678
[LOG] index:  36 startts:  1697022730310 ts:  1697022730310 bytes:  1500 total time:  678
[LOG] index:  37 startts:  1697022730325 ts:  1697022730325 bytes:  1500 total time:  678
[LOG] index:  38 startts:  1697022730342 ts:  1697022730342 bytes:  1492 total time:  678
[LOG] index:  39 startts:  1697022730358 ts:  1697022730358 bytes:  1500 total time:  678
[LOG] index:  40 startts:  1697022730373 ts:  1697022730373 bytes:  1500 total time:  678
[LOG] index:  41 startts:  1697022730390 ts:  1697022730390 bytes:  1500 total time:  678
[LOG] index:  42 startts:  1697022730390 ts:  1697022730390 bytes:  441 total time:  678
[LOG] index:  0 start ts/size:  1697022729712 / 1494 id  1 end ts/size:  1697022729952 / 22074 id  15 chunk time:  240
[LOG] index:  1 start ts/size:  1697022729952 / 1493 id  15 end ts/size:  1697022729968 / 1260 id  16 chunk time:  16
[LOG] index:  2 start ts/size:  1697022729968 / 1493 id  16 end ts/size:  1697022730001 / 2250 id  18 chunk time:  33
[LOG] index:  3 start ts/size:  1697022730001 / 1493 id  18 end ts/size:  1697022730016 / 2216 id  19 chunk time:  15
[LOG] index:  4 start ts/size:  1697022730016 / 1493 id  19 end ts/size:  1697022730055 / 2393 id  21 chunk time:  39
[LOG] index:  5 start ts/size:  1697022730055 / 1493 id  21 end ts/size:  1697022730071 / 2188 id  22 chunk time:  16
[LOG] index:  6 start ts/size:  1697022730071 / 1493 id  22 end ts/size:  1697022730103 / 2716 id  24 chunk time:  32
[LOG] index:  7 start ts/size:  1697022730103 / 1493 id  24 end ts/size:  1697022730119 / 2285 id  25 chunk time:  16
[LOG] index:  8 start ts/size:  1697022730134 / 1500 id  26 end ts/size:  1697022730150 / 2430 id  27 chunk time:  16
[LOG] index:  9 start ts/size:  1697022730150 / 1493 id  27 end ts/size:  1697022730182 / 2918 id  29 chunk time:  32
[LOG] index:  10 start ts/size:  1697022730182 / 1493 id  29 end ts/size:  1697022730214 / 2535 id  31 chunk time:  32
[LOG] index:  11 start ts/size:  1697022730214 / 1493 id  31 end ts/size:  1697022730246 / 3588 id  33 chunk time:  32
[LOG] index:  12 start ts/size:  1697022730246 / 1492 id  33 end ts/size:  1697022730294 / 4269 id  36 chunk time:  48
[LOG] index:  13 start ts/size:  1697022730294 / 1492 id  36 end ts/size:  1697022730342 / 4490 id  39 chunk time:  48
[LOG] index:  14 start ts/size:  1697022730342 / 1492 id  39 end ts/size:  1697022730390 / 5722 id  43 chunk time:  48
[LOG] flag  15
[LOG] fusion bytes time and bw  61399 678 724.47197640118
[LOG] cur bw/size 0 724.47197640118 61399
[LOG] real bw  724.4719764011683
[LOG] downbytes  63334 time:  699.3672861111976 true bw:  724 downloadtimeinms:  686 latency:  42
'pushing'
724
'now'
'chunk-stream2-00018'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 699.3672861111976,
  trace: [ { s: {}, d: 699.3672861111976, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 2,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader'
}
{
  switchHistory: [ { start: 8.6925, end: null, quality: [Object] } ],
  stallDurationMs: 257.40000000596046,
  numStalls: 1,
  averageLatency: 1.9497499999999999,
  averageBufferLength: 0.0495,
  currentLatency: 2.063,
  currentBufferLength: 0.091,
  throughputKbps: 724,
  throughputTimestampMs: 1697022730400,
  throughputhis: 724,
  currentTimeAbsolute: 1697022730.4,
  currentTimeRelative: 8.909939,
  segmentBitrateKbps: 1000,
  playbackSpeed: 0.7698243847939241,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream2-00018.m4s',
    startTime: 8.5,
    requestStartDate: 1697022729670,
    firstByteDate: 1697022729712,
    requestEndDate: 1697022730398,
    availabilityStartTime: 1697022727996,
    wallStartTime: 1697022736496,
    bytesLoaded: 63334,
    bytesTotal: 63334,
    delayLoadingTime: 1697022729670
  }
}
[LOG] in thr, 651.6 42 1
'in abr rule coll, get all'
'SwitchRequest'
'Quality changed requested'
[
  {
    quality: 1,
    reason: { throughput: 651.6, latency: 42 },
    priority: 0.5,
    getClassName: {}
  }
]
[
  {
    quality: 1,
    reason: { throughput: 651.6, latency: 42 },
    priority: 0.5,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 651.6, latency: 42 },
  priority: 0.5,
  getClassName: {}
}
{
  oldQuality: 2,
  newQuality: 1,
  reason: { throughput: 651.6, latency: 42 },
  streamInfo: {
    id: '0',
    index: 0,
    start: 0,
    duration: null,
    manifestInfo: {
      dvrWindowSize: null,
      loadedTime: {},
      availableFrom: {},
      minBufferTime: 0.5,
      duration: null,
      isDynamic: true,
      maxFragmentDuration: null,
      serviceDescriptions: [],
      protocol: 'DASH'
    },
    isLast: true
  },
  bitrateInfo: {
    mediaType: 'video',
    bitrate: 600000,
    width: 480,
    height: 270,
    scanType: null,
    qualityIndex: 1
  },
  maxIdx: 5,
  mediaType: 'video',
  type: 'qualityChangeRequested',
  streamId: '0'
}
'now'
'init-stream1'
[LOG] in load  1697022730452
{
  switchHistory: [ { start: 8.6925, end: null, quality: [Object] } ],
  stallDurationMs: 257.40000000596046,
  numStalls: 1,
  averageLatency: 1.9731999999999998,
  averageBufferLength: 0.056,
  currentLatency: 2.067,
  currentBufferLength: 0.082,
  throughputKbps: 724,
  throughputTimestampMs: 1697022730450,
  throughputhis: -1,
  currentTimeAbsolute: 1697022730.45,
  currentTimeRelative: 8.955395,
  segmentBitrateKbps: 600,
  playbackSpeed: 0.7698243847939241,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/init-stream1.m4s',
    startTime: null,
    requestStartDate: 1697022730403,
    firstByteDate: 1697022730403,
    requestEndDate: 1697022730450,
    availabilityStartTime: 1697022718996,
    wallStartTime: 0,
    bytesLoaded: 833,
    bytesTotal: 833,
    delayLoadingTime: null
  }
}
[LOG] in fetch  1697022730470
[LOG] flag  15
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00019.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 9,
    mediaStartTime: 9,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00019.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 18,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1697022730452,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00019.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
'Quality changed'
[LOG] Stall now with currentBuffer=0.02
{
  mediaType: 'video',
  oldQuality: null,
  newQuality: 2,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] end==remain remain!!!!!!!!!!!!!!!!!!!!!!!!!!!  0
[LOG] end==remain remain!!!!!!!!!!!!!!!!!!!!!!!!!!!  0
[LOG] index:  0 startts:  1697022730452 ts:  1697022730486 bytes:  1442 total time:  388
[LOG] index:  1 startts:  1697022730503 ts:  1697022730503 bytes:  1500 total time:  388
[LOG] index:  2 startts:  1697022730517 ts:  1697022730517 bytes:  1500 total time:  388
[LOG] index:  3 startts:  1697022730533 ts:  1697022730533 bytes:  1500 total time:  388
[LOG] index:  4 startts:  1697022730549 ts:  1697022730549 bytes:  1500 total time:  388
[LOG] index:  5 startts:  1697022730565 ts:  1697022730565 bytes:  1500 total time:  388
[LOG] index:  6 startts:  1697022730581 ts:  1697022730581 bytes:  1500 total time:  388
[LOG] index:  7 startts:  1697022730605 ts:  1697022730605 bytes:  1500 total time:  388
[LOG] index:  8 startts:  1697022730621 ts:  1697022730621 bytes:  1500 total time:  388
[LOG] index:  9 startts:  1697022730637 ts:  1697022730637 bytes:  1500 total time:  388
[LOG] index:  10 startts:  1697022730653 ts:  1697022730653 bytes:  1493 total time:  388
[LOG] index:  11 startts:  1697022730668 ts:  1697022730668 bytes:  1493 total time:  388
[LOG] index:  12 startts:  1697022730685 ts:  1697022730685 bytes:  1493 total time:  388
[LOG] index:  13 startts:  1697022730700 ts:  1697022730700 bytes:  1493 total time:  388
[LOG] index:  14 startts:  1697022730716 ts:  1697022730716 bytes:  1486 total time:  388
[LOG] index:  15 startts:  1697022730732 ts:  1697022730732 bytes:  1500 total time:  388
[LOG] index:  16 startts:  1697022730747 ts:  1697022730747 bytes:  1486 total time:  388
[LOG] index:  17 startts:  1697022730764 ts:  1697022730764 bytes:  1493 total time:  388
[LOG] index:  18 startts:  1697022730779 ts:  1697022730779 bytes:  1500 total time:  388
[LOG] index:  19 startts:  1697022730795 ts:  1697022730795 bytes:  1486 total time:  388
[LOG] index:  20 startts:  1697022730811 ts:  1697022730811 bytes:  1499 total time:  388
[LOG] index:  21 startts:  1697022730827 ts:  1697022730827 bytes:  1494 total time:  388
[LOG] index:  22 startts:  1697022730842 ts:  1697022730842 bytes:  1493 total time:  388
[LOG] index:  23 startts:  1697022730859 ts:  1697022730859 bytes:  1493 total time:  388
[LOG] index:  24 startts:  1697022730874 ts:  1697022730874 bytes:  1500 total time:  388
[LOG] index:  25 startts:  1697022730874 ts:  1697022730874 bytes:  426 total time:  388
[LOG] index:  0 start ts/size:  1697022730486 / 1442 id  1 end ts/size:  1697022730653 / 16243 id  11 chunk time:  167
[LOG] index:  1 start ts/size:  1697022730653 / 1493 id  11 end ts/size:  1697022730668 / 678 id  12 chunk time:  15
[LOG] index:  2 start ts/size:  1697022730668 / 1493 id  12 end ts/size:  1697022730685 / 1371 id  13 chunk time:  17
[LOG] index:  3 start ts/size:  1697022730685 / 1493 id  13 end ts/size:  1697022730700 / 1251 id  14 chunk time:  15
[LOG] index:  4 start ts/size:  1697022730700 / 1493 id  14 end ts/size:  1697022730716 / 1567 id  15 chunk time:  16
[LOG] index:  5 start ts/size:  1697022730716 / 1486 id  15 end ts/size:  1697022730716 / 1195 id  15 chunk time:  0
[LOG] index:  6 start ts/size:  1697022730732 / 1500 id  16 end ts/size:  1697022730747 / 1753 id  17 chunk time:  15
[LOG] index:  7 start ts/size:  1697022730747 / 1486 id  17 end ts/size:  1697022730747 / 1246 id  17 chunk time:  0
[LOG] index:  8 start ts/size:  1697022730764 / 1493 id  18 end ts/size:  1697022730764 / 1562 id  18 chunk time:  0
[LOG] index:  9 start ts/size:  1697022730779 / 1500 id  19 end ts/size:  1697022730795 / 1522 id  20 chunk time:  16
[LOG] index:  10 start ts/size:  1697022730795 / 1486 id  20 end ts/size:  1697022730795 / 1427 id  20 chunk time:  0
[LOG] index:  11 start ts/size:  1697022730811 / 1499 id  21 end ts/size:  1697022730811 / 1549 id  21 chunk time:  0
[LOG] index:  12 start ts/size:  1697022730827 / 1494 id  22 end ts/size:  1697022730842 / 1749 id  23 chunk time:  15
[LOG] index:  13 start ts/size:  1697022730842 / 1493 id  23 end ts/size:  1697022730859 / 2251 id  24 chunk time:  17
[LOG] index:  14 start ts/size:  1697022730859 / 1493 id  24 end ts/size:  1697022730874 / 2406 id  26 chunk time:  15
[LOG] flag  15
[LOG] fusion bytes time and bw  35902 388 740.2474226804123
[LOG] cur bw/size 0 740.2474226804123 35902
[LOG] real bw  740.2474226803918
[LOG] downbytes  37770 time:  408.1878446877781 true bw:  740 downloadtimeinms:  392 latency:  34
'pushing'
740
'now'
'chunk-stream1-00019'
[LOG] in thr, 658.8000000000001 38 1
[LOG] in load  1697022730880
'in abr rule coll, get all'
'SwitchRequest'
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00019.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 408.1878446877781,
  trace: [ { s: {}, d: 408.1878446877781, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader'
}
{
  switchHistory: [
    { start: 8.6925, end: 8.97998, quality: [Object] },
    { start: 8.97998, end: null, quality: [Object] }
  ],
  stallDurationMs: 511,
  numStalls: 2,
  averageLatency: 2.0596249999999996,
  averageBufferLength: 0.0895,
  currentLatency: 2.288,
  currentBufferLength: 0.317,
  throughputKbps: 732,
  throughputTimestampMs: 1697022730878,
  throughputhis: 740,
  currentTimeAbsolute: 1697022730.878,
  currentTimeRelative: 9.162122,
  segmentBitrateKbps: 600,
  playbackSpeed: 0.7935906380716686,
  segmentStallDurationMs: 253.59999999403954,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00019.m4s',
    startTime: 9,
    requestStartDate: 1697022730452,
    firstByteDate: 1697022730486,
    requestEndDate: 1697022730878,
    availabilityStartTime: 1697022728496,
    wallStartTime: 1697022737496,
    bytesLoaded: 37770,
    bytesTotal: 37770,
    delayLoadingTime: 1697022730452
  }
}
[
  {
    quality: 1,
    reason: { throughput: 658.8000000000001, latency: 38 },
    priority: 0.5,
    getClassName: {}
  }
]
[
  {
    quality: 1,
    reason: { throughput: 658.8000000000001, latency: 38 },
    priority: 0.5,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 658.8000000000001, latency: 38 },
  priority: 0.5,
  getClassName: {}
}
[LOG] in fetch  1697022730890
[LOG] flag  15
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00020.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 9.5,
    mediaStartTime: 9.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00020.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 19,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1697022730880,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00020.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
'Quality changed'
{
  mediaType: 'video',
  oldQuality: 2,
  newQuality: 1,
  streamId: '0',
  type: 'qualityChangeRendered'
}
[LOG] end==remain remain!!!!!!!!!!!!!!!!!!!!!!!!!!!  0
[LOG] end==remain remain!!!!!!!!!!!!!!!!!!!!!!!!!!!  0
[LOG] index:  0 startts:  1697022730880 ts:  1697022730907 bytes:  1442 total time:  408
[LOG] index:  1 startts:  1697022730922 ts:  1697022730922 bytes:  1500 total time:  408
[LOG] index:  2 startts:  1697022730937 ts:  1697022730937 bytes:  1500 total time:  408
[LOG] index:  3 startts:  1697022730953 ts:  1697022730953 bytes:  1500 total time:  408
[LOG] index:  4 startts:  1697022730969 ts:  1697022730969 bytes:  1500 total time:  408
[LOG] index:  5 startts:  1697022730984 ts:  1697022730984 bytes:  1500 total time:  408
[LOG] index:  6 startts:  1697022731001 ts:  1697022731001 bytes:  1500 total time:  408
[LOG] index:  7 startts:  1697022731018 ts:  1697022731018 bytes:  1500 total time:  408
[LOG] index:  8 startts:  1697022731033 ts:  1697022731033 bytes:  1500 total time:  408
[LOG] index:  9 startts:  1697022731048 ts:  1697022731048 bytes:  1500 total time:  408
[LOG] index:  10 startts:  1697022731064 ts:  1697022731064 bytes:  1500 total time:  408
[LOG] index:  11 startts:  1697022731079 ts:  1697022731079 bytes:  1500 total time:  408
[LOG] index:  12 startts:  1697022731096 ts:  1697022731096 bytes:  1486 total time:  408
[LOG] index:  13 startts:  1697022731111 ts:  1697022731111 bytes:  1493 total time:  408
[LOG] index:  14 startts:  1697022731126 ts:  1697022731126 bytes:  1493 total time:  408
[LOG] index:  15 startts:  1697022731143 ts:  1697022731143 bytes:  1493 total time:  408
[LOG] index:  16 startts:  1697022731159 ts:  1697022731159 bytes:  1493 total time:  408
[LOG] index:  17 startts:  1697022731188 ts:  1697022731188 bytes:  1493 total time:  408
[LOG] index:  18 startts:  1697022731204 ts:  1697022731204 bytes:  1493 total time:  408
[LOG] index:  19 startts:  1697022731220 ts:  1697022731220 bytes:  1493 total time:  408
[LOG] index:  20 startts:  1697022731236 ts:  1697022731236 bytes:  1488 total time:  408
[LOG] index:  21 startts:  1697022731252 ts:  1697022731252 bytes:  1498 total time:  408
[LOG] index:  22 startts:  1697022731268 ts:  1697022731268 bytes:  1493 total time:  408
[LOG] index:  23 startts:  1697022731283 ts:  1697022731283 bytes:  1493 total time:  408
[LOG] index:  24 startts:  1697022731298 ts:  1697022731298 bytes:  1493 total time:  408
[LOG] index:  25 startts:  1697022731315 ts:  1697022731315 bytes:  1500 total time:  408
[LOG] index:  26 startts:  1697022731315 ts:  1697022731315 bytes:  606 total time:  408
[LOG] index:  0 start ts/size:  1697022730907 / 1442 id  1 end ts/size:  1697022731096 / 18246 id  13 chunk time:  189
[LOG] index:  1 start ts/size:  1697022731096 / 1486 id  13 end ts/size:  1697022731096 / 678 id  13 chunk time:  0
[LOG] index:  2 start ts/size:  1697022731096 / 1486 id  13 end ts/size:  1697022731111 / 1131 id  14 chunk time:  15
[LOG] index:  3 start ts/size:  1697022731111 / 1493 id  14 end ts/size:  1697022731126 / 1127 id  15 chunk time:  15
[LOG] index:  4 start ts/size:  1697022731126 / 1493 id  15 end ts/size:  1697022731143 / 2067 id  16 chunk time:  17
[LOG] index:  5 start ts/size:  1697022731143 / 1493 id  16 end ts/size:  1697022731159 / 1169 id  17 chunk time:  16
[LOG] index:  6 start ts/size:  1697022731159 / 1493 id  17 end ts/size:  1697022731188 / 1317 id  18 chunk time:  29
[LOG] index:  7 start ts/size:  1697022731188 / 1493 id  18 end ts/size:  1697022731204 / 1530 id  19 chunk time:  16
[LOG] index:  8 start ts/size:  1697022731204 / 1493 id  19 end ts/size:  1697022731220 / 1370 id  20 chunk time:  16
[LOG] index:  9 start ts/size:  1697022731220 / 1493 id  20 end ts/size:  1697022731236 / 1289 id  21 chunk time:  16
[LOG] index:  10 start ts/size:  1697022731236 / 1488 id  21 end ts/size:  1697022731236 / 1443 id  21 chunk time:  0
[LOG] index:  11 start ts/size:  1697022731252 / 1498 id  22 end ts/size:  1697022731268 / 1513 id  23 chunk time:  16
[LOG] index:  12 start ts/size:  1697022731268 / 1493 id  23 end ts/size:  1697022731283 / 1795 id  24 chunk time:  15
[LOG] index:  13 start ts/size:  1697022731283 / 1493 id  24 end ts/size:  1697022731298 / 2098 id  25 chunk time:  15
[LOG] index:  14 start ts/size:  1697022731298 / 1493 id  25 end ts/size:  1697022731315 / 2677 id  27 chunk time:  17
[LOG] flag  15
[LOG] fusion bytes time and bw  37402 408 733.3725490196078
[LOG] cur bw/size 0 733.3725490196078 37402
[LOG] real bw  733.3725490195883
[LOG] downbytes  39450 time:  430.3406234954944 true bw:  733 downloadtimeinms:  413 latency:  27
[LOG] in thr, 659.1 34.333333333333336 1
'pushing'
733
'now'
'chunk-stream1-00020'
'in abr rule coll, get all'
'SwitchRequest'
[LOG] in load  1697022731323
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00020.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 430.3406234954944,
  trace: [ { s: {}, d: 430.3406234954944, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader'
}
{
  switchHistory: [
    { start: 8.6925, end: 8.97998, quality: [Object] },
    { start: 8.97998, end: 9.263947, quality: [Object] },
    { start: 9.263947, end: null, quality: [Object] }
  ],
  stallDurationMs: 511,
  numStalls: 2,
  averageLatency: 2.1496666666666666,
  averageBufferLength: 0.17325,
  currentLatency: 2.357,
  currentBufferLength: 0.452,
  throughputKbps: 732,
  throughputTimestampMs: 1697022731321,
  throughputhis: 733,
  currentTimeAbsolute: 1697022731.321,
  currentTimeRelative: 9.535514,
  segmentBitrateKbps: 600,
  playbackSpeed: 0.9362229668310165,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00020.m4s',
    startTime: 9.5,
    requestStartDate: 1697022730880,
    firstByteDate: 1697022730907,
    requestEndDate: 1697022731320,
    availabilityStartTime: 1697022728996,
    wallStartTime: 1697022738496,
    bytesLoaded: 39450,
    bytesTotal: 39450,
    delayLoadingTime: 1697022730880
  }
}
[
  {
    quality: 1,
    reason: { throughput: 659.1, latency: 34.333333333333336 },
    priority: 0.5,
    getClassName: {}
  }
]
[
  {
    quality: 1,
    reason: { throughput: 659.1, latency: 34.333333333333336 },
    priority: 0.5,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 659.1, latency: 34.333333333333336 },
  priority: 0.5,
  getClassName: {}
}
[LOG] in fetch  1697022731331
[LOG] flag  15
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 10,
    mediaStartTime: 10,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 20,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1697022731322,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] end==remain remain!!!!!!!!!!!!!!!!!!!!!!!!!!!  0
[LOG] index:  0 startts:  1697022731323 ts:  1697022731347 bytes:  1494 total time:  410
[LOG] index:  1 startts:  1697022731362 ts:  1697022731362 bytes:  1500 total time:  410
[LOG] index:  2 startts:  1697022731378 ts:  1697022731378 bytes:  1500 total time:  410
[LOG] index:  3 startts:  1697022731394 ts:  1697022731394 bytes:  1500 total time:  410
[LOG] index:  4 startts:  1697022731410 ts:  1697022731410 bytes:  1500 total time:  410
[LOG] index:  5 startts:  1697022731426 ts:  1697022731426 bytes:  1500 total time:  410
[LOG] index:  6 startts:  1697022731441 ts:  1697022731441 bytes:  1500 total time:  410
[LOG] index:  7 startts:  1697022731456 ts:  1697022731456 bytes:  1500 total time:  410
[LOG] index:  8 startts:  1697022731473 ts:  1697022731473 bytes:  1500 total time:  410
[LOG] index:  9 startts:  1697022731488 ts:  1697022731488 bytes:  1500 total time:  410
[LOG] index:  10 startts:  1697022731504 ts:  1697022731504 bytes:  1500 total time:  410
[LOG] index:  11 startts:  1697022731521 ts:  1697022731521 bytes:  1500 total time:  410
[LOG] index:  12 startts:  1697022731536 ts:  1697022731536 bytes:  1500 total time:  410
[LOG] index:  13 startts:  1697022731553 ts:  1697022731553 bytes:  1486 total time:  410
[LOG] index:  14 startts:  1697022731567 ts:  1697022731567 bytes:  1493 total time:  410
[LOG] index:  15 startts:  1697022731583 ts:  1697022731583 bytes:  1493 total time:  410
[LOG] index:  16 startts:  1697022731599 ts:  1697022731599 bytes:  1493 total time:  410
[LOG] index:  17 startts:  1697022731615 ts:  1697022731615 bytes:  1493 total time:  410
[LOG] index:  18 startts:  1697022731630 ts:  1697022731630 bytes:  1493 total time:  410
[LOG] index:  19 startts:  1697022731647 ts:  1697022731647 bytes:  1493 total time:  410
[LOG] index:  20 startts:  1697022731663 ts:  1697022731663 bytes:  1493 total time:  410
[LOG] index:  21 startts:  1697022731678 ts:  1697022731678 bytes:  1493 total time:  410
[LOG] index:  22 startts:  1697022731694 ts:  1697022731694 bytes:  1493 total time:  410
[LOG] index:  23 startts:  1697022731710 ts:  1697022731710 bytes:  1493 total time:  410
[LOG] index:  24 startts:  1697022731726 ts:  1697022731726 bytes:  1493 total time:  410
[LOG] index:  25 startts:  1697022731742 ts:  1697022731742 bytes:  1493 total time:  410
[LOG] index:  26 startts:  1697022731757 ts:  1697022731757 bytes:  1500 total time:  410
[LOG] index:  27 startts:  1697022731757 ts:  1697022731757 bytes:  235 total time:  410
[LOG] index:  0 start ts/size:  1697022731347 / 1494 id  1 end ts/size:  1697022731553 / 20308 id  14 chunk time:  206
[LOG] index:  1 start ts/size:  1697022731553 / 1486 id  14 end ts/size:  1697022731553 / 640 id  14 chunk time:  0
[LOG] index:  2 start ts/size:  1697022731567 / 1493 id  15 end ts/size:  1697022731567 / 1122 id  15 chunk time:  0
[LOG] index:  3 start ts/size:  1697022731567 / 1493 id  15 end ts/size:  1697022731583 / 1258 id  16 chunk time:  16
[LOG] index:  4 start ts/size:  1697022731583 / 1493 id  16 end ts/size:  1697022731599 / 1869 id  17 chunk time:  16
[LOG] index:  5 start ts/size:  1697022731599 / 1493 id  17 end ts/size:  1697022731615 / 1089 id  18 chunk time:  16
[LOG] index:  6 start ts/size:  1697022731615 / 1493 id  18 end ts/size:  1697022731630 / 1597 id  19 chunk time:  15
[LOG] index:  7 start ts/size:  1697022731630 / 1493 id  19 end ts/size:  1697022731647 / 1508 id  20 chunk time:  17
[LOG] index:  8 start ts/size:  1697022731647 / 1493 id  20 end ts/size:  1697022731663 / 1157 id  21 chunk time:  16
[LOG] index:  9 start ts/size:  1697022731663 / 1493 id  21 end ts/size:  1697022731678 / 1887 id  22 chunk time:  15
[LOG] index:  10 start ts/size:  1697022731678 / 1493 id  22 end ts/size:  1697022731694 / 1460 id  23 chunk time:  16
[LOG] index:  11 start ts/size:  1697022731694 / 1493 id  23 end ts/size:  1697022731710 / 1162 id  24 chunk time:  16
[LOG] index:  12 start ts/size:  1697022731710 / 1493 id  24 end ts/size:  1697022731726 / 2123 id  25 chunk time:  16
[LOG] index:  13 start ts/size:  1697022731726 / 1493 id  25 end ts/size:  1697022731742 / 1686 id  26 chunk time:  16
[LOG] index:  14 start ts/size:  1697022731757 / 1500 id  27 end ts/size:  1697022731757 / 1765 id  28 chunk time:  0
[LOG] flag  15
[LOG] fusion bytes time and bw  38902 410 759.0634146341464
[LOG] cur bw/size 0 759.0634146341464 38902
[LOG] real bw  759.063414634127
[LOG] downbytes  40631 time:  428.22245642842216 true bw:  759 downloadtimeinms:  415 latency:  24
[LOG] in thr, 669.6 31.75 1
'pushing'
759
'now'
'chunk-stream1-00021'
'in abr rule coll, get all'
'SwitchRequest'
[LOG] in load  1697022731765
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 428.22245642842216,
  trace: [ { s: {}, d: 428.22245642842216, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader'
}
{
  switchHistory: [
    { start: 8.6925, end: 8.97998, quality: [Object] },
    { start: 8.97998, end: 9.263947, quality: [Object] },
    { start: 9.263947, end: null, quality: [Object] }
  ],
  stallDurationMs: 511,
  numStalls: 2,
  averageLatency: 2.195466666666667,
  averageBufferLength: 0.22859999999999997,
  currentLatency: 2.389,
  currentBufferLength: 0.539,
  throughputKbps: 744,
  throughputTimestampMs: 1697022731763,
  throughputhis: 759,
  currentTimeAbsolute: 1697022731.763,
  currentTimeRelative: 9.946341,
  segmentBitrateKbps: 600,
  playbackSpeed: 0.9035759927356464,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00021.m4s',
    startTime: 10,
    requestStartDate: 1697022731323,
    firstByteDate: 1697022731347,
    requestEndDate: 1697022731762,
    availabilityStartTime: 1697022729496,
    wallStartTime: 1697022739496,
    bytesLoaded: 40631,
    bytesTotal: 40631,
    delayLoadingTime: 1697022731322
  }
}
[
  {
    quality: 1,
    reason: { throughput: 669.6, latency: 31.75 },
    priority: 0.5,
    getClassName: {}
  }
]
[
  {
    quality: 1,
    reason: { throughput: 669.6, latency: 31.75 },
    priority: 0.5,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 669.6, latency: 31.75 },
  priority: 0.5,
  getClassName: {}
}
[LOG] in fetch  1697022731774
'entering: '
[LOG] flag  15
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 10.5,
    mediaStartTime: 10.5,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 21,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1697022731765,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
[LOG] end==remain remain!!!!!!!!!!!!!!!!!!!!!!!!!!!  0
[LOG] index:  0 startts:  1697022731765 ts:  1697022731790 bytes:  1494 total time:  410
[LOG] index:  1 startts:  1697022731805 ts:  1697022731805 bytes:  1500 total time:  410
[LOG] index:  2 startts:  1697022731820 ts:  1697022731820 bytes:  1500 total time:  410
[LOG] index:  3 startts:  1697022731837 ts:  1697022731837 bytes:  1500 total time:  410
[LOG] index:  4 startts:  1697022731853 ts:  1697022731853 bytes:  1500 total time:  410
[LOG] index:  5 startts:  1697022731868 ts:  1697022731868 bytes:  1500 total time:  410
[LOG] index:  6 startts:  1697022731884 ts:  1697022731884 bytes:  1500 total time:  410
[LOG] index:  7 startts:  1697022731900 ts:  1697022731900 bytes:  1500 total time:  410
[LOG] index:  8 startts:  1697022731916 ts:  1697022731916 bytes:  1500 total time:  410
[LOG] index:  9 startts:  1697022731932 ts:  1697022731932 bytes:  1500 total time:  410
[LOG] index:  10 startts:  1697022731947 ts:  1697022731947 bytes:  1500 total time:  410
[LOG] index:  11 startts:  1697022731963 ts:  1697022731963 bytes:  1500 total time:  410
[LOG] index:  12 startts:  1697022731979 ts:  1697022731979 bytes:  1500 total time:  410
[LOG] index:  13 startts:  1697022731995 ts:  1697022731995 bytes:  1500 total time:  410
[LOG] index:  14 startts:  1697022732010 ts:  1697022732010 bytes:  1486 total time:  410
[LOG] index:  15 startts:  1697022732026 ts:  1697022732026 bytes:  1493 total time:  410
[LOG] index:  16 startts:  1697022732042 ts:  1697022732042 bytes:  1493 total time:  410
[LOG] index:  17 startts:  1697022732059 ts:  1697022732059 bytes:  1493 total time:  410
[LOG] index:  18 startts:  1697022732074 ts:  1697022732074 bytes:  1493 total time:  410
[LOG] index:  19 startts:  1697022732089 ts:  1697022732089 bytes:  1500 total time:  410
[LOG] index:  20 startts:  1697022732106 ts:  1697022732106 bytes:  1486 total time:  410
[LOG] index:  21 startts:  1697022732121 ts:  1697022732121 bytes:  1493 total time:  410
[LOG] index:  22 startts:  1697022732137 ts:  1697022732137 bytes:  1493 total time:  410
[LOG] index:  23 startts:  1697022732153 ts:  1697022732153 bytes:  1493 total time:  410
[LOG] index:  24 startts:  1697022732168 ts:  1697022732168 bytes:  1493 total time:  410
[LOG] index:  25 startts:  1697022732185 ts:  1697022732185 bytes:  1493 total time:  410
[LOG] index:  26 startts:  1697022732200 ts:  1697022732200 bytes:  1493 total time:  410
[LOG] index:  27 startts:  1697022732200 ts:  1697022732200 bytes:  851 total time:  410
[LOG] index:  0 start ts/size:  1697022731790 / 1494 id  1 end ts/size:  1697022732010 / 21659 id  15 chunk time:  220
[LOG] index:  1 start ts/size:  1697022732010 / 1486 id  15 end ts/size:  1697022732010 / 710 id  15 chunk time:  0
[LOG] index:  2 start ts/size:  1697022732010 / 1486 id  15 end ts/size:  1697022732026 / 1450 id  16 chunk time:  16
[LOG] index:  3 start ts/size:  1697022732026 / 1493 id  16 end ts/size:  1697022732042 / 1313 id  17 chunk time:  16
[LOG] index:  4 start ts/size:  1697022732042 / 1493 id  17 end ts/size:  1697022732059 / 1619 id  18 chunk time:  17
[LOG] index:  5 start ts/size:  1697022732059 / 1493 id  18 end ts/size:  1697022732074 / 1210 id  19 chunk time:  15
[LOG] index:  6 start ts/size:  1697022732074 / 1493 id  19 end ts/size:  1697022732106 / 2084 id  21 chunk time:  32
[LOG] index:  7 start ts/size:  1697022732106 / 1486 id  21 end ts/size:  1697022732106 / 923 id  21 chunk time:  0
[LOG] index:  8 start ts/size:  1697022732106 / 1486 id  21 end ts/size:  1697022732121 / 1959 id  22 chunk time:  15
[LOG] index:  9 start ts/size:  1697022732137 / 1493 id  23 end ts/size:  1697022732137 / 985 id  23 chunk time:  0
[LOG] index:  10 start ts/size:  1697022732137 / 1493 id  23 end ts/size:  1697022732153 / 1496 id  24 chunk time:  16
[LOG] index:  11 start ts/size:  1697022732153 / 1493 id  24 end ts/size:  1697022732168 / 1368 id  25 chunk time:  15
[LOG] index:  12 start ts/size:  1697022732168 / 1493 id  25 end ts/size:  1697022732185 / 1225 id  26 chunk time:  17
[LOG] index:  13 start ts/size:  1697022732185 / 1493 id  26 end ts/size:  1697022732200 / 1604 id  27 chunk time:  15
[LOG] index:  14 start ts/size:  1697022732200 / 1493 id  27 end ts/size:  1697022732200 / 1642 id  28 chunk time:  0
[LOG] flag  15
[LOG] fusion bytes time and bw  38902 410 759.0634146341464
[LOG] cur bw/size 0 759.0634146341464 38902
[LOG] real bw  759.063414634127
[LOG] downbytes  41247 time:  434.71466762578154 true bw:  759 downloadtimeinms:  415 latency:  25
[LOG] in thr, 675.3000000000001 27.5 1
'pushing'
759
'now'
'chunk-stream1-00022'
'in abr rule coll, get all'
'SwitchRequest'
[LOG] in load  1697022732207
{
  tcpid: null,
  type: 'MediaSegment',
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
  actualurl: null,
  range: null,
  trequest: {},
  tresponse: {},
  responsecode: 200,
  interval: 434.71466762578154,
  trace: [ { s: {}, d: 434.71466762578154, b: [Array] } ],
  cmsd: null,
  _stream: 'video',
  _tfinish: {},
  _mediaduration: 0.5,
  _quality: 1,
  _responseHeaders: 'flag: 15\r\n',
  _serviceLocation: 'http://166.111.138.128:9001/live/',
  _fileLoaderType: 'fetch_loader'
}
{
  switchHistory: [
    { start: 8.6925, end: 8.97998, quality: [Object] },
    { start: 8.97998, end: 9.263947, quality: [Object] },
    { start: 9.263947, end: null, quality: [Object] }
  ],
  stallDurationMs: 511,
  numStalls: 2,
  averageLatency: 2.218166666666667,
  averageBufferLength: 0.2667222222222222,
  currentLatency: 2.32,
  currentBufferLength: 0.495,
  throughputKbps: 750,
  throughputTimestampMs: 1697022732205,
  throughputhis: 759,
  currentTimeAbsolute: 1697022732.205,
  currentTimeRelative: 10.457815,
  segmentBitrateKbps: 600,
  playbackSpeed: 0.9553799602079405,
  segmentStallDurationMs: 0,
  requestInfo: {
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00022.m4s',
    startTime: 10.5,
    requestStartDate: 1697022731765,
    firstByteDate: 1697022731790,
    requestEndDate: 1697022732205,
    availabilityStartTime: 1697022729996,
    wallStartTime: 1697022740496,
    bytesLoaded: 41247,
    bytesTotal: 41247,
    delayLoadingTime: 1697022731765
  }
}
[
  {
    quality: 1,
    reason: { throughput: 675.3000000000001, latency: 27.5 },
    priority: 0.5,
    getClassName: {}
  }
]
[
  {
    quality: 1,
    reason: { throughput: 675.3000000000001, latency: 27.5 },
    priority: 0.5,
    getClassName: {}
  }
]
{
  quality: 1,
  reason: { throughput: 675.3000000000001, latency: 27.5 },
  priority: 0.5,
  getClassName: {}
}
[LOG] in fetch  1697022732216
[LOG] flag  15
'entering: '
{
  url: 'http://166.111.138.128:9001/live/chunk-stream1-00023.m4s',
  method: 'GET',
  withCredentials: false,
  request: {
    action: 'download',
    startTime: 11,
    mediaStartTime: 11,
    mediaType: 'video',
    mediaInfo: {
      id: 0,
      index: 0,
      type: 'video',
      streamInfo: [Object],
      representationCount: 6,
      labels: [],
      lang: 'und',
      viewpointsWithSchemeIdUri: [],
      accessibility: [],
      accessibilitiesWithSchemeIdUri: [],
      audioChannelConfiguration: [],
      audioChannelConfigurationsWithSchemeIdUri: [],
      roles: [],
      rolesWithSchemeIdUri: [],
      codec: 'video/mp4;codecs="avc1.64000d"',
      mimeType: 'video/mp4',
      contentProtection: null,
      isText: false,
      KID: null,
      bitrateList: [Array],
      isFragmented: true,
      isEmbedded: false,
      selectionPriority: 1,
      supplementalProperties: {},
      supplementalPropertiesAsArray: [],
      segmentAlignment: true,
      subSegmentAlignment: false
    },
    type: 'MediaSegment',
    duration: 0.5,
    timescale: 1000000,
    range: null,
    url: 'http://166.111.138.128:9001/live/chunk-stream1-00023.m4s',
    serviceLocation: 'http://166.111.138.128:9001/live/',
    requestStartDate: {},
    firstByteDate: null,
    requestEndDate: null,
    quality: 1,
    index: 22,
    availabilityStartTime: {},
    availabilityEndTime: null,
    wallStartTime: {},
    bytesLoaded: null,
    bytesTotal: null,
    delayLoadingTime: 1697022732207,
    responseType: 'arraybuffer',
    representationId: '1',
    availabilityTimeComplete: false,
    adaptationIndex: 0,
    queryParams: {}
  },
  onload: {},
  onend: {},
  onerror: {},
  progress: {},
  onabort: {},
  ontimeout: {},
  loader: {
    load: {},
    abort: {},
    calculateDownloadedTime: {},
    setup: {},
    getClassName: {}
  },
  timeout: 20000,
  headers: null,
  abortController: {},
  response: {
    status: 200,
    statusText: 'OK',
    responseURL: 'http://166.111.138.128:9001/live/chunk-stream1-00023.m4s',
    responseHeaders: 'flag: 15\r\n'
  },
  reader: {}
}
